:type: pluginIntro
:status: published
:title: Plugin Invocation
:plugintypes: general
:order: 9999

Plugins are called in a specific order during different operations. <<{developing-prefix}developing_catalog_plugins,Custom Plugins>> can be added to the chain for special use cases.

.Query Request Plugin Call Order
[ditaa,query_plugin_order,png]
....
+----------------------------------------------+
|/--------------\       |              cCCC    |
||Query         |       |                      |
||Request cDEF  |       |                      |
|\--------------/       v                      |
| /------------------------------------------\ |
| |     PreAuthorization.processPreQuery c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |       PolicyPlugin.processPreQuery   c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |       AccessPlugin.processPreQuery   c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |          PreQueryPlugin.process   c369   | |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |     PreFederatedQueryPlugin.process c369 | |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |    PostFederatedQueryPlugin.process c369 | |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |PolicyPlugin.processPostQuery.process c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |      AccessPlugin.processPostQuery   c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |         PostQueryPlugin.process   c369   | |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
+----------------------------------------------+

....

.Create Request Plugin Call Order
[ditaa,create_plugin_order,png]
....

+----------------------------------------------+
|/--------------\       |              cCCC    |
||Create        |       |                      |
||Request   cDEF|       |                      |
|\--------------/       v                      |
| /------------------------------------------\ |
| |    PreAuthorization.processPreCreate c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |       PolicyPlugin.processPreCreate  c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |      AccessPlugin.processPreCreate   c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |          PreIngestPlugin.process     c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |         PostIngestPlugin.process     c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
+----------------------------------------------+

....


.Update Request Plugin Call Order
[ditaa,update_plugin_order,png]
....
+----------------------------------------------+
|/--------------\       |              cCCC    |
||Update        |       |                      |
||Request cDEF  |       |                      |
|\--------------/       v                      |
| /------------------------------------------\ |
| |    PreAuthorization.processPreUpdate c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |       PolicyPlugin.processPreUpdate  c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |      AccessPlugin.processPreUpdate  c369 | |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |         PreIngestPlugin.process     c369 | |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |          PostIngestPlugin.process   c369 | |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
+----------------------------------------------+

....


.Delete Request Plugin Call Order
[ditaa,delete_plugin_order,png]
....
+----------------------------------------------+
|/--------------\       |              cCCC    |
||Delete        |       |                      |
||Request cDEF  |       |                      |
|\--------------/       v                      |
| /------------------------------------------\ |
| |    PreAuthorization.processPreDelete c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |       PolicyPlugin.processPreDelete  c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |      AccessPlugin.processPreDelete   c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |         PreIngestPlugin.process      c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |      PolicyPlugin.processPostDelete  c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |      AccessPlugin.processPostDelete  c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |         PostIngestPlugin.process   c369  | |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
+----------------------------------------------+

....

.Resource Request Plugin Call Order
[ditaa,resource_plugin_order,png]
....
+----------------------------------------------+
|/--------------\       |             cCCC     |
||Resource      |       |                      |
||Request cDEF  |       |                      |
|\--------------/       v                      |
| /------------------------------------------\ |
| |   PreAuthorization.processPreResourcec369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |     PolicyPlugin.processPreResource  c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |     AccessPlugin.processPostResource c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |        PreResourcePlugin.process     c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |     PolicyPlugin.processPostResource c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |     AccessPlugin.processPostResource c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |        PostResourcePlugin.process    c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
+----------------------------------------------+
....

.Storage Create Request Plugin Call Order
[ditaa,storage_create_plugin_order,png]
....
+----------------------------------------------+
|/--------------\       |              cCCC    |
||Storage Create|       |                      |
||Request cDEF  |       |                      |
|\--------------/       v                      |
| /------------------------------------------\ |
| |   PreAuthorization.processPreCreate  c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |      PreCreateStoragePlugin.process  c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |                See Create                | |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |      PostCreateStoragePlugin.process c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
+----------------------------------------------+

....

.Storage Update Request Plugin Call Order
[ditaa,storage_update_plugin_order,png]
....
+----------------------------------------------+
|/--------------\       |              cCCC    |
||Storage Update|       |                      |
||Request cDEF  |       |                      |
|\--------------/       v                      |
| /------------------------------------------\ |
| |    PreAuthorization.processPreUpdate c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |      PreUpdateStoragePlugin.process  c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |                 See Update               | |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
| /------------------------------------------\ |
| |      PostUpdateStoragePlugin.process c369| |
| \------------------------------------------/ |
|                       |                      |
|                       v                      |
+----------------------------------------------+

....

