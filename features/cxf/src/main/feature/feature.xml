<!--
/**
 * Copyright (c) Codice Foundation
 *
 * This is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either
 * version 3 of the License, or any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU Lesser General Public License for more details. A copy of the GNU Lesser General Public License is distributed along with this program and can be found at
 * <http://www.gnu.org/licenses/lgpl.html>.
 *
 **/
 -->

<!--
     NOTE: This features XML file uses the Karaf "install" attribute to specify whether a feature
     is automatically installed when an app's KAR file is hot deployed.

     Description of the install attribute from the Karaf features XSD:

     "Installation mode. Can be either manual or auto. Specifies whether the feature should be
     automatically installed when dropped inside the deploy folder. Note: This attribute doesn't
     affect feature descriptors that are installed from the command line or as part of the
     org.apache.karaf.features.cfg."
-->
<features xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          name="${project.artifactId}-${project.version}"
          xmlns="http://karaf.apache.org/xmlns/features/v1.3.0"
          xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.3.0 http://karaf.apache.org/xmlns/features/v1.3.0">

    <!--START CXF Features-->
    <!-- DO NOT EDIT
         All feature definitions come from 3rd party feature file:
         <repository>mvn:org.apache.cxf.karaf/apache-cxf/3.4.0/xml/features</repository>

         All version properties for these CXF features are defined in the ddf.features:features pom.

         DDF Changes made:
         - Changed cxf-http-jetty feature to only start the cxf-http feature and the cxf-rt-transports-http-jetty bundle
         - Commented out the following features due to dependency on activemq and mina:
             - cxf-http-provider
             - cxf-transports-udp
             - cxf-wsn
             - cxf-ws-discovery-api
             - cxf-ws-discovery
         - Changed features started by cxf feature by
             - Removing cxf-http-provider
             - Removing cxf-transports-udp
             - Adding cxf-http-jetty
         - Commented out cxf-http-client. CXF 3.4.0 uses jakarta.servlet-api 4.x, while Karaf still
           uses javax.servlet-api 3.x, and I couldn't figure out why but cxf-http-client won't
           start with the newer servlet version. It appears to be related to this:
           https://issues.apache.org/jira/browse/KARAF-6174.
           For now, CXF uses a version range of [0,4.1) for its servlet-api imports, so this
           should work
         - Commented out uses of the following specs, which DDF includes in the lib/ext directory
           and exposes via the system bundle. Installing them again would cause uses constraint
           violations.
             - jakarta.activation
             - jakarta.annotation-api
     DO NOT EDIT
     -->
    <feature name="cxf-specs" version="${cxf.version}">
        <bundle start-level="9">mvn:org.apache.geronimo.specs/geronimo-osgi-registry/1.1</bundle>
        <!--bundle start-level="10" dependency="true">mvn:com.sun.activation/jakarta.activation/${cxf.jakarta.activation.version}</bundle-->
        <!--bundle start-level="10" dependency="true">mvn:jakarta.annotation/jakarta.annotation-api/${cxf.javax.annotation-api.version}</bundle-->
        <bundle start-level="10" dependency="true">mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.stax-api-1.0/${cxf.servicemix.specs.version}</bundle>
        <bundle start-level="10" dependency="true">mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.jaxb-api-2.3/${cxf.servicemix.specs.jaxb.version}</bundle>
        <bundle start-level="10" dependency="true">mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.jaxws-api-2.3/${cxf.specs.jaxws.api.version}</bundle>
        <bundle start-level="10" dependency="true">mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.jaxrs-api-2.1/${cxf.servicemix.jaxrs.specs.version}</bundle>
        <bundle start-level="10" dependency="true">mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.saaj-api-1.4/1.4_1</bundle>
        <bundle start-level="10" dependency="true">mvn:jakarta.jws/jakarta.jws-api/1.1.1</bundle>
        <bundle start-level="10" dependency="true">mvn:jakarta.mail/jakarta.mail-api/${cxf.jakarta.mail.version}</bundle>
        <bundle start-level="20">mvn:org.codehaus.woodstox/stax2-api/${cxf.woodstox.stax2-api.version}</bundle>
        <bundle start-level="20">mvn:com.fasterxml.woodstox/woodstox-core/${cxf.woodstox.core.version}</bundle>
        <bundle start-level="20">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jaxb-runtime/${cxf.jaxb.bundle.version}</bundle>
        <bundle start-level="20">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jaxb-xjc/${cxf.jaxb.bundle.version}</bundle>
        <bundle start-level="20">mvn:com.sun.istack/istack-commons-runtime/${cxf.istack.bundle.version}</bundle>
    </feature>
    <feature name="cxf-jaxb" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-specs</feature>
        <feature version="${cxf.version}">cxf-wsdl</feature>
        <bundle start-level="20">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jaxb-runtime/${cxf.jaxb.bundle.version}</bundle>
        <bundle start-level="20">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jaxb-xjc/${cxf.jaxb.bundle.version}</bundle>
        <bundle start-level="20">mvn:com.sun.istack/istack-commons-runtime/${cxf.istack.bundle.version}</bundle>
    </feature>
    <!-- Current the abdera bundle is not working as we expect -->
    <feature name="cxf-abdera" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-specs</feature>
        <bundle start-level="25" dependency="true">mvn:commons-codec/commons-codec/${cxf.commons-codec.version}</bundle>
        <bundle start-level="35">mvn:org.apache.abdera/abdera-core/${cxf.abdera.version}</bundle>
        <bundle start-level="35">mvn:org.apache.abdera/abdera-extensions-main/${cxf.abdera.version}</bundle>
        <bundle start-level="35">mvn:org.apache.abdera/abdera-i18n/${cxf.abdera.version}</bundle>
        <bundle start-level="35">mvn:org.apache.james/apache-mime4j-core/${cxf.james.mim4j.version}</bundle>
        <bundle start-level="35">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.abdera-parser/${cxf.abdera.osgi.version}</bundle>
        <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jdom/${cxf.jdom.bundle.version}</bundle>
        <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.dom4j/${cxf.dom4j.bundle.version}</bundle>
        <!--bundle start-level='35'>mvn:org.apache.abdera/abdera-extensions-html/${cxf.abdera.version}</bundle>
        <bundle start-level='35'>mvn:org.apache.abdera/abdera-extensions-json/${cxf.abdera.version}</bundle>-->
    </feature>
    <feature name="saaj-impl" version="${cxf.saaj-impl.version}">
        <bundle start-level="25">mvn:org.jvnet.staxex/stax-ex/${cxf.stax-ex.version}</bundle>
        <!--bundle start-level="25">mvn:com.sun.xml.messaging.saaj/saaj-impl/${cxf.saaj-impl.version}</bundle-->
        <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.saaj-impl/${cxf.saaj-impl.version}</bundle>
    </feature>
    <feature name="wss4j" version="${cxf.wss4j.version}">
        <feature version="${cxf.version}">cxf-specs</feature>
        <feature version="${cxf.saaj-impl.version}">saaj-impl</feature>
        <bundle start-level="25" dependency="true">mvn:joda-time/joda-time/${cxf.joda.time.version}</bundle>
        <bundle start-level="25" dependency="true">mvn:commons-codec/commons-codec/${cxf.commons-codec.version}</bundle>
        <bundle start-level="25" dependency="true">mvn:org.apache.santuario/xmlsec/${cxf.xmlsec.bundle.version}</bundle>
        <bundle start-level="25" dependency="true">mvn:com.google.guava/failureaccess/1.0.1</bundle>
        <bundle start-level="25" dependency="true">mvn:com.google.guava/guava/${cxf.guava.version}</bundle>
        <bundle start-level="25" dependency='true'>mvn:io.dropwizard.metrics/metrics-core/${cxf.dropwizard3.version}</bundle>
        <bundle start-level="25" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.opensaml/${cxf.opensaml.osgi.version}</bundle>
        <bundle start-level="25">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xmlresolver/${cxf.xmlresolver.bundle.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xerces/${cxf.xerces.bundle.version}</bundle>
        <bundle start-level="30">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.bcel/${cxf.bcel.bundle.version}</bundle>
        <bundle start-level="30">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xalan/${cxf.xalan.bundle.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:org.apache.neethi/neethi/${cxf.neethi.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jasypt/${cxf.jasypt.bundle.version}</bundle>
        <bundle start-level="30">mvn:org.apache.wss4j/wss4j-bindings/${cxf.wss4j.version}</bundle>
        <bundle start-level="30">mvn:org.apache.wss4j/wss4j-ws-security-common/${cxf.wss4j.version}</bundle>
        <bundle start-level="30">mvn:org.apache.wss4j/wss4j-ws-security-dom/${cxf.wss4j.version}</bundle>
        <bundle start-level="30">mvn:org.apache.wss4j/wss4j-policy/${cxf.wss4j.version}</bundle>
        <bundle start-level="30">mvn:org.apache.wss4j/wss4j-ws-security-stax/${cxf.wss4j.version}</bundle>
        <bundle start-level="30">mvn:org.apache.wss4j/wss4j-ws-security-policy-stax/${cxf.wss4j.version}</bundle>
    </feature>
    <feature name="cxf-core" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-specs</feature>
        <bundle start-level="30" dependency="true">mvn:org.apache.ws.xmlschema/xmlschema-core/${cxf.xmlschema.version}</bundle>
        <bundle start-level="25" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xmlresolver/${cxf.xmlresolver.bundle.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.fastinfoset/${cxf.fastinfoset.bundle.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-core/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-management/${cxf.version}</bundle>
        <conditional>
            <condition>shell</condition>
            <feature version="${cxf.version}">cxf-commands</feature>
        </conditional>
    </feature>
    <feature name="cxf-commands" version="${cxf.version}">
        <feature>shell</feature>
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="40">mvn:org.apache.cxf.karaf/cxf-karaf-commands/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-wsdl" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.wsdl4j/${cxf.wsdl4j.bundle.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-wsdl/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-ws-policy" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-wsdl</feature>
        <bundle start-level="30" dependency="true">mvn:org.apache.neethi/neethi/${cxf.neethi.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-ws-policy/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-ws-addr" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-ws-policy</feature>
        <feature version="${cxf.version}">cxf-bindings-soap</feature>
        <feature version="${cxf.version}">cxf-databinding-jaxb</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-ws-addr/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-ws-rm" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-ws-policy</feature>
        <feature version="${cxf.version}">cxf-ws-addr</feature>
        <feature version="${cxf.version}">cxf-ws-security</feature>
        <feature version="${cxf.version}">cxf-databinding-jaxb</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-ws-rm/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-ws-mex" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-ws-policy</feature>
        <feature version="${cxf.version}">cxf-ws-addr</feature>
        <feature version="${cxf.version}">cxf-jaxws</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-ws-mex/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-ws-security" version="${cxf.version}">
        <feature prerequisite="true">wrap</feature>
        <feature version="${cxf.wss4j.version}">wss4j</feature>
        <feature version="${cxf.version}">cxf-rt-security-saml</feature>
        <feature version="${cxf.version}">cxf-ws-policy</feature>
        <feature version="${cxf.version}">cxf-ws-addr</feature>
        <bundle dependency="true">mvn:org.apache.geronimo.specs/geronimo-jta_1.1_spec/${cxf.geronimo.jta.version}</bundle>
        <bundle start-level="40" dependency="true">wrap:mvn:org.ehcache/ehcache/${cxf.ehcache3.version}$overwrite=merge&amp;Import-Package=javax.xml.bind*,*;resolution:=optional</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-ws-security/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-rt-security" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-security/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-rt-security-saml" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-rt-security</feature>
        <feature version="${cxf.wss4j.version}">wss4j</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-security-saml/${cxf.version}</bundle>
    </feature>
    <!--feature name="cxf-http-client" version="${cxf.version}">
        <!- Can be used instead cxf-http for a smaller footprint ->
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="40">mvn:${cxf.servlet-api.group}/${cxf.servlet-api.artifact}/${cxf.servlet-api.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-http/${cxf.version}</bundle>
    </feature-->

    <feature name="cxf-http" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <feature>http</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-http/${cxf.version}</bundle>
    </feature>
    <!--
      This feature can be used to depend on the feature providing a HttpDestinationFactory extension
      without depending on the actual provider (see cxf-wsn for example).
      It will install cxf-http-jetty by default, unless the user explicitly installs a different
      provider, such as cxf-http-undertow.
      -->
    <feature name="cxf-http-provider" version="${cxf.version}">
        <feature dependency="true" version="${cxf.version}">cxf-http-jetty</feature>
        <requirement>
            cxf.http.provider
        </requirement>
    </feature>
    <feature name="cxf-http-jetty" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-http</feature>
        <!--feature version="[9,11)">jetty</feature-->
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-http-jetty/${cxf.version}</bundle>
        <capability>
            cxf.http.provider;name=jetty
        </capability>
    </feature>
    <feature name="cxf-http-async" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-http</feature>
        <bundle start-level="40">mvn:org.apache.httpcomponents/httpcore-osgi/${cxf.httpcomponents.core.version}</bundle>
        <bundle start-level="40">mvn:org.apache.httpcomponents/httpclient-osgi/${cxf.httpcomponents.client.version}</bundle>
        <bundle start-level="40">mvn:org.apache.httpcomponents/httpasyncclient-osgi/${cxf.httpcomponents.asyncclient.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-http-hc/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-http-netty-client" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-http</feature>
        <bundle dependency="true" start-level="40">mvn:${cxf.servlet-api.group}/${cxf.servlet-api.artifact}/${cxf.servlet-api.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-common/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-handler/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-buffer/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-transport/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-resolver/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-codec/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-codec-http/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-http-netty-client/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-http-netty-server" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-http</feature>
        <bundle start-level="40">mvn:io.netty/netty-common/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-handler/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-buffer/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-transport/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-resolver/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-codec/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:io.netty/netty-codec-http/${cxf.netty.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-http-netty-server/${cxf.version}</bundle>
        <capability>
            cxf.http.provider;name=netty
        </capability>
    </feature>
    <feature name="cxf-http-undertow" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-http</feature>
        <feature>pax-http-undertow</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-http-undertow/${cxf.version}</bundle>
        <capability>
            cxf.http.provider;name=undertow
        </capability>
    </feature>
    <feature name="cxf-bindings-soap" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-wsdl</feature>
        <feature version="${cxf.saaj-impl.version}">saaj-impl</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-bindings-xml/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-bindings-soap/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-jaxws" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-wsdl</feature>
        <feature version="${cxf.version}">cxf-databinding-jaxb</feature>
        <feature version="${cxf.version}">cxf-bindings-soap</feature>
        <feature version="${cxf.version}">cxf-http</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-frontend-simple/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-frontend-jaxws/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-jaxrs" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <feature version="${cxf.version}">cxf-http</feature>
        <feature version="${cxf.version}">cxf-jackson</feature>
        <feature version="${cxf.version}">cxf-rt-security</feature>
        <bundle start-level="30" dependency="true">mvn:org.codehaus.jettison/jettison/${cxf.jettison.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-extension-providers/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-extension-search/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-json-basic/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-service-description/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-frontend-jaxrs/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-client/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-rs-security-xml" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-jaxrs</feature>
        <feature version="${cxf.version}">cxf-rt-security-saml</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-security-xml/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-rs-security-sso-saml" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-rs-security-xml</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-security-sso-saml/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-rs-security-cors" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-jaxrs</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-security-cors/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-rs-security-oauth" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-jaxrs</feature>
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.oauth-provider/${cxf.oauth.bundle.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-security-oauth/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-rs-security-jose" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-jaxrs</feature>
        <feature version="${cxf.version}">cxf-rt-security</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-json-basic/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-security-jose/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-security-jose-jaxrs/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-rs-security-oauth2" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-rs-security-jose</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-security-oauth2/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-jackson" version="${cxf.version}">
        <!-- Required by jackson-dataformat-yaml -->
        <bundle start-level="10" dependency="true">mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.jaxrs-api-2.1/${cxf.servicemix.jaxrs.specs.version}</bundle>
        <!--bundle start-level="10" dependency="true">mvn:jakarta.annotation/jakarta.annotation-api/${cxf.javax.annotation-api.version}</bundle-->
        <bundle start-level="35">mvn:org.yaml/snakeyaml/${cxf.snakeyaml.version}</bundle>
        <bundle start-level="35">mvn:com.fasterxml.jackson.core/jackson-core/${cxf.jackson.version}</bundle>
        <bundle start-level="35">mvn:com.fasterxml.jackson.core/jackson-annotations/${cxf.jackson.version}</bundle>
        <bundle start-level="35">mvn:com.fasterxml.jackson.core/jackson-databind/${cxf.jackson.databind.version}</bundle>
        <bundle start-level="35">mvn:com.fasterxml.jackson.dataformat/jackson-dataformat-yaml/${cxf.jackson.version}</bundle>
        <bundle start-level="35">mvn:com.fasterxml.jackson.jaxrs/jackson-jaxrs-base/${cxf.jackson.version}</bundle>
        <bundle start-level="35">mvn:com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider/${cxf.jackson.version}</bundle>
    </feature>
    <feature name="cxf-jsr-json" version="${cxf.version}">
        <bundle dependency="true" start-level="30">mvn:org.apache.aries.spifly/org.apache.aries.spifly.dynamic.bundle/${cxf.aries.fly.version}</bundle>
        <bundle dependency="true" start-level="35">mvn:org.apache.geronimo.specs/geronimo-json_1.1_spec/${cxf.geronimo.json.version}</bundle>
        <bundle start-level="35">mvn:org.apache.johnzon/johnzon-core/${cxf.johnzon.version}</bundle>
    </feature>
    <feature name="cxf-tracing-brave" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="35">mvn:io.zipkin.zipkin2/zipkin/${cxf.brave.zipkin.version}</bundle>
        <bundle start-level="35">mvn:io.zipkin.reporter2/zipkin-reporter/${cxf.brave.reporter.version}</bundle>
        <bundle start-level="35">mvn:io.zipkin.brave/brave/${cxf.brave.version}</bundle>
        <bundle start-level="35">mvn:io.zipkin.brave/brave-instrumentation-http/${cxf.brave.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-integration-tracing-brave/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-tracing-opentracing" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="35">wrap:mvn:io.opentracing/opentracing-api/${cxf.opentracing.version}</bundle>
        <bundle start-level="35">wrap:mvn:io.opentracing/opentracing-util/${cxf.opentracing.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-integration-tracing-opentracing/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-rs-description-swagger2" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-jaxrs</feature>
        <feature version="${cxf.version}">cxf-jackson</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-service-description-common-openapi/${cxf.version}</bundle>
        <bundle start-level="35">mvn:org.apache.cxf/cxf-rt-rs-service-description-swagger-ui/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-service-description-swagger/${cxf.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:com.fasterxml.jackson.datatype/jackson-datatype-jsr310/${cxf.jackson.version}</bundle>
        <bundle start-level="10" dependency="true">mvn:jakarta.validation/jakarta.validation-api/${cxf.validation.api.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:org.apache.commons/commons-lang3/${cxf.commons-lang3.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:org.javassist/javassist/${cxf.javassist.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.reflections/${cxf.reflections.bundle.version}</bundle>
        <bundle start-level="25" dependency="true">mvn:com.google.guava/guava/${cxf.swagger2.guava.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:io.swagger/swagger-annotations/${cxf.swagger2.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:io.swagger/swagger-models/${cxf.swagger2.version}</bundle>
        <bundle start-level="35" dependency="true">wrap:mvn:io.swagger/swagger-core/${cxf.swagger2.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:io.swagger/swagger-jaxrs/${cxf.swagger2.version}</bundle>
    </feature>
    <feature name="cxf-rs-description-openapi-v3" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-jaxrs</feature>
        <feature version="${cxf.version}">cxf-jackson</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-service-description-common-openapi/${cxf.version}</bundle>
        <bundle start-level="35">mvn:org.apache.cxf/cxf-rt-rs-service-description-swagger-ui/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-service-description-openapi-v3/${cxf.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:com.fasterxml.jackson.datatype/jackson-datatype-jsr310/${cxf.jackson.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:${cxf.servlet-api.group}/${cxf.servlet-api.artifact}/${cxf.servlet-api.version}</bundle>
        <bundle start-level="10" dependency="true">mvn:jakarta.validation/jakarta.validation-api/${cxf.validation.api.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:org.apache.commons/commons-lang3/${cxf.commons-lang3.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:io.github.classgraph/classgraph/${cxf.classgraph.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:org.javassist/javassist/${cxf.javassist.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:io.swagger.core.v3/swagger-annotations/${cxf.swagger.v3.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:io.swagger.core.v3/swagger-models/${cxf.swagger.v3.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:io.swagger.core.v3/swagger-core/${cxf.swagger.v3.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:io.swagger.core.v3/swagger-integration/${cxf.swagger.v3.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:io.swagger.core.v3/swagger-jaxrs2/${cxf.swagger.v3.version}</bundle>
    </feature>
    <feature name="cxf-databinding-aegis" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-wsdl</feature>
        <feature version="${cxf.version}">cxf-bindings-soap</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-databinding-aegis/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-databinding-jaxb" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <feature version="${cxf.version}">cxf-wsdl</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-databinding-jaxb/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-features-clustering" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-features-clustering/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-features-logging" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-features-logging/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-features-throttling" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-features-throttling/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-features-metrics" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="40" dependency='true'>mvn:io.dropwizard.metrics/metrics-core/${cxf.dropwizard4.version}</bundle>
        <bundle start-level="40" dependency='true'>mvn:io.dropwizard.metrics/metrics-jmx/${cxf.dropwizard4.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-features-metrics/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-bindings-corba" version="${cxf.version}">
        <feature prerequisite="true">wrap</feature>
        <feature version="${cxf.version}">cxf-wsdl</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-bindings-corba/${cxf.version}</bundle>
        <bundle start-level="40" dependency="true">wrap:mvn:org.jacorb/jacorb-omgapi/3.7</bundle>
    </feature>
    <feature name="cxf-bindings-coloc" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-bindings-coloc/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-transports-local" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-local/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-transports-jms" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <feature version="${cxf.version}">cxf-bindings-soap</feature>
        <bundle dependency="true">mvn:org.apache.geronimo.specs/geronimo-jta_1.1_spec/${cxf.geronimo.jta.version}</bundle>
        <bundle dependency="true">mvn:org.apache.geronimo.specs/geronimo-jms_1.1_spec/${cxf.geronimo.jms.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-jms/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-transports-udp" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <bundle dependency="true">mvn:org.apache.mina/mina-core/${cxf.mina.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-udp/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-transports-websocket-client" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-http</feature>
        <bundle dependency='true'>mvn:org.asynchttpclient/async-http-client/${cxf.ahc.version}</bundle>
        <bundle dependency='true'>mvn:org.asynchttpclient/async-http-client-netty-utils/${cxf.ahc.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-common/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-handler/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-buffer/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-transport/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-resolver/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-codec/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-codec-http/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-transport-native-epoll/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-transport-native-unix-common/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-transport-native-kqueue/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-handler-proxy/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:io.netty/netty-codec-socks/${cxf.netty.version}</bundle>
        <bundle dependency='true'>mvn:org.reactivestreams/reactive-streams/${cxf.reactivestreams.version}</bundle>
        <bundle dependency='true'>mvn:com.typesafe.netty/netty-reactive-streams/2.0.4</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-websocket/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-transports-websocket-server" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-http</feature>
        <bundle dependency='true'>mvn:org.atmosphere/atmosphere-runtime/${cxf.atmosphere.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-transports-websocket/${cxf.version}</bundle>
        <capability>
            cxf.http.provider;name=websocket
        </capability>
    </feature>
    <feature name="cxf-sse" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-http</feature>
        <feature version="${cxf.version}">cxf-jaxrs</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-sse/${cxf.version}</bundle>
        <capability>
            cxf.http.provider;name=sse
        </capability>
    </feature>
    <feature name="cxf-javascript" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <feature version="${cxf.version}">cxf-bindings-soap</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-javascript/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-frontend-javascript" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <feature version="${cxf.version}">cxf-jaxws</feature>
        <bundle start-level="40" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.rhino/${cxf.rhino.bundle.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-frontend-js/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-xjc-runtime" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-jaxb</feature>
        <bundle start-level="35" dependency="true">mvn:org.apache.commons/commons-lang3/${cxf.commons-lang3.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf.xjc-utils/cxf-xjc-runtime/${cxf.xjc-utils.version}</bundle>
    </feature>
    <feature name="cxf-tools" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <feature version="${cxf.version}">cxf-wsdl</feature>
        <feature version="${cxf.version}">cxf-databinding-jaxb</feature>
        <feature version="${cxf.version}">cxf-databinding-aegis</feature>
        <feature version="${cxf.version}">cxf-bindings-soap</feature>
        <feature version="${cxf.version}">cxf-jaxrs</feature>
        <feature version="${cxf.version}">cxf-jaxws</feature>
        <feature version="${cxf.version}">cxf-javascript</feature>
        <bundle start-level="35" dependency="true">mvn:org.apache.commons/commons-lang3/${cxf.commons-lang3.version}</bundle>
        <bundle start-level="35" dependency="true">mvn:org.apache.commons/commons-text/${cxf.commons-text.version}</bundle>
        <bundle dependency="true">mvn:org.apache.velocity/velocity-engine-core/${cxf.velocity.version}</bundle>
        <bundle dependency="true">mvn:commons-collections/commons-collections/${cxf.commons-collections.version}</bundle>
        <bundle>mvn:org.apache.cxf/cxf-tools-common/${cxf.version}</bundle>
        <bundle>mvn:org.apache.cxf/cxf-tools-java2ws/${cxf.version}</bundle>
        <bundle>mvn:org.apache.cxf/cxf-tools-misctools/${cxf.version}</bundle>
        <bundle>mvn:org.apache.cxf/cxf-tools-validator/${cxf.version}</bundle>
        <bundle>mvn:org.apache.cxf/cxf-tools-wadlto-jaxrs/${cxf.version}</bundle>
        <bundle>mvn:org.apache.cxf/cxf-tools-wsdlto-core/${cxf.version}</bundle>
        <bundle>mvn:org.apache.cxf/cxf-tools-wsdlto-databinding-jaxb/${cxf.version}</bundle>
        <bundle>mvn:org.apache.cxf/cxf-tools-wsdlto-frontend-javascript/${cxf.version}</bundle>
        <bundle>mvn:org.apache.cxf/cxf-tools-wsdlto-frontend-jaxws/${cxf.version}</bundle>
        <!-- need antlr
        <bundle>mvn:org.apache.cxf/cxf-tools-corba/${cxf.version}</bundle-->
    </feature>
    <feature name="cxf" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-core</feature>
        <feature version="${cxf.version}">cxf-jaxws</feature>
        <feature version="${cxf.version}">cxf-jaxrs</feature>
        <feature version="${cxf.version}">cxf-databinding-jaxb</feature>
        <feature version="${cxf.version}">cxf-databinding-aegis</feature>
        <feature version="${cxf.version}">cxf-bindings-corba</feature>
        <feature version="${cxf.version}">cxf-bindings-coloc</feature>
        <!--feature version="${cxf.version}">cxf-http-provider</feature-->
        <feature version="${cxf.version}">cxf-http-jetty</feature>
        <feature version="${cxf.version}">cxf-transports-local</feature>
        <feature version="${cxf.version}">cxf-transports-jms</feature>
        <!--feature version="${cxf.version}">cxf-transports-udp</feature-->
        <feature version="${cxf.version}">cxf-xjc-runtime</feature>
        <feature version="${cxf.version}">cxf-ws-security</feature>
        <feature version="${cxf.version}">cxf-ws-rm</feature>
        <feature version="${cxf.version}">cxf-ws-mex</feature>
        <feature version="${cxf.version}">cxf-javascript</feature>
        <feature version="${cxf.version}">cxf-frontend-javascript</feature>
        <feature version="${cxf.version}">cxf-features-clustering</feature>
        <feature version="${cxf.version}">cxf-features-metrics</feature>
        <feature version="${cxf.version}">cxf-features-throttling</feature>
        <feature version="${cxf.version}">cxf-features-logging</feature>

        <!-- tools really aren't needed in OSGi by default
        <feature version="${cxf.version}">cxf-tools</feature>
        -->
        <!-- need msv
        <bundle>mvn:org.apache.cxf/cxf-wstx-msv-validation/${cxf.version}</bundle-->
    </feature>
    <feature name="cxf-sts" version="${cxf.version}">
        <feature prerequisite="true">wrap</feature>
        <bundle start-level="40" dependency="true">mvn:com.hazelcast/hazelcast/${cxf.hazelcast.version}</bundle>
        <bundle start-level="40" dependency="true">wrap:mvn:org.ehcache/ehcache/${cxf.ehcache3.version}$overwrite=merge&amp;Import-Package=javax.xml.bind*,*;resolution:=optional</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-json-basic/${cxf.version}</bundle>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-rt-rs-security-jose/${cxf.version}</bundle>
        <feature version="${cxf.version}">cxf-core</feature>
        <feature version="${cxf.version}">cxf-ws-security</feature>
        <feature version="${cxf.version}">cxf-http</feature>
        <bundle>mvn:org.apache.cxf.services.sts/cxf-services-sts-core/${cxf.version}</bundle>
    </feature>
    <feature name="cxf-wsn-api" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-ws-addr</feature>
        <feature version="${cxf.version}">cxf-jaxws</feature>
        <bundle>mvn:org.apache.cxf.services.wsn/cxf-services-wsn-api/${cxf.version}</bundle>
    </feature>
    <!--feature name="cxf-wsn" version="${cxf.version}">
        <config name="org.apache.cxf.wsn">
            cxf.wsn.activemq = vm:localhost
            cxf.wsn.rootUrl = http://0.0.0.0:8182
            cxf.wsn.context = /wsn
            cxf.wsn.activemq.username = karaf
            cxf.wsn.activemq.password = karaf
        </config>
        <feature>spring</feature>
        <feature>aries-blueprint</feature>
        <feature version="${cxf.version}">cxf-wsn-api</feature>
        <feature version="${cxf.version}">cxf-http-provider</feature>
        <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.aopalliance/1.0_6</bundle>
        <bundle dependency="true">mvn:org.apache.geronimo.specs/geronimo-jms_1.1_spec/${cxf.geronimo.jms.version}</bundle>
        <bundle dependency="true">mvn:org.apache.geronimo.specs/geronimo-j2ee-management_1.1_spec/${cxf.geronimo.j2ee.management.version}</bundle>
        <bundle dependency="true">mvn:org.apache.activemq/activemq-osgi/${cxf.activemq.version}</bundle>
        <bundle>mvn:org.apache.cxf.services.wsn/cxf-services-wsn-core/${cxf.version}</bundle>
    </feature-->
    <!--feature name="cxf-ws-discovery-api" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-transports-udp</feature>
        <feature version="${cxf.version}">cxf-ws-addr</feature>
        <feature version="${cxf.version}">cxf-jaxws</feature>
        <feature>aries-blueprint</feature>
        <bundle>mvn:org.apache.cxf.services.ws-discovery/cxf-services-ws-discovery-api/${cxf.version}</bundle>
    </feature-->
    <!--feature name="cxf-ws-discovery" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-ws-discovery-api</feature>
        <bundle>mvn:org.apache.cxf.services.ws-discovery/cxf-services-ws-discovery-service/${cxf.version}</bundle>
    </feature-->

    <feature name="cxf-bean-validation-core" version="${cxf.version}">
        <!-- This feature has the wrong name; it's hibernate-only. Fix up in 3.2.0? Move all this to the
        hibernate-bean-validation-helper feature -->
        <bundle start-level="30" dependency="true">mvn:org.hibernate.validator/hibernate-validator/${cxf.hibernate.validator.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:jakarta.validation/jakarta.validation-api/${cxf.validation.api.version}</bundle>
        <!-- The servicemix bundle for hibernate demands joda-time -->
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.joda-time/${cxf.servicemix.jodatime.version}</bundle>
        <!-- The servicemix bundle for hibernate demands jsoup -->
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.jsoup/${cxf.servicemix.jsoup.version}</bundle>
        <!-- hibernate requires jboss-logging -->
        <bundle start-level="30" dependency="true">mvn:org.jboss.logging/jboss-logging/${cxf.jboss.logging.version}</bundle>
        <!-- ditto for classmate -->
        <bundle start-level="30" dependency="true">mvn:com.fasterxml/classmate/${cxf.classmate.version}</bundle>
        <!-- stax -->
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.stax-api-1.2/${cxf.servicemix.specs.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:org.codehaus.woodstox/stax2-api/${cxf.woodstox.stax2-api.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:com.fasterxml.woodstox/woodstox-core/${cxf.woodstox.core.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.cglib/${cxf.servicemix.cglib.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.aspectj/${cxf.servicemix.aspectj.version}</bundle>
    </feature>

    <feature name="cxf-bean-validation" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-bean-validation-core</feature>
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.javax-el-api-3.0.0/${cxf.servicemix.javax.el.version}</bundle>
        <bundle start-level="30" dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.javax-el-impl/${cxf.servicemix.javax.el.version}</bundle>
    </feature>

    <feature name="cxf-jaxrs-cdi" version="${cxf.version}">
        <feature version="${cxf.version}">cxf-jaxrs</feature>
        <feature>pax-cdi</feature>
        <bundle start-level="40">mvn:org.apache.cxf/cxf-integration-cdi/${cxf.version}</bundle>
    </feature>
    <!-- END CXF Features -->
</features>