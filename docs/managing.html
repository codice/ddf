<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="author" content="Version 2.15.0. Copyright (c) Codice Foundation">
<title>Managing</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Managing</h1>
<div class="details">
<span id="author" class="author">Version 2.15.0. Copyright (c) Codice Foundation</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_securing">1. Securing</a>
<ul class="sectlevel2">
<li><a href="#_security_hardening">1.1. Security Hardening</a></li>
<li><a href="#_auditing">1.2. Auditing</a>
<ul class="sectlevel3">
<li><a href="#_enabling_fallback_audit_logging">1.2.1. Enabling Fallback Audit Logging</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_installing">2. Installing</a>
<ul class="sectlevel2">
<li><a href="#_installation_prerequisites">2.1. Installation Prerequisites</a>
<ul class="sectlevel3">
<li><a href="#_hardware_requirements">2.1.1. Hardware Requirements</a></li>
<li><a href="#_java_requirements">2.1.2. Java Requirements</a></li>
<li><a href="#_java_requirements_2">2.1.3. Java Requirements</a></li>
</ul>
</li>
<li><a href="#_installing_with_the_ddf_distribution_zip">2.2. Installing With the DDF Distribution Zip</a>
<ul class="sectlevel3">
<li><a href="#_configuring_operating_permissions_and_allocations">2.2.1. Configuring Operating Permissions and Allocations</a>
<ul class="sectlevel4">
<li><a href="#_setting_directory_permissions">2.2.1.1. Setting Directory Permissions</a></li>
<li><a href="#_configuring_memory_allocation_for_the_ddf_java_virtual_machine">2.2.1.2. Configuring Memory Allocation for the DDF Java Virtual Machine</a></li>
<li><a href="#_enabling_jmx">2.2.1.3. Enabling JMX</a></li>
<li><a href="#_configuring_memory_for_the_solr_server">2.2.1.4. Configuring Memory for the Solr Server</a></li>
</ul>
</li>
<li><a href="#_managing_keystores_and_certificates">2.2.2. Managing Keystores and Certificates</a>
<ul class="sectlevel4">
<li><a href="#_managing_keystores">2.2.2.1. Managing Keystores</a>
<ul class="sectlevel5">
<li><a href="#_adding_an_existing_server_keystore">2.2.2.1.1. Adding an Existing Server Keystore</a></li>
<li><a href="#_adding_an_existing_server_truststore">2.2.2.1.2. Adding an Existing Server Truststore</a></li>
<li><a href="#_creating_a_new_keystore_truststore_with_an_existing_certificate_and_private_key">2.2.2.1.3. Creating a New Keystore/Truststore with an Existing Certificate and Private Key</a></li>
<li><a href="#_updating_key_store_trust_store_via_the_admin_console">2.2.2.1.4. Updating Key Store / Trust Store via the Admin Console</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_initial_startup">2.3. Initial Startup</a>
<ul class="sectlevel3">
<li><a href="#_verifying_startup">2.3.1. Verifying Startup</a></li>
<li><a href="#_ddf_directory_contents_after_installation_and_initial_startup">2.3.2. DDF Directory Contents after Installation and Initial Startup</a></li>
<li><a href="#_completing_installation">2.3.3. Completing Installation</a>
<ul class="sectlevel4">
<li><a href="#_completing_installation_from_the_admin_console">2.3.3.1. Completing Installation from the Admin Console</a></li>
<li><a href="#_completing_installation_from_the_command_console">2.3.3.2. Completing Installation from the Command Console</a>
<ul class="sectlevel5">
<li><a href="#_configuring_guest_claim_attributes">2.3.3.2.1. Configuring Guest Claim Attributes</a></li>
<li><a href="#_system_configuration_settings">2.3.3.2.2. System Configuration Settings</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_firewall_port_configuration">2.3.4. Firewall Port Configuration</a></li>
<li><a href="#_internet_explorer_11_enhanced_security_configuration">2.3.5. Internet Explorer 11 Enhanced Security Configuration</a></li>
</ul>
</li>
<li><a href="#_high_availability_initial_setup">2.4. High Availability Initial Setup</a>
<ul class="sectlevel3">
<li><a href="#_high_availability_initial_setup_exceptions">2.4.1. High Availability Initial Setup Exceptions</a>
<ul class="sectlevel4">
<li><a href="#_failover_proxy_integration">2.4.1.1. Failover Proxy Integration</a></li>
<li><a href="#_identical_directory_structures">2.4.1.2. Identical Directory Structures</a></li>
<li><a href="#_highly_available_security_auditing">2.4.1.3. Highly Available Security Auditing</a></li>
<li><a href="#_shared_storage_provider">2.4.1.4. Shared Storage Provider</a></li>
<li><a href="#_high_availability_certificates">2.4.1.5. High Availability Certificates</a></li>
<li><a href="#_high_availability_installation_profile">2.4.1.6. High Availability Installation Profile</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_configuring">3. Configuring</a>
<ul class="sectlevel2">
<li><a href="#_admin_console_tutorial">3.1. Admin Console Tutorial</a></li>
<li><a href="#_console_command_reference">3.2. Console Command Reference</a>
<ul class="sectlevel3">
<li><a href="#_feature_commands">3.2.1. Feature Commands</a>
<ul class="sectlevel4">
<li><a href="#_uninstalling_features_from_the_command_console">3.2.1.1. Uninstalling Features from the Command Console</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_configuration_files">3.3. Configuration Files</a>
<ul class="sectlevel3">
<li><a href="#_configuring_global_settings_with_custom_system_properties">3.3.1. Configuring Global Settings with custom.system.properties</a></li>
<li><a href="#_configuring_with_config_files">3.3.2. Configuring with .config Files</a></li>
</ul>
</li>
<li><a href="#_configuring_user_access">3.4. Configuring User Access</a>
<ul class="sectlevel3">
<li><a href="#_configuring_guest_access">3.4.1. Configuring Guest Access</a>
<ul class="sectlevel4">
<li><a href="#_denying_guest_user_access">3.4.1.1. Denying Guest User Access</a></li>
<li><a href="#_allowing_guest_user_access">3.4.1.2. Allowing Guest User Access</a>
<ul class="sectlevel5">
<li><a href="#_configuring_guest_interceptor_if_allowing_guest_users">3.4.1.2.1. Configuring Guest Interceptor if Allowing Guest Users</a></li>
<li><a href="#_configuring_guest_claim_attributes_2">3.4.1.2.2. Configuring Guest Claim Attributes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_configuring_rest_services_for_users">3.4.2. Configuring REST Services for Users</a>
<ul class="sectlevel4">
<li><a href="#_configuring_included_identity_provider">3.4.2.1. Configuring Included Identity Provider</a>
<ul class="sectlevel5">
<li><a href="#_configuring_included_sts">3.4.2.1.1. Configuring Included STS</a></li>
</ul>
</li>
<li><a href="#_connecting_to_an_external_identity_provider">3.4.2.2. Connecting to an External Identity Provider</a></li>
<li><a href="#_configuring_without_an_identity_provider">3.4.2.3. Configuring Without an Identity Provider</a>
<ul class="sectlevel5">
<li><a href="#_using_sts_without_idp">3.4.2.3.1. Using STS without IdP</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_configuring_soap_services_for_users">3.4.3. Configuring SOAP Services for Users</a>
<ul class="sectlevel4">
<li><a href="#_connecting_to_included_sts_with_soap">3.4.3.1. Connecting to Included STS with SOAP</a></li>
</ul>
</li>
<li><a href="#_connecting_to_an_ldap_server">3.4.4. Connecting to an LDAP Server</a></li>
<li><a href="#_updating_system_users">3.4.5. Updating System Users</a></li>
<li><a href="#_restricting_access_to_admin_console">3.4.6. Restricting Access to Admin Console</a>
<ul class="sectlevel4">
<li><a href="#_restricting_feature_app_service_and_configuration_access">3.4.6.1. Restricting Feature, App, Service, and Configuration Access</a></li>
</ul>
</li>
<li><a href="#_removing_default_users">3.4.7. Removing Default Users</a></li>
<li><a href="#_disallowing_login_without_certificates">3.4.8. Disallowing Login Without Certificates</a></li>
<li><a href="#_managing_certificate_revocation">3.4.9. Managing Certificate Revocation</a>
<ul class="sectlevel4">
<li><a href="#_managing_a_certificate_revocation_list_crl">3.4.9.1. Managing a Certificate Revocation List (CRL)</a>
<ul class="sectlevel5">
<li><a href="#_creating_a_crl">3.4.9.1.1. Creating a CRL</a>
<ul class="sectlevel6">
<li><a href="#_revoke_a_certificate_and_create_a_new_crl_that_contains_the_revoked_certificate">Revoke a Certificate and Create a New CRL that Contains the Revoked Certificate</a></li>
<li><a href="#_viewing_a_crl">Viewing a CRL</a></li>
</ul>
</li>
<li><a href="#_enabling_certificate_revocation">3.4.9.1.2. Enabling Certificate Revocation</a>
<ul class="sectlevel6">
<li><a href="#_add_revocation_to_a_web_context">Add Revocation to a Web Context</a></li>
<li><a href="#_adding_revocation_to_an_endpoint">Adding Revocation to an Endpoint</a></li>
<li><a href="#_verifying_revocation">Verifying Revocation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_managing_an_online_certificate_status_protocol_ocsp_server">3.4.9.2. Managing an Online Certificate Status Protocol (OCSP) Server</a>
<ul class="sectlevel5">
<li><a href="#_enabling_ocsp_revocation">3.4.9.2.1. Enabling OCSP Revocation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_configuring_data_management">3.5. Configuring Data Management</a>
<ul class="sectlevel3">
<li><a href="#_configuring_solr">3.5.1. Configuring Solr</a>
<ul class="sectlevel4">
<li><a href="#_configuring_solr_catalog_provider_synonyms">3.5.1.1. Configuring Solr Catalog Provider Synonyms</a>
<ul class="sectlevel5">
<li><a href="#_defining_synonym_rules_in_the_solr_provider">3.5.1.1.1. Defining synonym rules in the Solr Provider</a></li>
</ul>
</li>
<li><a href="#_hardening_solr">3.5.1.2. Hardening Solr</a>
<ul class="sectlevel5">
<li><a href="#_hardening_solr_server_configuration">3.5.1.2.1. Hardening Solr Server Configuration</a></li>
<li><a href="#_solr_server_password_management">3.5.1.2.2. Solr Server Password Management</a>
<ul class="sectlevel6">
<li><a href="#_do_not_autogenerate_a_solr_password">Do not Autogenerate a Solr Password</a></li>
<li><a href="#_change_the_password_to_a_specific_string">Change the Password to a Specific String</a></li>
<li><a href="#_restore_the_default_password_in_solr">Restore the Default Password in Solr</a></li>
<li><a href="#_removing_basic_authentication_from_solr">Removing Basic Authentication from Solr</a></li>
</ul>
</li>
<li><a href="#_configuring_solr_encryption">3.5.1.2.3. Configuring Solr Encryption</a></li>
</ul>
</li>
<li><a href="#_accessing_the_solr_admin_ui">3.5.1.3. Accessing the Solr Admin UI</a>
<ul class="sectlevel5">
<li><a href="#_configuring_a_browser_to_access_solr_admin_ui">3.5.1.3.1. Configuring a Browser to Access Solr Admin UI</a></li>
<li><a href="#_using_ddf_keystores">3.5.1.3.2. Using DDF Keystores</a></li>
<li><a href="#_solr_admin_ui_s_url">3.5.1.3.3. Solr Admin UI&#8217;s URL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_changing_catalog_providers">3.5.2. Changing Catalog Providers</a></li>
<li><a href="#_changing_hostname">3.5.3. Changing Hostname</a></li>
<li><a href="#_configuring_errors_and_warnings">3.5.4. Configuring Errors and Warnings</a>
<ul class="sectlevel4">
<li><a href="#_enforcing_errors_or_warnings">3.5.4.1. Enforcing Errors or Warnings</a></li>
<li><a href="#_hiding_errors_or_warnings_from_queries">3.5.4.2. Hiding Errors or Warnings from Queries</a></li>
<li><a href="#_hiding_errors_and_warnings_from_users_based_on_role">3.5.4.3. Hiding Errors and Warnings from Users Based on Role</a></li>
</ul>
</li>
<li><a href="#_content_directory_monitor">3.5.5. Content Directory Monitor</a>
<ul class="sectlevel4">
<li><a href="#_installing_the_content_directory_monitor">3.5.5.1. Installing the Content Directory Monitor</a></li>
<li><a href="#_configuring_permissions_for_the_content_directory_monitor">3.5.5.2. Configuring Permissions for the Content Directory Monitor</a></li>
<li><a href="#_configuring_the_content_directory_monitor">3.5.5.3. Configuring the Content Directory Monitor</a></li>
<li><a href="#_using_the_content_directory_monitor">3.5.5.4. Using the Content Directory Monitor</a></li>
</ul>
</li>
<li><a href="#_configuring_system_usage_message">3.5.6. Configuring System Usage Message</a></li>
<li><a href="#_configuring_data_policy_plugins">3.5.7. Configuring Data Policy Plugins</a>
<ul class="sectlevel4">
<li><a href="#_configuring_the_metacard_attribute_security_policy_plugin">3.5.7.1. Configuring the Metacard Attribute Security Policy Plugin</a></li>
<li><a href="#_configuring_the_metacard_validation_marker_plugin">3.5.7.2. Configuring the Metacard Validation Marker Plugin</a></li>
<li><a href="#_configuring_the_metacard_validity_filter_plugin">3.5.7.3. Configuring the Metacard Validity Filter Plugin</a></li>
<li><a href="#_configuring_the_xml_attribute_security_policy_plugin">3.5.7.4. Configuring the XML Attribute Security Policy Plugin</a></li>
</ul>
</li>
<li><a href="#_configuring_data_access_plugins">3.5.8. Configuring Data Access Plugins</a>
<ul class="sectlevel4">
<li><a href="#_configuring_the_security_audit_plugin">3.5.8.1. Configuring the Security Audit Plugin</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_configuring_security_policies">3.6. Configuring Security Policies</a>
<ul class="sectlevel3">
<li><a href="#_configuring_the_web_context_policy_manager">3.6.1. Configuring the Web Context Policy Manager</a>
<ul class="sectlevel4">
<li><a href="#_authentication_types">3.6.1.1. Authentication Types</a></li>
<li><a href="#_required_attributes">3.6.1.2. Required Attributes</a></li>
<li><a href="#_white_listed_contexts">3.6.1.3. White Listed Contexts</a></li>
</ul>
</li>
<li><a href="#_configuring_catalog_filtering_policies">3.6.2. Configuring Catalog Filtering Policies</a>
<ul class="sectlevel4">
<li><a href="#_setting_internal_policies">3.6.2.1. Setting Internal Policies</a></li>
<li><a href="#_setting_xacml_policies">3.6.2.2. Setting XACML Policies</a></li>
<li><a href="#_catalog_filter_policy_plugins">3.6.2.3. Catalog Filter Policy Plugins</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_configuring_user_interfaces">3.7. Configuring User Interfaces</a>
<ul class="sectlevel3">
<li><a href="#_configuring_intrigue">3.7.1. Configuring Intrigue</a>
<ul class="sectlevel4">
<li><a href="#_configuring_default_layout_for_intrigue">3.7.1.1. Configuring Default Layout for Intrigue</a></li>
<li><a href="#_configuring_map_layers_for_intrigue">3.7.1.2. Configuring Map Layers for Intrigue</a></li>
<li><a href="#_map_configuration_for_intrigue">3.7.1.3. Map Configuration for Intrigue</a></li>
<li><a href="#_configuring_user_access_to_ingest_and_metadata_for_intrigue">3.7.1.4. Configuring User Access to Ingest and Metadata for Intrigue</a></li>
<li><a href="#_configuring_the_intrigue_upload_editor">3.7.1.5. Configuring the Intrigue Upload Editor</a></li>
<li><a href="#_configuring_search_options_for_intrigue">3.7.1.6. Configuring Search Options for Intrigue</a></li>
<li><a href="#_configuring_query_feedback_for_intrigue">3.7.1.7. Configuring Query Feedback for Intrigue</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_configuring_federation">3.8. Configuring Federation</a>
<ul class="sectlevel3">
<li><a href="#_enable_ssl_for_clients">3.8.1. Enable SSL for Clients</a></li>
<li><a href="#_configuring_http_s_ports">3.8.2. Configuring HTTP(S) Ports</a></li>
<li><a href="#_configuring_http_proxy">3.8.3. Configuring HTTP Proxy</a></li>
<li><a href="#_federation_strategy">3.8.4. Federation Strategy</a>
<ul class="sectlevel4">
<li><a href="#_configuring_federation_strategy">3.8.4.1. Configuring Federation Strategy</a>
<ul class="sectlevel5">
<li><a href="#_catalogFederationStrategy">3.8.4.1.1. Catalog Federation Strategy</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_connecting_to_sources">3.8.5. Connecting to Sources</a>
<ul class="sectlevel4">
<li><a href="#_federated_source_for_atlassian_confluence_r">3.8.5.1. Federated Source for Atlassian Confluence(R)</a></li>
<li><a href="#_csw_specification_profile_federated_source">3.8.5.2. CSW Specification Profile Federated Source</a></li>
<li><a href="#_csw_federation_profile_source">3.8.5.3. CSW Federation Profile Source</a></li>
<li><a href="#_content_file_system_storage_provider">3.8.5.4. Content File System Storage Provider</a></li>
<li><a href="#_gmd_csw_source">3.8.5.5. GMD CSW Source</a></li>
<li><a href="#_opensearch_source">3.8.5.6. OpenSearch Source</a></li>
<li><a href="#_registry_store">3.8.5.7. Registry Store</a></li>
<li><a href="#_solr_catalog_provider">3.8.5.8. Solr Catalog Provider</a></li>
<li><a href="#_wfs_1_0_source">3.8.5.9. WFS 1.0 Source</a></li>
<li><a href="#_wfs_1_1_source">3.8.5.10. WFS 1.1 Source</a></li>
<li><a href="#_wfs_2_0_source">3.8.5.11. WFS 2.0 Source</a></li>
</ul>
</li>
<li><a href="#_configuring_endpoints">3.8.6. Configuring Endpoints</a>
<ul class="sectlevel4">
<li><a href="#_configuring_catalog_rest_endpoint">3.8.6.1. Configuring Catalog REST Endpoint</a></li>
<li><a href="#_configuring_csw_endpoint">3.8.6.2. Configuring CSW Endpoint</a></li>
<li><a href="#_configuring_ftp_endpoint">3.8.6.3. Configuring FTP Endpoint</a></li>
<li><a href="#_configuring_kml_endpoint">3.8.6.4. Configuring KML Endpoint</a></li>
<li><a href="#_configuring_opensearch_endpoint">3.8.6.5. Configuring OpenSearch Endpoint</a></li>
<li><a href="#_configuring_wps_endpoint">3.8.6.6. Configuring WPS Endpoint</a></li>
<li><a href="#_compression_services">3.8.6.7. Compression Services</a></li>
</ul>
</li>
<li><a href="#_federating_through_a_registry">3.8.7. Federating Through a Registry</a>
<ul class="sectlevel4">
<li><a href="#_configuring_identity_node">3.8.7.1. Configuring Identity Node</a>
<ul class="sectlevel5">
<li><a href="#_adding_a_service_binding_to_a_node">3.8.7.1.1. Adding a Service Binding to a Node</a></li>
</ul>
</li>
<li><a href="#_publishing_to_other_nodes">3.8.7.2. Publishing to Other Nodes</a></li>
<li><a href="#_subscribing_to_another_node">3.8.7.3. Subscribing to Another Node</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_environment_hardening">3.9. Environment Hardening</a>
<ul class="sectlevel3">
<li><a href="#_known_issues_with_environment_hardening">3.9.1. Known Issues with Environment Hardening</a></li>
</ul>
</li>
<li><a href="#_configuring_for_special_deployments">3.10. Configuring for Special Deployments</a>
<ul class="sectlevel3">
<li><a href="#_multiple_installations">3.10.1. Multiple Installations</a>
<ul class="sectlevel4">
<li><a href="#_reusing_configurations">3.10.1.1. Reusing Configurations</a></li>
<li><a href="#_isolating_solr_cloud_and_zookeeper">3.10.1.2. Isolating Solr Cloud and Zookeeper</a></li>
</ul>
</li>
<li><a href="#_configuring_for_a_fanout_proxy">3.10.2. Configuring for a Fanout Proxy</a></li>
<li><a href="#_standalone_security_token_service_sts_installation">3.10.3. Standalone Security Token Service (STS) Installation</a></li>
<li><a href="#_configuring_for_a_highly_available_cluster">3.10.4. Configuring for a Highly Available Cluster</a></li>
</ul>
</li>
<li><a href="#_configuring_ui_themes">3.11. Configuring UI Themes</a>
<ul class="sectlevel3">
<li><a href="#_landing_page">3.11.1. Landing Page</a>
<ul class="sectlevel4">
<li><a href="#_installing_the_landing_page">3.11.1.1. Installing the Landing Page</a></li>
<li><a href="#_configuring_the_landing_page">3.11.1.2. Configuring the Landing Page</a></li>
<li><a href="#_customizing_the_landing_page">3.11.1.3. Customizing the Landing Page</a></li>
</ul>
</li>
<li><a href="#_configuring_logout_page">3.11.2. Configuring Logout Page</a></li>
<li><a href="#_platform_ui_themes">3.11.3. Platform UI Themes</a>
<ul class="sectlevel4">
<li><a href="#_navigating_to_ui_theme_configuration">3.11.3.1. Navigating to UI Theme Configuration</a></li>
<li><a href="#_customizing_the_ui_theme">3.11.3.2. Customizing the UI Theme</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_miscellaneous_configurations">3.12. Miscellaneous Configurations</a>
<ul class="sectlevel3">
<li><a href="#_configuring_thread_pools">3.12.1. Configuring Thread Pools</a></li>
<li><a href="#_configuring_jetty_threadpool_settings">3.12.2. Configuring Jetty ThreadPool Settings</a></li>
<li><a href="#_configuring_alerts">3.12.3. Configuring Alerts</a>
<ul class="sectlevel4">
<li><a href="#_configuring_decanter_service_level_agreement_sla_checker">3.12.3.1. Configuring Decanter Service Level Agreement (SLA) Checker</a></li>
<li><a href="#_configuring_decanter_scheduler">3.12.3.2. Configuring Decanter Scheduler</a></li>
</ul>
</li>
<li><a href="#_encrypting_passwords">3.12.4. Encrypting Passwords</a>
<ul class="sectlevel4">
<li><a href="#_encryption_command">3.12.4.1. Encryption Command</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_running">4. Running</a>
<ul class="sectlevel2">
<li><a href="#_starting">4.1. Starting</a>
<ul class="sectlevel3">
<li><a href="#_run_ddf_as_a_managed_service">4.1.1. Run DDF as a Managed Service</a>
<ul class="sectlevel4">
<li><a href="#_running_as_a_service_with_automatic_start_on_system_boot">4.1.1.1. Running as a Service with Automatic Start on System Boot</a></li>
<li><a href="#_karaf_documentation">4.1.1.2. Karaf Documentation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_managed_services">4.2. Managed Services</a>
<ul class="sectlevel3">
<li><a href="#_run_solr_as_managed_service">4.2.1. Run Solr as Managed Service</a>
<ul class="sectlevel4">
<li><a href="#_configure_solr_as_a_windows_service">4.2.1.1. Configure Solr as a Windows Service</a></li>
<li><a href="#_configure_solr_as_a_systemd_service">4.2.1.2. Configure Solr as a Systemd Service</a></li>
</ul>
</li>
<li><a href="#_starting_from_startup_scripts">4.2.2. Starting from Startup Scripts</a></li>
<li><a href="#_starting_as_a_background_process">4.2.3. Starting as a Background Process</a></li>
<li><a href="#_stopping_ddf">4.2.4. Stopping DDF</a></li>
</ul>
</li>
<li><a href="#_maintaining">4.3. Maintaining</a>
<ul class="sectlevel3">
<li><a href="#_console_commands">4.3.1. Console Commands</a>
<ul class="sectlevel4">
<li><a href="#_console_command_help">4.3.1.1. Console Command Help</a></li>
<li><a href="#_cql_syntax">4.3.1.2. CQL Syntax</a></li>
<li><a href="#_available_console_commands">4.3.1.3. Available Console Commands</a>
<ul class="sectlevel5">
<li><a href="#_catalog_commands">4.3.1.3.1. Catalog Commands</a></li>
<li><a href="#_solr_commands">4.3.1.3.2. Solr Commands</a></li>
<li><a href="#_subscriptions_commands">4.3.1.3.3. Subscriptions Commands</a></li>
<li><a href="#_platform_commands">4.3.1.3.4. Platform Commands</a></li>
<li><a href="#_persistence_store_commands">4.3.1.3.5. Persistence Store Commands</a></li>
<li><a href="#_migrate_commands">4.3.1.3.6. Migrate Commands</a></li>
</ul>
</li>
<li><a href="#_command_scheduler">4.3.1.4. Command Scheduler</a>
<ul class="sectlevel5">
<li><a href="#_schedule_a_command">4.3.1.4.1. Schedule a Command</a></li>
<li><a href="#_updating_a_scheduled_command">4.3.1.4.2. Updating a Scheduled Command</a></li>
<li><a href="#_output_of_scheduled_commands">4.3.1.4.3. Output of Scheduled Commands</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_monitoring">4.4. Monitoring</a>
<ul class="sectlevel3">
<li><a href="#_metrics_reporting">4.4.1. Metrics Reporting</a></li>
<li><a href="#_managing_logging">4.4.2. Managing Logging</a>
<ul class="sectlevel4">
<li><a href="#_configuring_logging">4.4.2.1. Configuring Logging</a></li>
<li><a href="#_ddf_log_file">4.4.2.2. DDF log file</a></li>
<li><a href="#_controlling_log_level">4.4.2.3. Controlling log level</a></li>
<li><a href="#_controlling_the_size_of_the_log_file">4.4.2.4. Controlling the size of the log file</a></li>
<li><a href="#_number_of_backup_log_files_to_keep">4.4.2.5. Number of backup log files to keep</a></li>
<li><a href="#_enabling_logging_of_inbound_and_outbound_soap_messages_for_the_ddf_soap_endpoints">4.4.2.6. Enabling logging of inbound and outbound SOAP messages for the DDF SOAP endpoints</a></li>
<li><a href="#_logging_external_resources">4.4.2.7. Logging External Resources</a></li>
<li><a href="#_enabling_http_access_logging">4.4.2.8. Enabling HTTP Access Logging</a></li>
<li><a href="#_using_the_logviewer">4.4.2.9. Using the LogViewer</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_troubleshooting">4.5. Troubleshooting</a>
<ul class="sectlevel3">
<li><a href="#_deleted_records_are_being_displayed_in_the_search_ui_s_search_results">4.5.1. Deleted Records Are Being Displayed In The Search UI&#8217;s Search Results</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_data_management">5. Data Management</a>
<ul class="sectlevel2">
<li><a href="#_ingesting_data">5.1. Ingesting Data</a>
<ul class="sectlevel3">
<li><a href="#_ingest_command">5.1.1. Ingest Command</a></li>
<li><a href="#_user_interface_ingest">5.1.2. User Interface Ingest</a></li>
<li><a href="#_content_directory_monitor_ingest">5.1.3. Content Directory Monitor Ingest</a></li>
<li><a href="#_external_methods_of_ingesting_data">5.1.4. External Methods of Ingesting Data</a></li>
<li><a href="#_creating_and_managing_system_search_forms_through_karaf">5.1.5. Creating And Managing System Search Forms Through Karaf</a></li>
<li><a href="#_other_methods_of_ingesting_data">5.1.6. Other Methods of Ingesting Data</a></li>
</ul>
</li>
<li><a href="#_validating_data">5.2. Validating Data</a>
<ul class="sectlevel3">
<li><a href="#_validator_plugins_on_ingest">5.2.1. Validator Plugins on Ingest</a>
<ul class="sectlevel4">
<li><a href="#_validators_run_on_ingest">5.2.1.1. Validators run on ingest</a></li>
</ul>
</li>
<li><a href="#_configuring_schematron_services">5.2.2. Configuring Schematron Services</a></li>
<li><a href="#_viewing_invalid_metacards">5.2.3. Viewing Invalid Metacards</a></li>
<li><a href="#_manually_editing_attributes">5.2.4. Manually Editing Attributes</a></li>
<li><a href="#_injecting_attributes">5.2.5. Injecting Attributes</a></li>
<li><a href="#_overriding_attributes">5.2.6. Overriding Attributes</a></li>
</ul>
</li>
<li><a href="#_backing_up_the_catalog">5.3. Backing Up the Catalog</a></li>
<li><a href="#_removing_expired_records_from_the_catalog">5.4. Removing Expired Records from the Catalog</a></li>
<li><a href="#_migrating_data">5.5. Migrating Data</a></li>
<li><a href="#_automatically_added_metacard_attributes">5.6. Automatically Added Metacard Attributes</a>
<ul class="sectlevel3">
<li><a href="#_attributes_added_on_ingest">5.6.1. Attributes Added on Ingest</a>
<ul class="sectlevel4">
<li><a href="#_attributes_added_by_input_transformers">5.6.1.1. Attributes Added by Input Transformers</a></li>
<li><a href="#_attributes_added_by_attribute_injection">5.6.1.2. Attributes Added by Attribute Injection</a></li>
<li><a href="#_attributes_added_by_default_attribute_types">5.6.1.3. Attributes Added by Default Attribute Types</a></li>
<li><a href="#_attributes_added_by_attribute_overrides_ingest">5.6.1.4. Attributes Added by Attribute Overrides (Ingest)</a></li>
<li><a href="#_attributes_added_by_pre_authorization_plugins">5.6.1.5. Attributes Added by Pre-Authorization Plugins</a></li>
<li><a href="#_attributes_added_by_pre_ingest_plugins">5.6.1.6. Attributes Added by Pre-Ingest Plugins</a></li>
</ul>
</li>
<li><a href="#_attributes_added_on_query">5.6.2. Attributes Added on Query</a>
<ul class="sectlevel4">
<li><a href="#_attributes_added_by_attribute_overrides_query">5.6.2.1. Attributes Added by Attribute Overrides (Query)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Administrators will be installing, maintaining, and supporting existing applications.
Use this section to prepare, install, configure, run, and monitor a DDF.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_securing"><a class="anchor" href="#_securing"></a><a class="link" href="#_securing">1. Securing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Security is an important consideration for DDF, so it is imperative to update configurations away from the defaults to unique, secure settings.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="title">Securing DDF Components</div>
<div class="paragraph">
<p>DDF is enabled with an Insecure Defaults Service which will warn users/admins if the system is configured with insecure defaults.</p>
</div>
<div class="paragraph">
<p>A banner is displayed on the admin console notifying "The system is insecure because default configuration values are in use."</p>
</div>
<div class="paragraph">
<p>A detailed view is available of the properties to update.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Security concerns will be highlighted in the configuration sections to follow.</p>
</div>
<div class="sect2">
<h3 id="_security_hardening"><a class="anchor" href="#_security_hardening"></a><a class="link" href="#_security_hardening">1.1. Security Hardening</a></h3>
<div class="sidebarblock">
<div class="content">
<div class="title">Security Hardening</div>
<div class="paragraph">
<p>To harden DDF, extra security precautions are required.</p>
</div>
<div class="paragraph">
<p>Where available, necessary migitations to harden an installation of DDF are called out in the following configuration steps.</p>
</div>
<div class="paragraph">
<p>Refer to the <a href="reference.html#_hardening_checklist">Hardening Checklist</a> for a compilation of these mitigations.</p>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The  security precautions are best performed as configuration is taking place, so hardening steps are integrated into configuration steps.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This is to avoid setting an insecure configuration and having to revisit during hardening.
Most configurations have a security component to them, and important considerations for hardening are labeled as such during configuration as well as provided in a checklist format.</p>
</div>
<div class="paragraph">
<p>Some of the items on the checklist are performed during <a href="#_installing">installation</a> and others during <a href="#_configuring">configuration</a>.
Steps required for hardening are marked as <strong>Required for Hardening</strong> and are collected here for convenience.
Refer to the checklist during system setup.</p>
</div>
</div>
<div class="sect2">
<h3 id="_auditing"><a class="anchor" href="#_auditing"></a><a class="link" href="#_auditing">1.2. Auditing</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Audit logging captures security-specific system events for monitoring and review.
DDF provides an <a href="developing.html#_security_logging_plugin">Audit Plugin</a> that logs all catalog transactions to the <code>security.log</code>.
Information captured includes user identity, query information, and resources retrieved.</p>
</div>
<div class="paragraph">
<p>Follow all operational requirements for the retention of the log files.
This may include using cryptographic mechanisms, such as encrypted file volumes or databases, to protect the integrity of audit information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The Audit Log default location is <code>&lt;DDF_HOME&gt;/data/log/security.log</code></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Audit Logging Best Practices</div>
<div class="paragraph">
<p>For the most reliable audit trail, it is recommended to configure the operational environment of the DDF to generate alerts to notify adminstrators of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>auditing software/hardware errors</p>
</li>
<li>
<p>failures in audit capturing mechanisms</p>
</li>
<li>
<p>audit storage capacity (or desired percentage threshold) being reached or exceeded.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>The security audit logging function does not have any configuration for audit reduction or report generation.
The logs themselves could be used to generate such reports outside the scope of DDF.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_enabling_fallback_audit_logging"><a class="anchor" href="#_enabling_fallback_audit_logging"></a><a class="link" href="#_enabling_fallback_audit_logging">1.2.1. Enabling Fallback Audit Logging</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the event the system is unable to write to the <code>security.log</code> file, DDF must be configured to fall back to report the error in the application log:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>edit <code>&lt;DDF_HOME&gt;/etc/org.ops4j.pax.logging.cfg</code></p>
<div class="ulist">
<ul>
<li>
<p>uncomment the line (remove the <code>#</code> from the beginning of the line) for <code>log4j2</code> (<code>org.ops4j.pax.logging.log4j2.config.file = ${karaf.etc}/log4j2.xml</code>)</p>
</li>
<li>
<p>delete all subsequent lines</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you want to change the location of your systems security backup log from the default location: <code>&lt;DDF_HOME&gt;/data/log/securityBackup.log</code>, follow the next two steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>edit <code>&lt;DDF_HOME&gt;/security/configurations.policy</code></p>
<div class="ulist">
<ul>
<li>
<p>find "Security-Hardening: Backup Log File Permissions"</p>
</li>
<li>
<p>below <code>grant codeBase "file:/pax-logging-log4j2"</code> add the path to the directory containing the new log file you will create in the next step.</p>
</li>
</ul>
</div>
</li>
<li>
<p>edit <code>&lt;DDF_HOME&gt;/etc/log4j2.xml</code></p>
<div class="ulist">
<ul>
<li>
<p>find the entry for the <code>securityBackup</code> appender. (see example)</p>
</li>
<li>
<p>change value of <code>filename</code> and prefix of <code>filePattern</code> to the name/path of the desired failover security logs</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title"><code>securityBackup</code> Appender Before</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;RollingFile</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">securityBackup</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">append</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ignoreExceptions</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span>
                     <span class="attribute-name">fileName</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${sys:karaf.log}/securityBackup.log</span><span class="delimiter">&quot;</span></span>
                     <span class="attribute-name">filePattern</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">${sys:karaf.log}/securityBackup.log-%d{yyyy-MM-dd-HH}-%i.log.gz</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>securityBackup</code> Appender After</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="tag">&lt;RollingFile</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">securityBackup</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">append</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">ignoreExceptions</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">false</span><span class="delimiter">&quot;</span></span>
                     <span class="attribute-name">fileName</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">&lt;NEW_LOG_FILE</span></span><span class="error">&gt;</span>&quot;
                     filePattern=&quot;<span class="tag">&lt;NEW_LOG_FILE&gt;</span>-%d{yyyy-MM-dd-HH}-%i.log.gz&quot;<span class="error">&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the system is unable to write to the <code>security.log</code> file on system startup, fallback logging will be unavailable.
Verify that the <code>security.log</code> file is properly configured and contains logs before configuring a fall back.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing"><a class="anchor" href="#_installing"></a><a class="link" href="#_installing">2. Installing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Set up a complete, secure instance of DDF.
For simplified steps used for a testing, development, or demonstration installation, see the <a href="quickstart.html#_quick_start_tutorial">DDF Quick Start</a>.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Although DDF can be installed by any user, it is recommended for security reasons to have a non-<code>root</code> user execute the DDF installation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Hardening guidance assumes a Standard installation.</p>
</div>
<div class="paragraph">
<p>Adding other components does not have any security/hardening implications.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_installation_prerequisites"><a class="anchor" href="#_installation_prerequisites"></a><a class="link" href="#_installation_prerequisites">2.1. Installation Prerequisites</a></h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>For security reasons, DDF cannot be started from a user&#8217;s home directory. If attempted, the system will automatically shut down.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>These are the system/environment requirements to configure <em>prior</em> to an installation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The DDF process or user under which the DDF process runs must have permission
to create and write files in the directories where the Solr cores are installed,
If this permission is missing,
DDF will not be able to create new Solr cores and the system will not function
correctly.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_hardware_requirements"><a class="anchor" href="#_hardware_requirements"></a><a class="link" href="#_hardware_requirements">2.1.1. Hardware Requirements</a></h4>
<div class="exampleblock">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Using the Standard installation of the DDF application:</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 37.5%;">
<col style="width: 37.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="3">Minimum and Recommended Requirements for DDF Systems</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Criteria</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Minimum</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Recommended</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual Core 1.6 GHz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quad Core 2.6 GHz</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 GB<sup>*</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32 GB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disk Space</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40 GB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">80 GB</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Video Card</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8201;&#8212;&#8201;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebGL capable GPU</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additional Software</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JRE 8 x64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JDK 8 x64</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>*</sup>The amount of RAM can be increased to support memory-intensive applications. See <a href="#_jvm_memory_configuration">Memory Considerations</a></p>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Operating Systems</div>
<p>DDF has been tested on the following operating systems and with the following browsers.
Other operating systems or browsers may be used but have not been officially tested.</p>
</div>
<div class="exampleblock">
<div class="content">
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Tested Operating Systems and Browsers</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Operating Systems</th>
<th class="tableblock halign-left valign-top">Browsers</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Windows Server 2012 R2<br>
Windows Server 2008 R2 Service Pack 1<br>
Windows 10<br>
Linux CentOS 7<br>
Debian 9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internet Explorer 11<br>
Microsoft Edge<br>
Firefox<br>
Chrome</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_java_requirements"><a class="anchor" href="#_java_requirements"></a><a class="link" href="#_java_requirements">2.1.2. Java Requirements</a></h4>
<div class="paragraph">
<p>For a runtime system:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html">JRE 8 x64</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Java Requirements"></span> or <a href="https://openjdk.java.net/install">OpenJDK 8 JRE</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Java Requirements"></span> must be installed.</p>
</li>
<li>
<p>The <code>JRE_HOME</code> environment variable must be set to the locations where the JRE is installed</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a development system:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK8</a> must be installed.</p>
</li>
<li>
<p>The <code>JAVA_HOME</code> environment variable must be set to the location where the JDK is installed.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install/Upgrade to Java 8 x64 <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">J2SE 8 SDK</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Java Requirements"></span></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>The recommended version is <a href="http://www.oracle.com/technetwork/java/javase/8u60-relnotes-2620227.html">8u60</a> or later.</p>
</li>
<li>
<p>Java version must contain only number values.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Install/Upgrade to <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK8</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Java Requirements"></span>.</p>
</li>
<li>
<p>Set the <code>JAVA_HOME</code> environment variable to the location where the JDK is installed.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="title">*NIX Unlinking JAVA_HOME if Previously Set</div>
<div class="paragraph">
<p>Unlink <code>JAVA_HOME</code> if it is already linked to a previous version of the JRE:</p>
</div>
<div class="paragraph">
<p><code>unlink JAVA_HOME</code></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If JDK was installed:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<div class="title">Setting JAVA_HOME variable</div>
<p>Replace <code>&lt;JAVA_VERSION&gt;</code> with the version and build number installed.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open a terminal window(*NIX) or command prompt (Windows) with administrator privileges.</p>
</li>
<li>
<p>Determine Java Installation Directory (This varies between operating system versions).</p>
<div class="listingblock">
<div class="title">Find Java Path in *NIX</div>
<div class="content">
<pre>which java</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Find Java Path in Windows</div>
<p>The path to the JDK can vary between versions of Windows, so manually verify the path under:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>C:\Program Files\Java\jdk&lt;M.m.p_build&gt;</pre>
</div>
</div>
</li>
<li>
<p>Copy path of Java installation to clipboard. (example: <code>/usr/java/&lt;JAVA_VERSION</code>&gt;)</p>
</li>
<li>
<p>Set <code>JAVA_HOME</code> by replacing &lt;PATH_TO_JAVA&gt; with the copied path in this command:</p>
<div class="listingblock">
<div class="title">Setting <code>JAVA_HOME</code> on *NIX</div>
<div class="content">
<pre>JAVA_HOME=&lt;PATH_TO_JAVA&gt;&lt;JAVA_VERSION&gt;
export JAVA_HOME</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Setting <code>JAVA_HOME</code> on Windows</div>
<div class="content">
<pre>set JAVA_HOME=&lt;PATH_TO_JAVA&gt;&lt;JAVA_VERSION&gt;
setx JAVA_HOME "&lt;PATH_TO_JAVA&gt;&lt;JAVA_VERSION&gt;"</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Adding <code>JAVA_HOME</code> to <code>PATH</code> Environment Variable on Windows</div>
<div class="content">
<pre>setx PATH "%PATH%;%JAVA_HOME%\bin"</pre>
</div>
</div>
</li>
<li>
<p>Restart Terminal (shell) or Command Prompt.</p>
<div class="ulist">
<ul>
<li>
<p>Verify that the <code>JAVA_HOME</code> was set correctly.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">*NIX</div>
<div class="content">
<pre>echo $JAVA_HOME</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows</div>
<div class="content">
<pre>echo %JAVA_HOME%</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If JRE was installed:</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<div class="title">Setting JRE_HOME variable</div>
<p>Replace <code>&lt;JAVA_VERSION&gt;</code> with the version and build number installed.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open a terminal window(*NIX) or command prompt (Windows) with administrator privileges.</p>
</li>
<li>
<p>Determine Java Installation Directory (This varies between operating system versions).</p>
<div class="listingblock">
<div class="title">Find Java Path in *NIX</div>
<div class="content">
<pre>which java</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Find Java Path in Windows</div>
<p>The path to the JRE can vary between versions of Windows, so manually verify the path under:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>C:\Program Files\Java\jre&lt;M.m.p_build&gt;</pre>
</div>
</div>
</li>
<li>
<p>Copy path of Java installation to clipboard. (example: <code>/usr/java/&lt;JAVA_VERSION</code>&gt;)</p>
</li>
<li>
<p>Set <code>JRE_HOME</code> by replacing &lt;PATH_TO_JAVA&gt; with the copied path in this command:</p>
<div class="listingblock">
<div class="title">Setting <code>JRE_HOME</code> on *NIX</div>
<div class="content">
<pre>JRE_HOME=&lt;PATH_TO_JAVA&gt;&lt;JAVA_VERSION&gt;
export JRE_HOME</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Setting <code>JRE_HOME</code> on Windows</div>
<div class="content">
<pre>set JRE_HOME=&lt;PATH_TO_JAVA&gt;&lt;JAVA_VERSION&gt;
setx JRE_HOME "&lt;PATH_TO_JAVA&gt;&lt;JAVA_VERSION&gt;"</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Adding <code>JRE_HOME</code> to <code>PATH</code> Environment Variable on Windows</div>
<div class="content">
<pre>setx PATH "%PATH%;%JRE_HOME%\bin"</pre>
</div>
</div>
</li>
<li>
<p>Restart Terminal (shell) or Command Prompt.</p>
<div class="ulist">
<ul>
<li>
<p>Verify that the <code>JRE_HOME</code> was set correctly.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">File Descriptor Limit on Linux</div>
<div class="ulist">
<ul>
<li>
<p>For Linux systems, increase the file descriptor limit by editing <code>/etc/sysctl.conf</code> to include:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>fs.file-max = 6815744</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>For the change to take effect, a restart is required.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">*Nix Restart Command</div>
<div class="content">
<pre>init 6</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_java_requirements_2"><a class="anchor" href="#_java_requirements_2"></a><a class="link" href="#_java_requirements_2">2.1.3. Java Requirements</a></h4>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK8</a> must be installed.</p>
</li>
<li>
<p>The <code>JAVA_HOME</code> environment variable must be set to the location where the JDK is installed.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install/Upgrade to Java 8 x64 <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">J2SE 8 SDK</a></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>The recommended version is <a href="http://www.oracle.com/technetwork/java/javase/8u60-relnotes-2620227.html">8u60</a> or later.</p>
</li>
<li>
<p>Java version must contain only number values.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Install/Upgrade to <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK8</a>.</p>
</li>
<li>
<p>Set the <code>JAVA_HOME</code> environment variable to the location where the JDK is installed.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="title">*NIX Unlinking JAVA_HOME if Previously Set</div>
<div class="paragraph">
<p>Unlink <code>JAVA_HOME</code> if it is already linked to a previous version of the JRE:</p>
</div>
<div class="paragraph">
<p><code>unlink JAVA_HOME</code></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Setting JAVA_HOME variable</div>
<p>Replace <code>&lt;JAVA_VERSION&gt;</code> with the version and build number installed.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open a terminal window(*NIX) or command prompt (Windows) with administrator privileges.</p>
</li>
<li>
<p>Determine Java Installation Directory (This varies between operating system versions).</p>
<div class="listingblock">
<div class="title">Find Java Path in *NIX</div>
<div class="content">
<pre>which java</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Find Java Path in Windows</div>
<p>The path to the JDK can vary between versions of Windows, so manually verify the path under:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>C:\Program Files\Java\jdk&lt;M.m.p_build&gt;</pre>
</div>
</div>
</li>
<li>
<p>Copy path of Java installation to clipboard. (example: <code>/usr/java/&lt;JAVA_VERSION</code>&gt;)</p>
</li>
<li>
<p>Set <code>JAVA_HOME</code> by replacing &lt;PATH_TO_JAVA&gt; with the copied path in this command:</p>
<div class="listingblock">
<div class="title">Setting <code>JAVA_HOME</code> on *NIX</div>
<div class="content">
<pre>JAVA_HOME=&lt;PATH_TO_JAVA&gt;&lt;JAVA_VERSION&gt;
export JAVA_HOME</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Setting <code>JAVA_HOME</code> on Windows</div>
<div class="content">
<pre>set JAVA_HOME=&lt;PATH_TO_JAVA&gt;&lt;JAVA_VERSION&gt;
setx JAVA_HOME "&lt;PATH_TO_JAVA&gt;&lt;JAVA_VERSION&gt;"</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Adding <code>JAVA_HOME</code> to <code>PATH</code> Environment Variable on Windows</div>
<div class="content">
<pre>setx PATH "%PATH%;%JAVA_HOME%\bin"</pre>
</div>
</div>
</li>
<li>
<p>Restart Terminal (shell) or Command Prompt.</p>
<div class="ulist">
<ul>
<li>
<p>Verify that the <code>JAVA_HOME</code> was set correctly.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="exampleblock">
<div class="content">
<div class="listingblock">
<div class="title">*NIX</div>
<div class="content">
<pre>echo $JAVA_HOME</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows</div>
<div class="content">
<pre>echo %JAVA_HOME%</pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">File Descriptor Limit on Linux</div>
<div class="ulist">
<ul>
<li>
<p>For Linux systems, increase the file descriptor limit by editing <code>/etc/sysctl.conf</code> to include:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>fs.file-max = 6815744</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>For the change to take effect, a restart is required.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">*Nix Restart Command</div>
<div class="content">
<pre>init 6</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_installing_with_the_ddf_distribution_zip"><a class="anchor" href="#_installing_with_the_ddf_distribution_zip"></a><a class="link" href="#_installing_with_the_ddf_distribution_zip">2.2. Installing With the DDF Distribution Zip</a></h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="title">Check System Time</div>
<div class="paragraph">
<p>Prior to installing DDF, ensure the system time is accurate to prevent federation issues.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To install the DDF distribution zip, perform the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download the DDF <a href="https://github.com/codice/ddf/releases">zip file</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Installing With the DDF Distribution Zip"></span>.</p>
</li>
<li>
<p>After the <a href="#_installation_prerequisites">prerequisites</a> have been met, change the current directory to the desired install directory, creating a new directory if desired.
This will be referred to as <code>&lt;DDF_HOME&gt;</code>.</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="title">Windows Pathname Warning</div>
<div class="paragraph">
<p>Do not use spaces in directory or file names of the <code>&lt;DDF_HOME&gt;</code> path.
For example, do not install in the default <code>Program Files</code> directory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example: Create a Directory (Windows and *NIX)</div>
<div class="content">
<pre>mkdir new_installation</pre>
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Use a Non-<code>root</code> User on *NIX. (Windows users skip this step)</p>
<div class="paragraph">
<p>It is recommended that the <code>root</code> user create a new install directory that can be owned by a non-<code>root</code> user (e.g., DDF_USER).
This can be a new or existing user.
This DDF_USER can now be used for the remaining installation instructions.</p>
</div>
</li>
<li>
<p>Create a new group or use an existing group (e.g., DDF_GROUP) (Windows users skip this step)</p>
<div class="listingblock">
<div class="title">Example: Add New Group on *NIX</div>
<div class="content">
<pre>groupadd DDF_GROUP</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example: Switch User on *NIX</div>
<div class="content">
<pre>chown DDF_USER:DDF_GROUP new_installation

su - DDF_USER</pre>
</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Change the current directory to the location of the zip file (ddf-2.15.0.zip).</p>
<div class="listingblock">
<div class="title">*NIX (Example assumes DDF has been downloaded to a CD/DVD)</div>
<div class="content">
<pre>cd /home/user/cdrom</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows (Example assumes DDF has been downloaded to the D drive)</div>
<div class="content">
<pre>cd D:\</pre>
</div>
</div>
</li>
<li>
<p>Copy ddf-2.15.0.zip to &lt;DDF_HOME&gt;.</p>
<div class="listingblock">
<div class="title">*NIX</div>
<div class="content">
<pre>cp ddf-2.15.0.zip &lt;DDF_HOME&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows</div>
<div class="content">
<pre>copy ddf-2.15.0.zip &lt;DDF_HOME&gt;</pre>
</div>
</div>
</li>
<li>
<p>Change the current directory to the desired install location.</p>
<div class="listingblock">
<div class="title">*NIX or Windows</div>
<div class="content">
<pre>cd &lt;DDF_HOME&gt;</pre>
</div>
</div>
</li>
<li>
<p>The DDF zip is now located within the <code>&lt;DDF_HOME&gt;</code>. Unzip ddf-2.15.0.zip.</p>
<div class="listingblock">
<div class="title">*NIX</div>
<div class="content">
<pre>unzip ddf-2.15.0.zip</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="title">Windows Zip Utility Warning</div>
<div class="paragraph">
<p>The Windows Zip implementation, which is invoked when a user double-clicks on a zip file in the Windows Explorer, creates a corrupted installation.
This is a consequence of its inability to process long file paths.
Instead, use the java jar command line utility to unzip the distribution (see example below) or use a third party utility such as 7-Zip.</p>
</div>
<div class="listingblock">
<div class="title">Use Java to Unzip in Windows(Replace <code>&lt;PATH_TO_JAVA&gt;</code> with correct path <code>and &lt;JAVA_VERSION&gt;</code> with current version.)</div>
<div class="content">
<pre>"&lt;PATH_TO_JAVA&gt;\jdk&lt;JAVA_VERSION&gt;\bin\jar.exe" xf ddf-2.15.0.zip</pre>
</div>
</div>
<div class="paragraph">
<p>The unzipping process may take time to complete.
The command prompt will stop responding to input during this time.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_configuring_operating_permissions_and_allocations"><a class="anchor" href="#_configuring_operating_permissions_and_allocations"></a><a class="link" href="#_configuring_operating_permissions_and_allocations">2.2.1. Configuring Operating Permissions and Allocations</a></h4>
<div class="paragraph">
<p>Restrict access to sensitive files by ensuring that the only users with access privileges are administrators.</p>
</div>
<div class="paragraph">
<p>Within the <code>&lt;DDF_HOME&gt;</code>, a directory is created named ddf-2.15.0.
This directory will be referred to in the documentation as <code>&lt;DDF_HOME&gt;</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Do not assume the deployment is from a trusted source; verify its origination.</p>
</li>
<li>
<p>Check the available storage space on the system to ensure the deployment will not exceed the available space.</p>
</li>
<li>
<p>Set maximum storage space on the <code>&lt;DDF_HOME&gt;/deploy</code> and <code>&lt;DDF_HOME&gt;/system</code> directories to restrict the amount of space used by deployments.</p>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_setting_directory_permissions"><a class="anchor" href="#_setting_directory_permissions"></a><a class="link" href="#_setting_directory_permissions">2.2.1.1. Setting Directory Permissions</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>DDF relies on the Directory Permissions of the host platform to protect the integrity of the DDF during operation.
System administrators MUST perform the following steps prior to deploying bundles added to the DDF.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The system administrator must restrict certain directories to ensure that the application (user) cannot access restricted directories on the system.
For example the <code>DDFUSER</code> should have read-only access to <code>&lt;DDF_HOME&gt;</code>, except for the sub-directories <code>etc</code>, <code>data</code>, <code>solr</code> and <code>instances</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Setting Directory Permissions on Windows</div>
<div class="paragraph">
<p>Set directory permissions on the <code>&lt;DDF_HOME&gt;</code>; all sub-directories except <code>etc</code>, <code>data</code>, and <code>instances</code>; and any directory intended to interact with the DDF to protect from unauthorized access.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Right-click on the <code>&lt;DDF_HOME&gt;</code> directory.</p>
</li>
<li>
<p>Select <strong>Properties &#8594; Security &#8594; Advanced</strong>.</p>
</li>
<li>
<p>Under <strong>Owner</strong>, select <strong>Change</strong>.</p>
</li>
<li>
<p>Enter <code>Creator Owner</code> into the <strong>Enter the Object Name&#8230;&#8203;</strong> field.</p>
</li>
<li>
<p>Select <strong>Check Names</strong>.</p>
</li>
<li>
<p>Select <strong>Apply</strong>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If prompted <strong>Do you wish to continue</strong>, select <strong>Yes</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Remove all Permission Entries for any groups or users with access to &lt;DDF_HOME&gt; other than <strong>System</strong>, <strong>Administrators</strong>, and <strong>Creator Owner</strong>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Note: If prompted with a message such as: <strong>You cant remove X because this object is inheriting permissions from its parent.</strong> when removing entries from the Permission entries table:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Select <strong>Disable Inheritance</strong>.</p>
</li>
<li>
<p>Select <strong>Convert Inherited Permissions into explicit permissions on this object</strong>.</p>
</li>
<li>
<p>Try removing the entry again.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Select the option for <strong>Replace all child object permission entries with inheritable permission entries from this object</strong>.</p>
</li>
<li>
<p>Close the <strong>Advanced Security Settings</strong> window.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Setting Directory Permissions on *NIX</div>
<div class="paragraph">
<p>Set directory permissions to protect the DDF from unauthorized access.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Change ownership of <code>&lt;DDF_HOME&gt;</code></p>
<div class="ulist">
<ul>
<li>
<p><code>chown -R ddf-user &lt;DDF_HOME&gt;</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Create instances sub-directory if does not exist</p>
<div class="ulist">
<ul>
<li>
<p><code>mkdir -p &lt;DDF_HOME&gt;/instances</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Change group ownership on sub-directories</p>
<div class="ulist">
<ul>
<li>
<p><code>chgrp -R DDFGROUP &lt;DDF_HOME&gt;/etc &lt;DDF_HOME&gt;/data &lt;DDF_HOME&gt;/instances &lt;DDF_HOME&gt;/solr</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Change group permissions</p>
<div class="ulist">
<ul>
<li>
<p><code>chmod -R g-w &lt;DDF_HOME&gt;/etc &lt;DDF_HOME&gt;/data &lt;DDF_HOME&gt;/instances &lt;DDF_HOME&gt;/solr</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Remove permissions for other users</p>
<div class="ulist">
<ul>
<li>
<p><code>chmod -R o-rwx &lt;DDF_HOME&gt;/etc &lt;DDF_HOME&gt;/data &lt;DDF_HOME&gt;/instances</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_memory_allocation_for_the_ddf_java_virtual_machine"><a class="anchor" href="#_configuring_memory_allocation_for_the_ddf_java_virtual_machine"></a><a class="link" href="#_configuring_memory_allocation_for_the_ddf_java_virtual_machine">2.2.1.2. Configuring Memory Allocation for the DDF Java Virtual Machine</a></h5>
<div id="_jvm_memory_configuration" class="paragraph">
<p>The amount of memory allocated to the Java Virtual Machine host DDF by the operating
system can be increased by updating the <code>setenv</code> script:</p>
</div>
<div class="listingblock">
<div class="title">Setenv Scripts: *NIX</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/setenv
Update the JAVA_OPTS -Xmx value
&lt;DDF_HOME&gt;/bin/setenv-wrapper.conf
Update the wrapper.java.additional -Xmx value</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Setenv Scripts: Windows</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/setenv.bat
Update the JAVA_OPTS -Xmx value
&lt;DDF_HOME&gt;/bin/setenv-windows-wrapper.conf
Update the wrapper.java.additional -Xmx value</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_enabling_jmx"><a class="anchor" href="#_enabling_jmx"></a><a class="link" href="#_enabling_jmx">2.2.1.3. Enabling JMX</a></h5>
<div id="jmx-connectivity-configuration" class="paragraph">
<p>By default, DDF prevents connections to JMX because the system is more secure when JMX
 is not enabled. However, many monitoring tools require a JMX connection to the Java Virtual
 Machine. To enable JMX, update the setenv script:</p>
</div>
<div class="listingblock">
<div class="title">Setenv Scripts: *NIX</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/setenv
Remove -XX:+DisableAttachMechanism from JAVA_OPTS
&lt;DDF_HOME&gt;/bin/setenv-wrapper.conf
Comment out the -XX:+DisableAttachMechanism line and re-number remainder lines appropriately</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Setenv Scripts: Windows</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/setenv.bat
Remove -XX:+DisableAttachMechanism from JAVA_OPTS
&lt;DDF_HOME&gt;/bin/setenv-windows-wrapper.conf
Comment out the -XX:+DisableAttachMechanism line and re-number remainder lines appropriately</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_memory_for_the_solr_server"><a class="anchor" href="#_configuring_memory_for_the_solr_server"></a><a class="link" href="#_configuring_memory_for_the_solr_server">2.2.1.4. Configuring Memory for the Solr Server</a></h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This section applies only to configurations that manage the lifecycle of the Solr server.
It does not apply to Solr Cloud configurations.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The Solr server consumes large amount of memory when it ingests documents. If the Solr server
runs out of memory, it terminates its process. To allocate more memory to the Solr server,
increase the value of the <a href="#_managed_solr_properties"><code>solr.mem</code></a> property.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_managing_keystores_and_certificates"><a class="anchor" href="#_managing_keystores_and_certificates"></a><a class="link" href="#_managing_keystores_and_certificates">2.2.2. Managing Keystores and Certificates</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>DDF uses certificates in two ways:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensuring the privacy and integrity of messages sent or received over a network.</p>
</li>
<li>
<p>Authenticating an incoming user request.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To ensure proper configuration of keystore, truststore, and certificates, follow the options below according to situation.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="data:image/png;base64,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" alt="Configuring Certificates Workflow" width="1150" height="1022">
</div>
<div class="title">Configuring Certificates Workflow</div>
</div>
<div class="paragraph">
<p>Jump to the steps referenced in the diagram:</p>
</div>
<div class="olist arabic">
<div class="title">Certificate Workflow Steps</div>
<ol class="arabic">
<li>
<p><a href="#_adding_an_existing_server_keystore">Adding an Existing Keystore</a></p>
</li>
<li>
<p><a href="#_creating_a_new_keystore_truststore_with_an_existing_certificate_and_private_key">Creating a New Keystore/Truststore with an Existing Certificate and Private Key</a></p>
</li>
<li>
<p><a href="#_adding_an_existing_server_truststore">Adding an Existing Truststore</a></p>
</li>
<li>
<p><a href="#_creating_a_server_keystore">Creating a Server Keystore</a></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="#_creating_a_server_truststore">Creating a Server Truststore</a></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_managing_keystores"><a class="anchor" href="#_managing_keystores"></a><a class="link" href="#_managing_keystores">2.2.2.1. Managing Keystores</a></h5>
<div class="paragraph">
<p>Certificates, and sometimes their associated private keys, are stored in keystore files.
DDF includes two default keystore files, the server key store and the server trust store.
The server keystore holds the certificates and private keys that DDF uses to identify itself to other nodes on the network.
The truststore holds the certificates of nodes or other entities that DDF needs to trust.</p>
</div>
<div class="sect5">
<h6 id="_adding_an_existing_server_keystore"><a class="anchor" href="#_adding_an_existing_server_keystore"></a><a class="link" href="#_adding_an_existing_server_keystore">2.2.2.1.1. Adding an Existing Server Keystore</a></h6>
<div class="paragraph">
<p>If provided an existing keystore for use with DDF, follow these steps to replace the default keystore.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Remove the default keystore at <code>etc/keystores/serverKeystore.jks</code>.</p>
</li>
<li>
<p>Add the desired keystore file to the <code>etc/keystores</code> directory.</p>
</li>
<li>
<p>Edit <code>custom.system.properties</code> file to set filenames and passwords.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If using a type of keystore other than <code>jks</code> (such as <code>pkcs12</code>), change the <code>javax.net.ssl.keyStoreType</code> property as well.</p>
</li>
</ol>
</div>
</li>
<li>
<p>If the truststore has the correct certificates, restart server to complete configuration.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If provided with an existing server truststore, continue to <a href="#_adding_an_existing_server_truststore">Adding an Existing Server Truststore</a>.</p>
</li>
<li>
<p>Otherwise, <a href="#_creating_a_server_keystore">create a server truststore</a>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="_adding_an_existing_server_truststore"><a class="anchor" href="#_adding_an_existing_server_truststore"></a><a class="link" href="#_adding_an_existing_server_truststore">2.2.2.1.2. Adding an Existing Server Truststore</a></h6>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Remove the default truststore at <code>etc/keystores/serverTruststore.jks</code>.</p>
</li>
<li>
<p>Add the desired truststore file to the <code>etc/keystores</code> directory.</p>
</li>
<li>
<p>Edit <code>custom.system.properties</code> file to set filenames and passwords.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If using a type of truststore other than <code>jks</code> (such as <code>pkcs12</code>), change the <code>javax.net.ssl.trustStoreType</code> property as well.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>If the provided server keystore does not include the CA certificate that was used to sign the server&#8217;s certificate, <a href="#_creating_a_server_keystore">add the CA certificate into the <code>serverKeystore</code> file</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_creating_a_new_keystore_truststore_with_an_existing_certificate_and_private_key"><a class="anchor" href="#_creating_a_new_keystore_truststore_with_an_existing_certificate_and_private_key"></a><a class="link" href="#_creating_a_new_keystore_truststore_with_an_existing_certificate_and_private_key">2.2.2.1.3. Creating a New Keystore/Truststore with an Existing Certificate and Private Key</a></h6>
<div class="paragraph">
<p>If provided an existing certificate, create a new keystore and truststore with it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>DDF requires that the keystore contains both the private key and the CA.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a id="_creating_a_server_keystore"></a>Using the private key, certificate, and CA certificate, create a new keystore containing the data from the new files.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>cat client.crt &gt;&gt; client.key
openssl pkcs12 -export -in client.key -out client.p12
keytool -importkeystore -srckeystore client.p12 -destkeystore serverKeystore.jks -srcstoretype pkcs12 -alias 1
keytool -changealias -alias 1 -destalias client -keystore serverKeystore.jks
keytool -importcert -file ca.crt -keystore serverKeystore.jks -alias "ca"
keytool -importcert -file ca-root.crt -keystore serverKeystore.jks -alias "ca-root"</code></pre>
</div>
</div>
</li>
<li>
<p><a id="_creating_a_server_truststore"></a>Create the truststore using only the CA certificate. Based on the concept of CA signing, the CA should be the only entry needed in the truststore.</p>
<div class="listingblock">
<div class="content">
<pre>keytool -import -trustcacerts -alias "ca" -file ca.crt -keystore truststore.jks
keytool -import -trustcacerts -alias "ca-root" -file ca-root.crt -keystore truststore.jks</pre>
</div>
</div>
</li>
<li>
<p>Create a PEM file using the certificate, as some applications require that format.</p>
<div class="listingblock">
<div class="content">
<pre>openssl x509 -in client.crt -out client.der -outform DER
openssl x509 -in client.der -inform DER -out client.pem -outform PEM</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The localhost certificate must be removed if using a system certificate.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="_updating_key_store_trust_store_via_the_admin_console"><a class="anchor" href="#_updating_key_store_trust_store_via_the_admin_console"></a><a class="link" href="#_updating_key_store_trust_store_via_the_admin_console">2.2.2.1.4. Updating Key Store / Trust Store via the Admin Console</a></h6>
<div class="paragraph">
<p>Certificates (and certificates with keys) can be managed in the Admin Console.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Admin Console.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select the <strong>Certificates</strong> tab.</p>
</li>
<li>
<p>Add and remove certificates and private keys as necessary.</p>
</li>
<li>
<p>Restart DDF.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The default trust store and key store files for DDF included in <code>etc/keystores</code> use self-signed certificates.
Self-signed certificates should never be used outside of development/testing areas.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This view shows the alias (name) of every certificate in the trust store and the key store.
It also displays if the entry includes a private key ("Is Key") and the encryption scheme (typically "RSA" or "EC").</p>
</div>
<div class="paragraph">
<p>This view allows administrators remove certificates from DDF&#8217;s key and trust stores.
It also allows administrators to import certificates and private keys into the keystores with the "+" button.
The import function has two options: import from a file or import over HTTPS.
The file option accepts a Java Keystore file or a PKCS12 keystore file.
Because keystores can hold many keys, the import dialog asks the administrator to provide the alias of the key to import.
Private keys are typically encrypted and the import dialog prompts the administrator to enter the password for the private key.
Additionally, keystore files themselves are typically encrypted and the dialog asks for the keystore ("Store") password.</p>
</div>
<div class="paragraph">
<p>The name and location of the DDF trust and key stores can be changed by editing the system properties files, <code>etc/custom.system.properties</code>.
Additionally, the password that DDF uses to decrypt (unlock) the key and trust stores can be changed here.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>DDF assumes that password used to unlock the keystore is the same password that unlocks private keys in the keystore.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The location, file name, passwords and type of the server and trust key stores can be set in the <code>custom.system.properties</code> file:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Setting the Keystore and Truststore Java Properties</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>javax.net.ssl.keyStore=etc/keystores/serverKeystore.jks
javax.net.ssl.keyStorePassword=changeit
javax.net.ssl.trustStore=etc/keystores/serverTruststore.jks
javax.net.ssl.trustStorePassword=changeit
javax.net.ssl.keyStoreType=jks
javax.net.ssl.trustStoreType=jks</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the server&#8217;s fully qualified domain name is not recognized, the name may need to be added to the network&#8217;s DNS server.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>The DDF instance can be tested even if there is no entry for the FQDN in the DNS.
First, test if the FQDN is already recognized.
Execute this command:</p>
</div>
<div class="paragraph">
<p><code>ping &lt;FQDN&gt;</code></p>
</div>
<div class="paragraph">
<p>If the command responds with an error message such as unknown host, then modify the system&#8217;s <code>hosts</code> file to point the server&#8217;s FQDN to the loopback address.
For example:</p>
</div>
<div class="paragraph">
<p><code>127.0.0.1 &lt;FQDN&gt;</code></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Changing Default Passwords</div>
<div class="paragraph">
<p>This step is not required for a hardened system.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The default password in <code>custom.system.properties</code> for <code>serverKeystore.jks</code> is <code>changeit</code>. This needs to be modified.</p>
<div class="ulist">
<ul>
<li>
<p><code>ds-cfg-key-store-file: ../../keystores/serverKeystore.jks</code></p>
</li>
<li>
<p><code>ds-cfg-key-store-type: JKS</code></p>
</li>
<li>
<p><code>ds-cfg-key-store-pin: password</code></p>
</li>
<li>
<p><code>cn: JKS</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>The default password in <code>custom.system.properties</code> for <code>serverTruststore.jks</code> is <code>changeit</code>.  This needs to be modified.</p>
<div class="ulist">
<ul>
<li>
<p><code>ds-cfg-trust-store-file: ../../keystores/serverTruststore.jks</code></p>
</li>
<li>
<p><code>ds-cfg-trust-store-pin: password</code></p>
</li>
<li>
<p><code>cn: JKS</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_initial_startup"><a class="anchor" href="#_initial_startup"></a><a class="link" href="#_initial_startup">2.3. Initial Startup</a></h3>
<div class="paragraph">
<p>Run the DDF using the appropriate script.</p>
</div>
<div class="listingblock">
<div class="title">*NIX</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/ddf</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/ddf.bat</pre>
</div>
</div>
<div class="paragraph">
<p>The distribution takes a few moments to load depending on the hardware configuration.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>To run DDF as a service, see <a href="#_managed_services">Starting as a Service</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_verifying_startup"><a class="anchor" href="#_verifying_startup"></a><a class="link" href="#_verifying_startup">2.3.1. Verifying Startup</a></h4>
<div class="paragraph">
<p>At this point, DDF should be configured and running with a Solr Catalog Provider.
New features (endpoints, services, and sites) can be added as needed.</p>
</div>
<div class="paragraph">
<p>Verification is achieved by checking that all of the DDF bundles are in an <strong>Active</strong> state (excluding fragment bundles which remain in a <strong>Resolved</strong> state).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>It may take a few moments for all bundles to start so it may be necessary to wait a few minutes before verifying installation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Execute the following command to display the status of all the DDF bundles:</p>
</div>
<div class="listingblock">
<div class="title">View Status</div>
<div class="content">
<pre>ddf@local&gt;list | grep -i ddf</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Entries in the <strong>Resolved</strong> state are expected, they are OSGi bundle fragments.
Bundle fragments are distinguished from other bundles in the command line console list by a field named <code>Hosts</code>, followed by a bundle number.
Bundle fragments remain in the <strong>Resolved</strong> state and can never move to the <strong>Active</strong> state.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example: Bundle Fragment in the Command Line Console</div>
<div class="content">
<pre>96 | Resolved |  80 | 2.10.0.SNAPSHOT | DDF :: Platform :: PaxWeb :: Jetty Config, Hosts: 90</pre>
</div>
</div>
<div class="paragraph">
<p>After successfully completing these steps, the DDF is ready to be configured.</p>
</div>
</div>
<div class="sect3">
<h4 id="_ddf_directory_contents_after_installation_and_initial_startup"><a class="anchor" href="#_ddf_directory_contents_after_installation_and_initial_startup"></a><a class="link" href="#_ddf_directory_contents_after_installation_and_initial_startup">2.3.2. DDF Directory Contents after Installation and Initial Startup</a></h4>
<div class="paragraph">
<p>During DDF installation, the major directories and files shown in the table below are created, modified, or replaced in the destination directory.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. DDF Directory Contents</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Directory Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scripts to start, stop, and connect to DDF.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The working directory of the system  installed bundles and their data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data/log/ddf.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log file for DDF, logging all errors, warnings, and (optionally) debug statements. This log rolls up to 10 times, frequency based on a configurable setting (default=1 MB)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data/log/ingest_error.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log file for any ingest errors that occur within DDF.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data/log/security.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log file that records user interactions with the system for auditing purposes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>deploy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hot-deploy directory  KARs and bundles added to this directory will be hot-deployed (Empty upon DDF installation)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>documentation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTML and PDF copies of DDF documentation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>etc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory monitored for addition/modification/deletion of <code>.config</code> configuration files or third party <code>.cfg</code> configuration files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>etc/templates</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Template <code>.config</code> files for use in configuring DDF sources, settings, etc., by copying to the etc directory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lib</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system&#8217;s bootstrap libraries. Includes the <code>ddf-branding.jar</code> file which is used to brand the system console with the DDF logo.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>licenses</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Licensing information related to the system.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apache Solr server used when DDF manages Solr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr/server/logs/solr.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log file for Solr.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>system</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Local bundle repository. Contains all of the JARs required by DDF, including third-party JARs.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_completing_installation"><a class="anchor" href="#_completing_installation"></a><a class="link" href="#_completing_installation">2.3.3. Completing Installation</a></h4>
<div class="paragraph">
<p>Upon startup, complete installation from either the Admin Console or the Command Console.</p>
</div>
<div class="sect4">
<h5 id="_completing_installation_from_the_admin_console"><a class="anchor" href="#_completing_installation_from_the_admin_console"></a><a class="link" href="#_completing_installation_from_the_admin_console">2.3.3.1. Completing Installation from the Admin Console</a></h5>
<div class="paragraph">
<p>Upon startup, the installation can be completed by navigating to the Admin Console at https://{FQDN}:{PORT}/admin.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="title">Internet Explorer 10 TLS Warning</div>
<div class="paragraph">
<p>Internet Exlorer 10 users may need to enable TLS 1.2 to access the Admin Console in the browser.</p>
</div>
<div class="olist arabic">
<div class="title">Enabling TLS1.2 in IE10</div>
<ol class="arabic">
<li>
<p>Go to <strong>Tools</strong> &#8594; Internet Options &#8594; Advanced &#8594; Settings &#8594; Security.</p>
</li>
<li>
<p>Enable TLS1.2.</p>
</li>
</ol>
</div>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Default user/password: <code>admin</code>/<code>admin</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>On the initial startup of the Admin Console, a series of prompts walks through essential configurations.
These configurations can be changed later, if needed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Click <strong>Start</strong> to begin.</p>
</li>
</ul>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title"><a id="_setup_types"></a>Setup Types</div>
<div class="paragraph">
<p>DDF is pre-configured with several installation profiles.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Standard Installation: <strong>Recommended</strong>. Includes these applications by default:</p>
<div class="ulist">
<ul>
<li>
<p><a href="reference.html#_admin_application_reference">Admin</a></p>
</li>
<li>
<p><a href="reference.html#_catalog_application_reference">Catalog</a></p>
</li>
<li>
<p><a href="reference.html#_platform_application_reference">Platform</a></p>
</li>
<li>
<p><a href="reference.html#_security_application_reference">Security</a></p>
</li>
<li>
<p><a href="reference.html#_solr_catalog_provider">Solr Catalog</a></p>
</li>
<li>
<p><a href="reference.html#_spatial_application_reference">Spatial</a></p>
</li>
<li>
<p><a href="reference.html#_configuring_intrigue">Intrigue</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Minimum Installation: Includes these applications for a minimum install:</p>
<div class="ulist">
<ul>
<li>
<p><a href="reference.html#_admin_application_reference">Admin</a></p>
</li>
<li>
<p><a href="reference.html#_platform_application_reference">Platform</a></p>
</li>
<li>
<p><a href="reference.html#_security_application_reference">Security</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Development: Includes all demo, beta, and experimental applications.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title"><a id="_configuring_guest_claims_attribute_page"></a>Configure Guest Claim Attributes Page</div>
<div class="paragraph">
<p>Setting the attributes on the <strong>Configure Guest Claim Attributes</strong> page determines the minimum claims attributes (and, therefore, permissions) available to a guest, or not signed-in, user.</p>
</div>
<div class="paragraph">
<p>To change this later, see <a href="#_configuring_guest_claim_attributes">Configuring Guest Claim Attributes</a>.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title"><a id="_configuring_system_settings"></a>System Configuration Settings</div>
<div class="ulist">
<ul>
<li>
<p>System Settings: Set <code>hostname</code> and <code>ports</code> for this installation.</p>
</li>
<li>
<p>Contact Info: Contact information for the point-of-contact or administrator for this installation.</p>
</li>
<li>
<p>Certificates: Add PKI certificates for the Keystore and Truststore for this installation.</p>
<div class="ulist">
<ul>
<li>
<p>For a quick (test) installation, if the hostname/ports are not changed from the defaults, DDF includes self-signed certificates to use. Do not use in a working installation.</p>
</li>
<li>
<p>For more advanced testing, on initial startup of the <strong>Admin Console</strong> append the string <code>?dev=true</code> to the url (https://{FQDN}:{PORT}/admin?dev=true) to auto-generate self-signed certificates from a demo Certificate Authority(CA). This enables changing hostname and port settings during initial installation.</p>
<div class="ulist">
<ul>
<li>
<p>NOTE: <code>?dev=true</code> generates certificates on initial installation only. Do not use in a working installation.</p>
</li>
</ul>
</div>
</li>
<li>
<p>For more information about importing certificate from a Certificate Authority, see <a href="#_managing_keystores_and_certificates">Managing Keystores and Certificates</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Finished Page</div>
<div class="paragraph">
<p>Upon successful startup, the <strong>Finish</strong> page will redirect to the Admin Console to begin further configuration, ingest, or federation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The redirect will only work if the certificates are configured in the browser.<br>
Otherwise the redirect link must be used.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_completing_installation_from_the_command_console"><a class="anchor" href="#_completing_installation_from_the_command_console"></a><a class="link" href="#_completing_installation_from_the_command_console">2.3.3.2. Completing Installation from the Command Console</a></h5>
<div class="paragraph">
<p>In order to install DDF from the Command Console, use the command <code>profile:install &lt;profile-name&gt;</code>.
The <code>&lt;profile-name&gt;</code> should be the desired <a href="#_setup_types">Setup Type</a> in lowercase letters.
To see the available profiles, use the command <code>profile:list</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This only installs the desired Setup Type. There are other components that can be set up in the Admin Console Installer that cannot be setup on the Command Console.
After installing the Setup Type, these other components can be set up as described below.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="_configuring_guest_claim_attributes"><a class="anchor" href="#_configuring_guest_claim_attributes"></a><a class="link" href="#_configuring_guest_claim_attributes">2.3.3.2.1. Configuring Guest Claim Attributes</a></h6>
<div class="paragraph">
<p>The Guest Claim Attributes can be configured via the Admin Console after running the <code>profile:install</code> command.
See <a href="#_configuring_guest_claim_attributes">Configuring Guest Claim Attributes</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_system_configuration_settings"><a class="anchor" href="#_system_configuration_settings"></a><a class="link" href="#_system_configuration_settings">2.3.3.2.2. System Configuration Settings</a></h6>
<div class="paragraph">
<p>System Settings and Contact Info, as described in <a href="#_configuring_system_settings">System Configuration Settings</a>, can be changed in <code>&lt;DDF_HOME&gt;/etc/custom.system.properties</code>.
The certificates must be set up manually as described in <a href="#_managing_keystores_and_certificates">Managing Keystores and Certificates</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The system will need to be restarted after changing any of these settings.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_firewall_port_configuration"><a class="anchor" href="#_firewall_port_configuration"></a><a class="link" href="#_firewall_port_configuration">2.3.4. Firewall Port Configuration</a></h4>
<div class="paragraph">
<p>Below is a table listing all of the default ports that DDF uses and a description of what they are used for.
Firewalls will need to be configured to open these ports in order for external systems to communicate with DDF.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. Port List</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 87.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Port</th>
<th class="tableblock halign-left valign-top">Usage description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>8993</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>https access to DDF admin and search web pages.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>8101</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>For administering DDF instances gives ssh access to the administration console.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>61616</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>DDF broker port for JMS messaging over the OpenWire protocol.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>5672</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>DDF broker port for JMS messaging over multiple protocols: Artemis CORE, AMQP and OpenWire by default .</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>5671</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>DDF broker port for JMS messaging over: AMQP by default.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>1099</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>RMI Registry Port</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>44444</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>RMI Server Port</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>8994</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Solr Server Port. DDF does not listen on this port, but the Solr process does and it
must be able to receive requests from DDF on this port.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>These are the default ports used by DDF. DDF can be configured to use different ports.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_internet_explorer_11_enhanced_security_configuration"><a class="anchor" href="#_internet_explorer_11_enhanced_security_configuration"></a><a class="link" href="#_internet_explorer_11_enhanced_security_configuration">2.3.5. Internet Explorer 11 Enhanced Security Configuration</a></h4>
<div class="paragraph">
<p>Below are steps listing all of the changes that DDF requires to run on Internet Explorer 11 and several additional considerations to keep in mind.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In the IE11 <code>Settings</code> &gt; <code>Compatibility View Settings</code> dialog, un-check <code>Display intranet sites in Compatibility View</code>.</p>
</li>
<li>
<p>In the <code>Settings</code> &gt; <code>Internet Options</code> &gt; <code>Security</code> tab, <code>Local intranet</code> zone:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click the <code>Sites</code> &gt; <code>Advanced</code> button, add the current host name to the list, e.g., <a href="https://windows-host-name.domain.edu" class="bare">https://windows-host-name.domain.edu</a>, and close the dialog.</p>
</li>
<li>
<p>Make sure the security level for the <code>Local intranet</code> zone is set to <code>Medium-low</code> in <code>Custom level&#8230;&#8203;</code>.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>Enable Protected Mode</code> is checked by default, but it may need to be disabled if the above changes do not fully resolve access issues.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Restart the browser.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>During installation, make sure to use the host name and not localhost when setting up the DDF&#8217;s hostname, port, etc.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_high_availability_initial_setup"><a class="anchor" href="#_high_availability_initial_setup"></a><a class="link" href="#_high_availability_initial_setup">2.4. High Availability Initial Setup</a></h3>
<div class="paragraph">
<p>This section describes how to complete the initial setup of DDF in a <a href="introduction.html#_introduction_to_high_availability">Highly Available Cluster</a>.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A failover proxy that can route HTTP traffic according to the pattern described in the Introduction to High Availability.
It is recommended that a hardware failover proxy be used in a production environment.</p>
</li>
<li>
<p>Solr Cloud: See the <a href="#_solr_catalog_provider">Solr Cloud section</a> for installation and configuration
guidance to connect DDF nodes to Solr Cloud.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once the prerequisites have been met, the below steps can be followed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Unless listed in the <a href="#_high_availability_initial_setup_exceptions">High Availability Initial Setup Exceptions</a> section,
the normal steps can be followed for installing, configuring, and hardening.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the first DDF node. See the <a href="#_installing">Installation Section</a>.</p>
</li>
<li>
<p>Configure the first DDF node. See the <a href="#_configuring">Configuring Section</a>.</p>
</li>
<li>
<p>Optional: If hardening the first DDF node (excluding setting directory permissions). See the <a href="#_security_hardening">Hardening Section</a>.</p>
</li>
<li>
<p>Export the first DDF node&#8217;s configurations, install the second DDF node, and import the exported configurations on that node.
See <a href="#_reusing_configurations">Reusing Configurations</a>.</p>
</li>
<li>
<p>If hardening, set directory permissions on both DDF nodes. See <a href="#_setting_directory_permissions">Setting Directory Permissions</a>.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_high_availability_initial_setup_exceptions"><a class="anchor" href="#_high_availability_initial_setup_exceptions"></a><a class="link" href="#_high_availability_initial_setup_exceptions">2.4.1. High Availability Initial Setup Exceptions</a></h4>
<div class="paragraph">
<p>These steps are handled differently for the initial setup of a Highly Available Cluster.</p>
</div>
<div class="sect4">
<h5 id="_failover_proxy_integration"><a class="anchor" href="#_failover_proxy_integration"></a><a class="link" href="#_failover_proxy_integration">2.4.1.1. Failover Proxy Integration</a></h5>
<div class="paragraph">
<p>In order to integrate with a failover proxy, the DDF node&#8217;s system properties (in <code>&lt;DDF_HOME&gt;/etc/custom.system.properties</code>) must be changed to publish the correct port to external systems and users.
This must be done before installing the first DDF node. See <a href="#_high_availability_initial_setup">High Availability Initial Setup</a>.</p>
</div>
<div class="paragraph">
<p>There are two internal port properties that must be changed to whatever ports the DDF will use on its system.
Then there are two external port properties that must be changed to whatever ports the failover proxy is forwarding traffic through.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Make sure that the failover proxy is already running and forwarding traffic on the chosen ports before starting the DDF.
There may be unexpected behavior otherwise.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the below example, the failover proxy with a hostname of service.org is forwarding https traffic via 8993 and http traffic via 8181.
The DDF node will run on 1111 for https and 2222 for http (on the host that it&#8217;s hosted on).
The hostname of the DDF must match the hostname of the proxy.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>org.codice.ddf.system.hostname=service.org
org.codice.ddf.system.httpsPort=1111
org.codice.ddf.system.httpPort=2222
org.codice.ddf.system.port=${org.codice.ddf.system.httpsPort}

org.codice.ddf.external.hostname=service.org
org.codice.ddf.external.httpsPort=8993
org.codice.ddf.external.httpPort=8181
org.codice.ddf.external.port=${org.codice.ddf.external.httpsPort}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_identical_directory_structures"><a class="anchor" href="#_identical_directory_structures"></a><a class="link" href="#_identical_directory_structures">2.4.1.2. Identical Directory Structures</a></h5>
<div class="paragraph">
<p>The two DDF nodes need to be under identical root directories on their corresponding systems.
On Windows, this means they must be under the same drive.</p>
</div>
</div>
<div class="sect4">
<h5 id="_highly_available_security_auditing"><a class="anchor" href="#_highly_available_security_auditing"></a><a class="link" href="#_highly_available_security_auditing">2.4.1.3. Highly Available Security Auditing</a></h5>
<div class="paragraph">
<p>A third party tool will have to be used to persist the logs in a highly available manner.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Edit the <code>&lt;DDF_HOME&gt;/etc/org.ops4j.pax.logging.cfg</code> file to enable log4j2, following the steps in <a href="#_enabling_fallback_audit_logging">Enabling Fallback Audit Logging</a>.</p>
</li>
<li>
<p>Then put the appropriate log4j2 appender in <code>&lt;DDF_HOME&gt;/etc/log4j2.xml</code> to send logs to the chosen third party tool.
See <a href="https://logging.apache.org/log4j/2.x/manual/appenders.html">Log4j Appenders</a> <span class="image"><a class="image" href="_configuring_guest_claims_attribute_page"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="High Availability Initial Setup Exceptions"></a></span>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_shared_storage_provider"><a class="anchor" href="#_shared_storage_provider"></a><a class="link" href="#_shared_storage_provider">2.4.1.4. Shared Storage Provider</a></h5>
<div class="paragraph">
<p>The storage provider must be in a location that is shared between the two DDF nodes and must be highly available.
If hardening the Highly Available Cluster, this shared storage provider must be trusted/secured.
One way to accomplish this is to use the default <a href="reference.html#_org.codice.ddf.catalog.content.impl.FileSystemStorageProvider">Content File System Storage Provider</a> and configure it to point to a highly available shared directory.</p>
</div>
</div>
<div class="sect4">
<h5 id="_high_availability_certificates"><a class="anchor" href="#_high_availability_certificates"></a><a class="link" href="#_high_availability_certificates">2.4.1.5. High Availability Certificates</a></h5>
<div class="paragraph">
<p>Due to the nature of highly available environments, localhost is not suitable for use as a hostname to identify the DDF cluster.
The default certificate that ships with the product uses localhost as the common name, so this certificate needs to be replaced.
The following describes how to generate a certificate signed by the DDF Demo Certificate Authority that uses a proper hostname.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This certificate, and any subsequent certificates signed by the Demo CA, are intended for testing purposes only,
and should not be used in production.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Certificates need to have Subject Alternative Names (SANs) which will include the host for the failover
proxy and for both DDF nodes. A certificate with SANs signed by the Demo CA can be obtained by
navigating to <code>&lt;DDF_HOME&gt;/etc/certs/</code> and, assuming the proxy&#8217;s hostname is service.org, running
the following for UNIX operating systems:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>./CertNew.sh -cn service.org -san "DNS:service.org"</code></pre>
</div>
</div>
<div class="paragraph">
<p>or the following for Windows operating systems:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>CertNew -cn service.org -san "DNS:service.org"</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Systems that use DDF version 2.11.4 or later will automatically get a DNS SAN entry matching the CN
without the need to specify the <code>-san</code> argument to the <code>CertNew</code> command.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>More customization for certs can be achieved by following the steps at
<a href="quickstart.html#_creating_new_server_keystore_entry_with_the_certnew_scripts">Creating New Server Keystore Entry with the CertNew Scripts</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_high_availability_installation_profile"><a class="anchor" href="#_high_availability_installation_profile"></a><a class="link" href="#_high_availability_installation_profile">2.4.1.6. High Availability Installation Profile</a></h5>
<div class="paragraph">
<p>Instead of having to manually turn features on and off, there is a High Availability installation profile.
This profile will not show up in the UI Installer, but can be installed by executing <code>profile:install ha</code> on the command line <strong>instead</strong> of stepping through the UI Installer.
This profile will install all of the High Availability supported features.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring"><a class="anchor" href="#_configuring"></a><a class="link" href="#_configuring">3. Configuring</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>DDF is highly configurable and many of the components of the system can be configured to use an included DDF implementation or replaced with an existing component of an integrating system.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Configuration Requirements</div>
<div class="paragraph">
<p>Because components can easily be installed and uninstalled, it&#8217;s important to remember that for proper DDF functionality, at least the Catalog API, one Endpoint, and one Catalog Framework implementation must be active.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Configuration Tools</div>
<p>DDF provides several tools for configuring the system.
The <a href="#_admin_console_tutorial">Admin Console</a> is a useful interface for configuring applications, their features, and important settings.
Alternatively, many configurations can be updated through <a href="#_console_command_reference">console commands</a> entered into the Command Console.
Finally, configurations are stored in <a href="#_configuration_files">configuration files</a> within the <code>&lt;DDF_HOME&gt;</code> directory.</p>
</div>
<div class="paragraph">
<div class="title">Configuration Outline</div>
<p>While many configurations can be set or changed in any order, for ease of use of this documentation, similar subjects have been grouped together sequentially.</p>
</div>
<div class="paragraph">
<p>See <a href="#_managing_keystores_and_certificates">Keystores and certificates</a> to set up the certificates needed for messaging integrity and authentication.
Set up <a href="#_configuring_user_access">Users</a> with security attributes, then configure <a href="#_configuring_data_management">data</a> attribute handling, and finally, define the <a href="#_configuring_security_policies">Security Policies</a> that map between users and data and make decisions about access.</p>
</div>
<div class="paragraph">
<p>Connecting DDF to other data sources, including other instances of DDF is covered in the <a href="#_configuring_federation">Configuring Federation</a> section.</p>
</div>
<div class="paragraph">
<p>Lastly, see the <a href="#_configuring_for_special_deployments">Configuring for Special Deployments</a> section for guidance on common specialized installations, such as <a href="#_configuring_for_a_fanout_proxy">fanout</a> or <a href="#_reusing_configurations">multiple identical configurations</a>.</p>
</div>
<div class="sect2">
<h3 id="_admin_console_tutorial"><a class="anchor" href="#_admin_console_tutorial"></a><a class="link" href="#_admin_console_tutorial">3.1. Admin Console Tutorial</a></h3>
<div class="paragraph">
<p>The Admin Console is the centralized location for administering the system.
The Admin Console allows an administrator to configure and tailor system services and properties.
The default address for the Admin Console is https://{FQDN}:{PORT}/admin.</p>
</div>
<div class="paragraph">
<div class="title">System Settings Tab</div>
<p>The configuration and features installed can be viewed and edited from the <strong>System</strong> tab of the <strong>Admin Console</strong>.</p>
</div>
<div class="paragraph">
<div class="title">Managing Federation in the Admin Console</div>
<p>It is recommended to use the <strong>Catalog App &#8594; Sources</strong> tab to configure and manage sites/sources.</p>
</div>
<div class="paragraph">
<div class="title">Viewing Currently Active Applications from Admin Console</div>
<p>DDF displays all active applications in the Admin Console.
This view can be configured according to preference.
Either view has an <code>&gt;</code> arrow icon to view more information about the application as currently configured.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. Admin Console Views</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">View</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tile View</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The first view presented is the Tile View, displaying all active applications as individual tiles.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List View</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optionally, active applications can be displayed in a list format by clicking the list view button.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Application Detailed View</div>
<p>Each individual application has a detailed view to modify configurations specific to that application.
All applications have a standard set of tabs, although some apps may have additional ones with further information.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 6. Individual Application Views</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Tab</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Configuration tab lists all bundles associated with the application as links to configure any configurable properties of that bundle.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Managing Features Using the Admin Console</div>
<p>DDF includes many components, packaged as <em>features</em>, that can be installed and/or uninstalled without restarting the system.
Features are collections of OSGi bundles, configuration data, and/or other features.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Transitive Dependencies</div>
<div class="paragraph">
<p>Features may have dependencies on other features and will auto-install them as needed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the Admin Console, Features are found on the <strong>Features</strong> tab of the <strong>System</strong> tab.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>System</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Features</strong> tab.</p>
</li>
<li>
<p>Uninstalled features are shown with a <strong>play</strong> arrow under the <strong>Actions</strong> column.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select the <strong>play</strong> arrow for the desired feature.</p>
</li>
<li>
<p>The <strong>Status</strong> will change from <strong>Uninstalled</strong> to <strong>Installed</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Installed features are shown with a <strong>stop</strong> icon under the <strong>Actions</strong> column.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select the <strong>stop</strong> icon for the desired feature.</p>
</li>
<li>
<p>The <strong>Status</strong> will change from <strong>Installed</strong> to <strong>Uninstalled</strong>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_console_command_reference"><a class="anchor" href="#_console_command_reference"></a><a class="link" href="#_console_command_reference">3.2. Console Command Reference</a></h3>
<div class="paragraph">
<p>DDF provides access to a powerful Command Console to use to manage and configure the system.</p>
</div>
<div class="sect3">
<h4 id="_feature_commands"><a class="anchor" href="#_feature_commands"></a><a class="link" href="#_feature_commands">3.2.1. Feature Commands</a></h4>
<div class="paragraph">
<p>Individual features can also be added via the Command Console.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Determine which feature to install by viewing the available features on DDF.<br>
<code>ddf@local&gt;feature:list</code></p>
</li>
<li>
<p>The console outputs a list of all features available (installed and uninstalled). A snippet of the list output is shown below (the versions may differ):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>State         Version            Name                                     Repository                           Description
[installed  ] [2.15.0  ] security-handler-api                     security-services-app-2.15.0 API for authentication handlers for web applications.
[installed  ] [2.15.0  ] security-core                            security-services-app-2.15.0 DDF Security Core
[uninstalled] [2.15.0  ] security-expansion                       security-services-app-2.15.0 DDF Security Expansion
[installed  ] [2.15.0  ] security-pdp-authz                       security-services-app-2.15.0 DDF Security PDP.
[uninstalled] [2.15.0  ] security-pep-serviceauthz                security-services-app-2.15.0 DDF Security PEP Service AuthZ
[uninstalled] [2.15.0  ] security-expansion-user-attributes       security-services-app-2.15.0 DDF Security Expansion User Attributes Expansion
[uninstalled] [2.15.0  ] security-expansion-metacard-attributes   security-services-app-2.15.0 DDF Security Expansion Metacard Attributes Expansion
[installed  ] [2.15.0  ] security-sts-server                      security-services-app-2.15.0 DDF Security STS.
[installed  ] [2.15.0  ] security-sts-realm                       security-services-app-2.15.0 DDF Security STS Realm.
[uninstalled] [2.15.0  ] security-sts-ldaplogin                   security-services-app-2.15.0 DDF Security STS JAAS LDAP Login.
[uninstalled] [2.15.0  ] security-sts-ldapclaimshandler           security-services-app-2.15.0 Retrieves claims attributes from an LDAP store.</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check the bundle status to verify the service is started.<br>
<code>ddf@local&gt;list</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The console output should show an entry similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[ 117] [Active     ] [            ] [Started] [   75] DDF :: Catalog :: Source :: Dummy (&lt;version&gt;)</pre>
</div>
</div>
<div class="sect4">
<h5 id="_uninstalling_features_from_the_command_console"><a class="anchor" href="#_uninstalling_features_from_the_command_console"></a><a class="link" href="#_uninstalling_features_from_the_command_console">3.2.1.1. Uninstalling Features from the Command Console</a></h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Check the feature list to verify the feature is installed properly.<br>
<code>ddf@local&gt;feature:list</code></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>State         Version          Name                          Repository  		   Description
[installed  ] [2.15.0         ] ddf-core                      ddf-2.15.0
[uninstalled] [2.15.0         ] ddf-sts                       ddf-2.15.0
[installed  ] [2.15.0         ] ddf-security-common           ddf-2.15.0
[installed  ] [2.15.0         ] ddf-resource-impl             ddf-2.15.0
[installed  ] [2.15.0         ] ddf-source-dummy              ddf-2.15.0</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Uninstall the feature.<br>
<code>ddf@local&gt;feature:uninstall ddf-source-dummy</code></p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Dependencies that were auto-installed by the feature are not automatically uninstalled.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that the feature has uninstalled properly.<br>
<code>ddf@local&gt;feature:list</code></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>State         Version          Name                          Repository  Description
[installed  ] [2.15.0         ] ddf-core                      ddf-2.15.0
[uninstalled] [2.15.0         ] ddf-sts                       ddf-2.15.0
[installed  ] [2.15.0         ] ddf-security-common           ddf-2.15.0
[installed  ] [2.15.0         ] ddf-resource-impl             ddf-2.15.0
[uninstalled] [2.15.0         ] ddf-source-dummy              ddf-2.15.0</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuration_files"><a class="anchor" href="#_configuration_files"></a><a class="link" href="#_configuration_files">3.3. Configuration Files</a></h3>
<div class="paragraph">
<p>Many important configuration settings are stored in the <code>&lt;DDF_HOME&gt;</code> directory.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Depending on the environment, it may be easier for integrators and administrators to configure DDF using the Admin Console prior to disabling it for hardening purposes.
The Admin Console can be re-enabled for additional configuration changes.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In an environment hardened for security purposes, access to the Admin Console or the Command Console might be denied and using the latter in such an environment may cause configuration errors.
It is necessary to configure DDF (e.g., providers, Schematron rulesets, etc.) using <code>.config</code> files.</p>
</div>
<div class="paragraph">
<p>A template file is provided for some configurable DDF items so that they can be copied/renamed then modified with the appropriate settings.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>If the Admin Console is enabled again, all of the configuration done via <code>.config</code> files will be loaded and displayed.
However, note that the name of the <code>.config</code> file is not used in the Admin Console.
Rather, a universally unique identifier (UUID) is added when the DDF item was created and displays this UUID in the console (e.g., <code>OpenSearchSource.112f298e-26a5-4094-befc-79728f216b9b</code>)</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_configuring_global_settings_with_custom_system_properties"><a class="anchor" href="#_configuring_global_settings_with_custom_system_properties"></a><a class="link" href="#_configuring_global_settings_with_custom_system_properties">3.3.1. Configuring Global Settings with custom.system.properties</a></h4>
<div class="paragraph">
<p>Global configuration settings are configured via the properties file <code>custom.system.properties</code>.
These properties can be manually set by editing this file or set via the initial configuration from the Admin Console.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Any changes made to this file require a restart of the system to take effect.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The passwords configured in this section reflect the passwords used to decrypt JKS (Java KeyStore) files.
Changing these values without also changing the passwords of the JKS causes undesirable behavior.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 7. Global Settings</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 21.4285%;">
<col style="width: 14.2857%;">
<col style="width: 21.4285%;">
<col style="width: 21.4285%;">
<col style="width: 7.1431%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock">Keystore and Truststore Java Properties</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keystore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.net.ssl.keyStore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to server keystore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>etc/keystores/serverKeystore.jks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keystore Password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.net.ssl.keyStorePassword</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for accessing keystore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changeit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Truststore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.net.ssl.trustStore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The trust store used for SSL/TLS connections. Path is relative to <code>&lt;DDF_HOME&gt;</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>etc/keystores/serverTruststore.jks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Truststore Password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.net.ssl.trustStorePassword</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for server Truststore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changeit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keystore Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.net.ssl.keyStoreType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File extension to use with server keystore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Truststore Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.net.ssl.trustStoreType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File extension to use with server truststore</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock">Headless mode</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Headless Mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java.awt.headless</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Force java to run in headless mode for when the server doesn&#8217;t have a display device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock">Global URL Properties</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal Default Protocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.system.protocol</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default protocol that should be used to connect to this machine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>https://</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal Host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.internal.hostname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The hostname or IP address this system runs on.</p>
</div>
<div class="paragraph">
<p>If the hostname is changed during the install to something other than <code>localhost</code> a new keystore and truststore must be provided. See <a href="#_managing_keystores_and_certificates">Managing Keystores and Certificates</a> for details.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal HTTPS Port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.system.httpsPort</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The https port that the system uses.</p>
<p class="tableblock">NOTE: This <strong>DOES</strong> change the port the system runs on.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8993</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal HTTP Port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.system.HttpPort</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The http port that the system uses.</p>
<p class="tableblock">NOTE: This <strong>DOES</strong> change the port the system runs on.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8181</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal Default Port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.system.port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default port that the system uses. This should match either the above http or https port.</p>
<p class="tableblock">NOTE: This <strong>DOES</strong> change the port the system runs on.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8993</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal Root Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.system.rootContext</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The base or root context that services will be made available under.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/services</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">External Default Protocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.external.protocol</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default protocol that should be used to connect to this machine.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>https://</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">External Host</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.external.hostname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The hostname or IP address used to advertise the system. Do not enter <code>localhost</code>. Possibilities include the address of a single node or that of a load balancer in a multi-node deployment.</p>
</div>
<div class="paragraph">
<p>If the hostname is changed during the install to something other than <code>localhost</code> a new keystore and truststore must be provided. See <a href="#_managing_keystores_and_certificates">Managing Keystores and Certificates</a> for details.</p>
</div>
<div class="paragraph">
<p>NOTE:
Does not change the address the system runs on.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>localhost</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTPS Port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.external.httpsPort</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The https port used to advertise the system.</p>
<p class="tableblock">NOTE: This does not change the port the system runs on.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8993</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">External HTTP Port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.external.httpPort</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The http port used to advertise the system.</p>
<p class="tableblock">NOTE: This does not change the port the system runs on.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8181</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">External Default Port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.external.port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default port used to advertise the system. This should match either the above http or https port.</p>
<p class="tableblock">NOTE: Does not change the port the system runs on.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8993</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">External Root Context</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.external.context</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The base or root context that services will be advertised under.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/services</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock">System Information Properties</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Site Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.system.siteName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The site name for DDF.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ddf.distribution</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Site Contact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.system.siteContact</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The email address of the site contact.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.system.version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The version of DDF that is running.</p>
<p class="tableblock">This value should not be changed from the factory default.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2.15.0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Organization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.system.organization</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The organization responsible for this installation of DDF.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Codice Foundation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registry ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.system.registry-id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The registry id for this installation of DDF.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock">Thread Pool Settings</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thread Pool Size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.system.threadPoolSize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Size of thread pool used for handling UI queries, federating requests, and downloading resources. See <a href="#_configuring_thread_pools">Configuring Thread Pools</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>128</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock">HTTPS Specific Settings</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cipher Suites</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>https.cipherSuites</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cipher suites to use with secure sockets. If using the JCE unlimited strength policy, use this list in place of the defaults:</p>
<p class="tableblock">.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,</code></p>
<p class="tableblock"><code>TLS_DHE_RSA_WITH_AES_128_CBC_SHA256,</code></p>
<p class="tableblock"><code>TLS_DHE_RSA_WITH_AES_128_CBC_SHA,</code></p>
<p class="tableblock"><code>TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,</code></p>
<p class="tableblock"><code>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Https Protocols</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>https.protocols</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocols to allow for secure connections</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TLSv1.1,TLSv1.2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allow Basic Auth Over Http</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.allowBasicAuthOverHttp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to true to allow Basic Auth credentials to be sent over HTTP unsecurely. This should only be done in a test environment. These events will be audited.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restrict the Security Token Service to allow connections only from DNs matching these patterns</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ws-security.subject.cert.constraints</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set to a comma separated list of regex patterns to define which hosts are allowed to connect to the STS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock">XML Settings</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parse XML documents into DOM object trees</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.xml.parsers.DocumentBuilderFactory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables Xerces-J implementation of <code>DocumentBuilderFactory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.apache.xerces.jaxp.DocumentBuilderFactoryImpl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock">Catalog Source Retry Interval</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial Endpoint Contact Interval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>org.codice.ddf.platform.util.http.initialRetryInterval</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a Catalog Source is unavailable, try to connect to it after the initial interval has elapsed.
After every retry, the interval doubles, up to a given maximum interval.
The interval is measured in seconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum Endpoint Contact Interval</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Maximum seconds between attempts to establish contact with unavailable Catalog Source.</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Do not wait longer than the maximum interval to attempt to establish a connection with an
unavailable Catalog Source. Smaller values result in more current information about the status
 of Catalog Sources, but cause more network traffic.
The interval is measured in seconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>300</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock">File Upload Settings</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File extensions flagged as potentially dangerous to the host system or external clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bad.file.extensions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Files uploaded with these bad file extensions will have their file names sanitized before being saved</p>
<p class="tableblock">E.g. sample_file.exe will be renamed to sample_file.bin upon ingest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.exe,
.jsp,
.html,
.js,
.php,
.phtml,
.php3,
.php4,
.php5,
.phps,
.shtml,
.jhtml,
.pl,
.py,
.cgi,
.msi,
.com,
.scr,
.gadget,
.application,
.pif,
.hta,
.cpl,
.msc,
.jar,
.kar,
.bat,
.cmd,
.vb,
.vbs,
.vbe,
.jse,
.ws,
.wsf,
.wsc,
.wsh,
.ps1,
.ps1xml,
.ps2,
.ps2xml,
.psc1,
.psc2,
.msh,
.msh1,
.msh2,
.mshxml,
.msh1xml,
.msh2xml,
.scf,
.lnk,
.inf,
.reg,
.dll,
.vxd,
.cpl,
.cfg,
.config,
.crt,
.cert,
.pem,
.jks,
.p12,
.p7b,
.key,
.der,
.csr,
.jsb,
.mhtml,
.mht,
.xhtml,
.xht</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File names flagged as potentially dangerous to the host system or external clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bad.files</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Files uploaded with these bad file names will have their file names sanitized before being saved</p>
<p class="tableblock">E.g. crossdomain.xml will be renamed to file.bin upon ingest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>crossdomain.xml,
clientaccesspolicy.xml,
.htaccess,
.htpasswd,
hosts,
passwd,
group,
resolv.conf,
nfs.conf,
ftpd.conf,
ntp.conf,
web.config,
robots.txt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mime types flagged as potentially dangerous to external clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bad.mime.types</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Files uploaded with these mime types will be rejected from the upload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>text/html,
text/javascript,
text/x-javascript,
application/x-shellscript,
text/scriptlet,
application/x-msdownload,
application/x-msmetafile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File names flagged as potentially dangerous to external clients</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ignore.files</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Files uploaded with these file names will be rejected from the upload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>.DS_Store,
Thumbs.db</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock"><a id="SolrProperties"></a>General Solr Catalog Properties</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_solr_client"></a>Solr Catalog Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr.client</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type of Solr configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HttpSolrClient</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock">Solr Cloud Properties</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zookeeper Nodes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr.cloud.zookeeper</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zookeeper hostnames and port numbers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zookeeperhost1:2181,
zookeeperhost2:2181,
zookeeperhost3:2181</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top" colspan="6"><p class="tableblock"><a id="_managed_solr_properties"></a>Managed Solr Server Properties</p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_solr_autopassword"></a>Allow DDF to change the Solr server password if it detects the default password is in use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr.attemptAutoPasswordChange</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, DDF attempts to change the default Solr server password to a randomly
generated UUID. This property is only used if the <code>solr.client</code> property is <code>HttpSolrClient</code>
and the <code>solrBasicAuth</code> property is <code>true</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solr Data Directory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr.data.dir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Directory for Solr core files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>&lt;DDF_HOME&gt;</code>/solr/server/solr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solr server HTTP port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr.http.port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solr server&#8217;s port.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>8994</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_solr_server_url"></a>Solr server URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr.http.url</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL for a HTTP Solr server (required for HTTP Solr)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solr Heap Size</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr.mem</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Memory allocated to the Solr Java process</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2g</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_solr_password"></a>Encrypted Solr server password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr.password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password used for basic authentication to Solr. This property is only used if the
<code>solr.client</code> property is <code>HttpSolrClient</code> and the <code>solrBasicAuth</code> property is <code>true</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>admin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_solr_username"></a>Solr server username</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr.username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username for basic authentication to Solr. This property is only used if the
<code>solr.client</code> property is <code>HttpSolrClient</code> and the <code>solrBasicAuth</code> property is <code>true</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>admin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="_solr_usebasicauth"></a>Use basic authentication for Solr server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr.useBasicAuth</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, the HTTP Solr Client sends a username and password when sending requests to Solr server.
This property is only used if the <code>solr.client</code> property is <code>HttpSolrClient</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start Solr server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>start.solr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If true, application manages Solr server lifecycle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>These properties are available to be used as variable parameters in input url fields within the Admin Console.
For example, the url for the local csw service (https://{FQDN}:{PORT}/services/csw) could be defined as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>${org.codice.ddf.system.protocol}${org.codice.ddf.system.hostname}:${org.codice.ddf.system.port}${org.codice.ddf.system.rootContext}/csw</code></pre>
</div>
</div>
<div class="paragraph">
<p>This variable version is more verbose, but will not need to be changed if the system <code>host</code>, <code>port</code> or <code>root</code> context changes.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Only root can access ports &lt; 1024 on Unix systems.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_with_config_files"><a class="anchor" href="#_configuring_with_config_files"></a><a class="link" href="#_configuring_with_config_files">3.3.2. Configuring with .config Files</a></h4>
<div class="paragraph">
<p>The DDF is configured using <code>.config</code> files.
Like the Karaf <code>.cfg</code> files, these configuration files must be located in the <code>&lt;DDF_HOME&gt;/etc/</code> directory.
Unlike the Karaf <code>.cfg</code> files, <code>.config</code> files must follow the naming convention that includes the <em>configuration persistence ID</em> (PID) that they represent.
The filenames must be the pid with a <code>.config</code> extension.
This type of configuration file also supports lists within configuration values (metatype <code>cardinality</code> attribute greater than 1) and String, Boolean, Integer, Long, Float, and Double values.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>This new configuration file format <strong>must</strong> be used for any configuration that makes use of lists.
Examples include Web Context Policy Manager (<code>org.codice.ddf.security.policy.context.impl.PolicyManager.config</code>)
and Security STS Guest Claims Handler (<code>ddf.security.sts.guestclaims.config</code>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Only one configuration file should exist for any given PID.
The result of having both a <code>.cfg</code> and a <code>.config</code> file for the same PID is undefined and could cause the application to fail.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The main purpose of the configuration files is to allow administrators to pre-configure DDF without having to use the Admin Console.
In order to do so, the configuration files need to be copied to the <code>&lt;DDF_HOME&gt;/etc</code> directory after DDF zip has been extracted.</p>
</div>
<div class="paragraph">
<p>Upon start up, all the <code>.config</code> files located in <code>&lt;DDF_HOME&gt;/etc</code> are automatically read and processed.
DDF monitors the <code>&lt;DDF_HOME&gt;/etc</code> directory for any new <code>.config</code> file that gets added.
As soon as a new file is detected, it is read and processed.
Changes to these configurations from the Admin Console or otherwise are persisted in the original configuration file in the <code>&lt;DDF_HOME&gt;/etc</code> directory.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_user_access"><a class="anchor" href="#_configuring_user_access"></a><a class="link" href="#_configuring_user_access">3.4. Configuring User Access</a></h3>
<div class="paragraph">
<p>DDF does not define accounts or types of accounts to support access.
DDF uses an <em>attribute based access control</em> (<strong>ABAC</strong>) model.
For reference, ABAC systems control access by evaluating rules against the attributes of the entities (<em>subject</em> and <em>object</em>), actions, and the environment relevant to a request.</p>
</div>
<div class="paragraph">
<p>DDF can be configured to access many different types of user stores to manage and monitor user access.</p>
</div>
<div class="sect3">
<h4 id="_configuring_guest_access"><a class="anchor" href="#_configuring_guest_access"></a><a class="link" href="#_configuring_guest_access">3.4.1. Configuring Guest Access</a></h4>
<div class="paragraph">
<p>Unauthenticated access to a secured DDF system is provided by the <strong>Guest</strong> user.
By default, DDF allows guest access.</p>
</div>
<div class="paragraph">
<p>Because DDF does not know the identity of a Guest user, it cannot assign security attributes to the Guest.
The administrator must configure the attributes and values (i.e. the "claims") to be assigned to Guests.
The Guest Claims become the default minimum attributes for every user, both authenticated and unauthenticated.
Even if a user claim is more restrictive, the guest claim will grant access, so ensure the guest claim is only as permissive as necessary.</p>
</div>
<div class="paragraph">
<p>The <strong>Guest</strong> user is uniquely identified with a Principal name of the format <code>Guest@UID</code>. The unique
identifier is assigned to a Guest based on its source IP address and is cached so that subsequent
Guest accesses from the same IP address within a 30-minute window will get the same unique identifier.
To support administrators' need to track the source IP Address for a given Guest user, the IP Address
and unique identifier mapping will be audited in the security log.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Make sure that all the default logical names for locations of the security services are defined.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_denying_guest_user_access"><a class="anchor" href="#_denying_guest_user_access"></a><a class="link" href="#_denying_guest_user_access">3.4.1.1. Denying Guest User Access</a></h5>
<div class="paragraph">
<p>To disable guest access for a context, use the <a href="#_configuring_the_web_context_policy_manager">Web Context Policy Manager</a> configuration to remove <strong>Guest</strong>.
from the <strong>Authentication Type</strong> for that context.
Only authorized users are then allowed to continue to the Search UI page.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If using the included IdP for authentication, disable the <code>Allow Guest Access</code> option by <a href="#_configuring_the_idp_server">Configuring the IdP Server</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_allowing_guest_user_access"><a class="anchor" href="#_allowing_guest_user_access"></a><a class="link" href="#_allowing_guest_user_access">3.4.1.2. Allowing Guest User Access</a></h5>
<div class="paragraph">
<p>Guest authentication must be enabled and configured to allow guest users.
Once the guest user is configured, redaction and filtering of metadata is done for the guest user the same way it is done for normal users.</p>
</div>
<div class="paragraph">
<p>To enable guest authentication for a context, use the <a href="#_configuring_the_web_context_policy_manager">Web Context Policy Manager</a> configuration to change the <strong>Authentication Type</strong> for that context to <strong>Guest</strong>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Web Context Policy Manager</strong>.</p>
</li>
<li>
<p>Select the desired context (<code>/</code>, <code>/search</code>, <code>/admin</code>, etc.).</p>
</li>
<li>
<p>Add <code>Guest</code> to the <strong>Authentication Type</strong> list.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Separate entries with a <code>|</code> symbol (eg. <code>/=SAML|Guest</code>).</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="sect5">
<h6 id="_configuring_guest_interceptor_if_allowing_guest_users"><a class="anchor" href="#_configuring_guest_interceptor_if_allowing_guest_users"></a><a class="link" href="#_configuring_guest_interceptor_if_allowing_guest_users">3.4.1.2.1. Configuring Guest Interceptor if Allowing Guest Users</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a legacy client requires the use of the secured SOAP endpoints, the <a href="developing.html#_configuring_guest_interceptor">guest interceptor</a> should be configured.
Otherwise, the guest interceptor and <code>public</code> endpoints should be uninstalled for a hardened system.</p>
</div>
<div class="paragraph">
<p>To uninstall the guest interceptor and <code>public</code> endpoints:
. Navigate to the <strong>Admin Console</strong>.
. Select the <strong>System</strong> tab.
. Open the <strong>Features</strong> section.
. Search for <strong>security-interceptor-guest</strong>.
. Click the <strong>Uninstall</strong> button.</p>
</div>
</div>
<div class="sect5">
<h6 id="_configuring_guest_claim_attributes_2"><a class="anchor" href="#_configuring_guest_claim_attributes_2"></a><a class="link" href="#_configuring_guest_claim_attributes_2">3.4.1.2.2. Configuring Guest Claim Attributes</a></h6>
<div class="paragraph">
<p>A guest user&#8217;s attributes define the most permissive set of claims for an unauthenticated user.</p>
</div>
<div class="paragraph">
<p>A guest user&#8217;s claim attributes are stored in configuration, not in the LDAP as normal authenticated users' attributes are.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Security Guest Claims Handler</strong>.</p>
</li>
<li>
<p>Add any additional attributes desired for the guest user.</p>
</li>
<li>
<p>Save changes.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_rest_services_for_users"><a class="anchor" href="#_configuring_rest_services_for_users"></a><a class="link" href="#_configuring_rest_services_for_users">3.4.2. Configuring REST Services for Users</a></h4>
<div class="paragraph">
<p>If using REST services or connecting to REST sources, several configuration options are available.</p>
</div>
<div class="paragraph">
<p>DDF includes an <a href="#_configuring_included_identity_provider">Identity Provider (IdP)</a>, but can also be configured to support an <a href="#_connecting_to_an_external_identity_provider">external IdP</a> or <a href="#_configuring_without_an_identity_provider">no IdP</a> at all.
The following diagram shows the configuration options.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_configuring_guest_claims_attribute_page"><img src="data:image/png;base64,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" alt="REST Services Configuration Options" width="1140" height="308"></a>
</div>
<div class="title">REST Services Configuration Options</div>
</div>
<div class="sect4">
<h5 id="_configuring_included_identity_provider"><a class="anchor" href="#_configuring_included_identity_provider"></a><a class="link" href="#_configuring_included_identity_provider">3.4.2.1. Configuring Included Identity Provider</a></h5>
<div class="paragraph">
<p>The included IdP is installed by default.</p>
</div>
<div class="olist arabic">
<div class="title">Installing the IdP from the Admin Console</div>
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>System</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Features</strong> tab.</p>
</li>
<li>
<p>Install <code>security-idp</code> feature.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Installing the IdP from the Command Console</div>
<p>Run the command <code>feature:install security-idp</code> from the Command Console.</p>
</div>
<div class="olist arabic">
<div class="title"><a id="_configuring_the_idp_server"></a>Configuring the IdP Server</div>
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>IdP Server</strong>.</p>
</li>
<li>
<p>Configure Authentication Request requirements</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Disable the <strong>Require Signed AuthnRequests</strong> option to allow processing of authentication requests without signatures.</p>
</li>
<li>
<p>Disable the <strong>Limit RelayStates to 80 Bytes</strong> option to allow interoperability with Service Providers that are not compliant with the SAML Specifications and send RelayStates larger than 80 bytes.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Configure Guest Access:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Disable the <strong>Allow Guest Access</strong> option to disallow a user to authenticate against the IdP with a guest account.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Configure the Service Providers (SP) Metadata:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select the <code>+</code> next to <strong>SP Metadata</strong> to add a new entry.</p>
</li>
<li>
<p>Populate the new entry with:</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>an HTTPS URL (<a href="https://" class="bare">https://</a>) such as <a href="https://localhost:8993/services/saml/sso/metadata1" class="bare">https://localhost:8993/services/saml/sso/metadata1</a>,</p>
</li>
<li>
<p>a file URL (file:), or</p>
</li>
<li>
<p>an XML block to refer to desired metadata.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">Service Provider Metadata Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td>
  <td class="code"><pre><span class="tag">&lt;md:EntityDescriptor</span> <span class="attribute-name">xmlns:md</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:metadata</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">entityID</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://localhost:8993/services/saml</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;md:SPSSODescriptor</span> <span class="attribute-name">protocolSupportEnumeration</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:protocol</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;md:KeyDescriptor</span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">signing</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;ds:KeyInfo</span> <span class="attribute-name">xmlns:ds</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2000/09/xmldsig#</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;ds:X509Data&gt;</span>
        <span class="tag">&lt;ds:X509Certificate&gt;</span>
          MIIDEzCCAnygAwIBAgIJAIzc4FYrIp9mMA0GCSqGSIb3DQEBBQUAMHcxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJBWjEMMAoGA1UECgwDRERGMQwwCgYDVQQLDANEZXYxGTAXBgNVBAMMEERERiBEZW1vIFJvb3QgQ0ExJDAiBgkqhkiG9w0BCQEWFWRkZnJvb3RjYUBleGFtcGxlLm9yZzAeFw0xNDEyMTAyMTU4MThaFw0xNTEyMTAyMTU4MThaMIGDMQswCQYDVQQGEwJVUzELMAkGA1UECAwCQVoxETAPBgNVBAcMCEdvb2R5ZWFyMQwwCgYDVQQKDANEREYxDDAKBgNVBAsMA0RldjESMBAGA1UEAwwJbG9jYWxob3N0MSQwIgYJKoZIhvcNAQkBFhVsb2NhbGhvc3RAZXhhbXBsZS5vcmcwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMeCyNZbCTZphHQfB5g8FrgBq1RYzV7ikVw/pVGkz8gx3l3A99s8WtA4mRAeb6n0vTR9yNBOekW4nYOiEOq//YTi/frI1kz0QbEH1s2cI5nFButabD3PYGxUSuapbc+AS7+Pklr0TDI4MRzPPkkTp4wlORQ/a6CfVsNr/mVgL2CfAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAnBglghkgBhvhCAQ0EGhYYRk9SIFRFU1RJTkcgUFVSUE9TRSBPTkxZMB0GA1UdDgQWBBSA95QIMyBAHRsd0R4s7C3BreFrsDAfBgNVHSMEGDAWgBThVMeX3wrCv6lfeF47CyvkSBe9xjAgBgNVHREEGTAXgRVsb2NhbGhvc3RAZXhhbXBsZS5vcmcwDQYJKoZIhvcNAQEFBQADgYEAtRUp7fAxU/E6JD2Kj/+CTWqu8Elx13S0TxoIqv3gMoBW0ehyzEKjJi0bb1gUxO7n1SmOESp5sE3jGTnh0GtYV0D219z/09n90cd/imAEhknJlayyd0SjpnaL9JUd8uYxJexy8TJ2sMhsGAZ6EMTZCfT9m07XduxjsmDz0hlSGV0=
        <span class="tag">&lt;/ds:X509Certificate&gt;</span>
      <span class="tag">&lt;/ds:X509Data&gt;</span>
    <span class="tag">&lt;/ds:KeyInfo&gt;</span>
  <span class="tag">&lt;/md:KeyDescriptor&gt;</span>
  <span class="tag">&lt;md:KeyDescriptor</span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">encryption</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;ds:KeyInfo</span> <span class="attribute-name">xmlns:ds</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2000/09/xmldsig#</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;ds:X509Data&gt;</span>
        <span class="tag">&lt;ds:X509Certificate&gt;</span>
        MIIDEzCCAnygAwIBAgIJAIzc4FYrIp9mMA0GCSqGSIb3DQEBBQUAMHcxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJBWjEMMAoGA1UECgwDRERGMQwwCgYDVQQLDANEZXYxGTAXBgNVBAMMEERERiBEZW1vIFJvb3QgQ0ExJDAiBgkqhkiG9w0BCQEWFWRkZnJvb3RjYUBleGFtcGxlLm9yZzAeFw0xNDEyMTAyMTU4MThaFw0xNTEyMTAyMTU4MThaMIGDMQswCQYDVQQGEwJVUzELMAkGA1UECAwCQVoxETAPBgNVBAcMCEdvb2R5ZWFyMQwwCgYDVQQKDANEREYxDDAKBgNVBAsMA0RldjESMBAGA1UEAwwJbG9jYWxob3N0MSQwIgYJKoZIhvcNAQkBFhVsb2NhbGhvc3RAZXhhbXBsZS5vcmcwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMeCyNZbCTZphHQfB5g8FrgBq1RYzV7ikVw/pVGkz8gx3l3A99s8WtA4mRAeb6n0vTR9yNBOekW4nYOiEOq//YTi/frI1kz0QbEH1s2cI5nFButabD3PYGxUSuapbc+AS7+Pklr0TDI4MRzPPkkTp4wlORQ/a6CfVsNr/mVgL2CfAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAnBglghkgBhvhCAQ0EGhYYRk9SIFRFU1RJTkcgUFVSUE9TRSBPTkxZMB0GA1UdDgQWBBSA95QIMyBAHRsd0R4s7C3BreFrsDAfBgNVHSMEGDAWgBThVMeX3wrCv6lfeF47CyvkSBe9xjAgBgNVHREEGTAXgRVsb2NhbGhvc3RAZXhhbXBsZS5vcmcwDQYJKoZIhvcNAQEFBQADgYEAtRUp7fAxU/E6JD2Kj/+CTWqu8Elx13S0TxoIqv3gMoBW0ehyzEKjJi0bb1gUxO7n1SmOESp5sE3jGTnh0GtYV0D219z/09n90cd/imAEhknJlayyd0SjpnaL9JUd8uYxJexy8TJ2sMhsGAZ6EMTZCfT9m07XduxjsmDz0hlSGV0=
        <span class="tag">&lt;/ds:X509Certificate&gt;</span>
      <span class="tag">&lt;/ds:X509Data&gt;</span>
    <span class="tag">&lt;/ds:KeyInfo&gt;</span>
  <span class="tag">&lt;/md:KeyDescriptor&gt;</span>
  <span class="tag">&lt;md:SingleLogoutService</span> <span class="attribute-name">Binding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">Location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://localhost:8993/logout</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;md:SingleLogoutService</span> <span class="attribute-name">Binding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">Location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://localhost:8993/logout</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;md:AssertionConsumerService</span> <span class="attribute-name">Binding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">Location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://localhost:8993/services/saml/sso</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;md:AssertionConsumerService</span> <span class="attribute-name">Binding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">Location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://localhost:8993/services/saml/sso</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/md:SPSSODescriptor&gt;</span>
<span class="tag">&lt;/md:EntityDescriptor&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Configuring IdP as the Authentication Type</div>
<p>To use the IdP for authentication,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Web Context Policy Manager</strong>.</p>
</li>
<li>
<p>Under <strong>Authentication Types</strong>, set the IdP authentication type to context paths as necessary.
Note that it should only be used on context paths that will be accessed by users via web browsers. For example:</p>
<div class="ulist">
<ul>
<li>
<p><code>/search=IdP</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Other authentication types can also be used in conjunction with the IdP type.
For example, if you wanted to secure the entire system with the IdP, but still allow legacy clients that dont understand the SAML ECP specification to connect, you could set <code>/=IdP|PKI</code>.
With that configuration, any clients that failed to connect using either the SAML 2.0 Web SSO Profile or the SAML ECP specification would fall back to 2-way TLS for authentication.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you have configured <code>/search</code> to use IdP, ensure to select the "External Authentication" checkbox in Search UI standard settings.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title"><a id="_configuring_idp_sp"></a>Configuring the SP</div>
<p>To configure the IdP client (also known as the SP) that interacts with the specified IdP,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>IdP Client</strong>.</p>
</li>
<li>
<p>Populate <strong>IdP Metadata</strong> field through one of the following:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>an HTTPS URL (<a href="https://" class="bare">https://</a>) e.g., <a href="https://localhost:8993/services/idp/login/metadata" class="bare">https://localhost:8993/services/idp/login/metadata</a>,</p>
</li>
<li>
<p>a file URL (file:), or</p>
</li>
<li>
<p>an XML block to refer to desired metadata.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">IdP Client (SP) example.xml</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td>
  <td class="code"><pre><span class="tag">&lt;md:EntityDescriptor</span> <span class="attribute-name">xmlns:md</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:metadata</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">entityID</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://localhost:8993/services/idp/login</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
  <span class="tag">&lt;md:IDPSSODescriptor</span> <span class="attribute-name">WantAuthnRequestsSigned</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">true</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">protocolSupportEnumeration</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:protocol</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;md:KeyDescriptor</span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">signing</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;ds:KeyInfo</span> <span class="attribute-name">xmlns:ds</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2000/09/xmldsig#</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;ds:X509Data&gt;</span>
          <span class="tag">&lt;ds:X509Certificate&gt;</span>
            MIIDEzCCAnygAwIBAgIJAIzc4FYrIp9mMA0GCSqGSIb3DQEBBQUAMHcxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJBWjEMMAoGA1UECgwDRERGMQwwCgYDVQQLDANEZXYxGTAXBgNVBAMMEERERiBEZW1vIFJvb3QgQ0ExJDAiBgkqhkiG9w0BCQEWFWRkZnJvb3RjYUBleGFtcGxlLm9yZzAeFw0xNDEyMTAyMTU4MThaFw0xNTEyMTAyMTU4MThaMIGDMQswCQYDVQQGEwJVUzELMAkGA1UECAwCQVoxETAPBgNVBAcMCEdvb2R5ZWFyMQwwCgYDVQQKDANEREYxDDAKBgNVBAsMA0RldjESMBAGA1UEAwwJbG9jYWxob3N0MSQwIgYJKoZIhvcNAQkBFhVsb2NhbGhvc3RAZXhhbXBsZS5vcmcwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMeCyNZbCTZphHQfB5g8FrgBq1RYzV7ikVw/pVGkz8gx3l3A99s8WtA4mRAeb6n0vTR9yNBOekW4nYOiEOq//YTi/frI1kz0QbEH1s2cI5nFButabD3PYGxUSuapbc+AS7+Pklr0TDI4MRzPPkkTp4wlORQ/a6CfVsNr/mVgL2CfAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAnBglghkgBhvhCAQ0EGhYYRk9SIFRFU1RJTkcgUFVSUE9TRSBPTkxZMB0GA1UdDgQWBBSA95QIMyBAHRsd0R4s7C3BreFrsDAfBgNVHSMEGDAWgBThVMeX3wrCv6lfeF47CyvkSBe9xjAgBgNVHREEGTAXgRVsb2NhbGhvc3RAZXhhbXBsZS5vcmcwDQYJKoZIhvcNAQEFBQADgYEAtRUp7fAxU/E6JD2Kj/+CTWqu8Elx13S0TxoIqv3gMoBW0ehyzEKjJi0bb1gUxO7n1SmOESp5sE3jGTnh0GtYV0D219z/09n90cd/imAEhknJlayyd0SjpnaL9JUd8uYxJexy8TJ2sMhsGAZ6EMTZCfT9m07XduxjsmDz0hlSGV0=
          <span class="tag">&lt;/ds:X509Certificate&gt;</span>
        <span class="tag">&lt;/ds:X509Data&gt;</span>
      <span class="tag">&lt;/ds:KeyInfo&gt;</span>
    <span class="tag">&lt;/md:KeyDescriptor&gt;</span>
    <span class="tag">&lt;md:KeyDescriptor</span> <span class="attribute-name">use</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">encryption</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;ds:KeyInfo</span> <span class="attribute-name">xmlns:ds</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">http://www.w3.org/2000/09/xmldsig#</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        <span class="tag">&lt;ds:X509Data&gt;</span>
          <span class="tag">&lt;ds:X509Certificate&gt;</span>
            MIIDEzCCAnygAwIBAgIJAIzc4FYrIp9mMA0GCSqGSIb3DQEBBQUAMHcxCzAJBgNVBAYTAlVTMQswCQYDVQQIDAJBWjEMMAoGA1UECgwDRERGMQwwCgYDVQQLDANEZXYxGTAXBgNVBAMMEERERiBEZW1vIFJvb3QgQ0ExJDAiBgkqhkiG9w0BCQEWFWRkZnJvb3RjYUBleGFtcGxlLm9yZzAeFw0xNDEyMTAyMTU4MThaFw0xNTEyMTAyMTU4MThaMIGDMQswCQYDVQQGEwJVUzELMAkGA1UECAwCQVoxETAPBgNVBAcMCEdvb2R5ZWFyMQwwCgYDVQQKDANEREYxDDAKBgNVBAsMA0RldjESMBAGA1UEAwwJbG9jYWxob3N0MSQwIgYJKoZIhvcNAQkBFhVsb2NhbGhvc3RAZXhhbXBsZS5vcmcwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMeCyNZbCTZphHQfB5g8FrgBq1RYzV7ikVw/pVGkz8gx3l3A99s8WtA4mRAeb6n0vTR9yNBOekW4nYOiEOq//YTi/frI1kz0QbEH1s2cI5nFButabD3PYGxUSuapbc+AS7+Pklr0TDI4MRzPPkkTp4wlORQ/a6CfVsNr/mVgL2CfAgMBAAGjgZkwgZYwCQYDVR0TBAIwADAnBglghkgBhvhCAQ0EGhYYRk9SIFRFU1RJTkcgUFVSUE9TRSBPTkxZMB0GA1UdDgQWBBSA95QIMyBAHRsd0R4s7C3BreFrsDAfBgNVHSMEGDAWgBThVMeX3wrCv6lfeF47CyvkSBe9xjAgBgNVHREEGTAXgRVsb2NhbGhvc3RAZXhhbXBsZS5vcmcwDQYJKoZIhvcNAQEFBQADgYEAtRUp7fAxU/E6JD2Kj/+CTWqu8Elx13S0TxoIqv3gMoBW0ehyzEKjJi0bb1gUxO7n1SmOESp5sE3jGTnh0GtYV0D219z/09n90cd/imAEhknJlayyd0SjpnaL9JUd8uYxJexy8TJ2sMhsGAZ6EMTZCfT9m07XduxjsmDz0hlSGV0=
          <span class="tag">&lt;/ds:X509Certificate&gt;</span>
        <span class="tag">&lt;/ds:X509Data&gt;</span>
      <span class="tag">&lt;/ds:KeyInfo&gt;</span>
    <span class="tag">&lt;/md:KeyDescriptor&gt;</span>
    <span class="tag">&lt;md:SingleLogoutService</span> <span class="attribute-name">Binding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">Location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://localhost:8993/logout</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;md:SingleLogoutService</span> <span class="attribute-name">Binding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">Location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://localhost:8993/logout</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;md:NameIDFormat&gt;</span>
      urn:oasis:names:tc:SAML:2.0:nameid-format:persistent
    <span class="tag">&lt;/md:NameIDFormat&gt;</span>
    <span class="tag">&lt;md:NameIDFormat&gt;</span>
      urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified
    <span class="tag">&lt;/md:NameIDFormat&gt;</span>
    <span class="tag">&lt;md:NameIDFormat&gt;</span>
      urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName
    <span class="tag">&lt;/md:NameIDFormat&gt;</span>
    <span class="tag">&lt;md:SingleSignOnService</span> <span class="attribute-name">Binding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">Location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://localhost:8993/services/idp/login</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
    <span class="tag">&lt;md:SingleSignOnService</span> <span class="attribute-name">Binding</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">Location</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">https://localhost:8993/services/idp/login</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>
  <span class="tag">&lt;/md:IDPSSODescriptor&gt;</span>
<span class="tag">&lt;/md:EntityDescriptor&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>When using the included IdP, DDF can be configured to use the <a href="#_configuring_included_sts">included Security Token Service(STS)</a>.</p>
</div>
<div class="sect5">
<h6 id="_configuring_included_sts"><a class="anchor" href="#_configuring_included_sts"></a><a class="link" href="#_configuring_included_sts">3.4.2.1.1. Configuring Included STS</a></h6>
<div class="paragraph">
<p>An LDAP server can be used to maintain a list of DDF users and the attributes associated with them.
The <a href="documentation.html#_security_sts">Security Token Service (STS)</a> can use an LDAP server as an attribute store and convert those attributes to SAML claims.</p>
</div>
<div class="paragraph">
<p>DDF includes a demo <a href="developing.html#_embedded_ldap_server">LDAP server</a>, but an external LDAP is required for actual installation.</p>
</div>
<div class="paragraph">
<p>The STS is installed by default in DDF.</p>
</div>
<div class="olist arabic">
<div class="title">Configuring STS</div>
<ol class="arabic">
<li>
<p>Verify that the <code>serverKeystores.jks</code> file in <code>&lt;DDF_HOME&gt;/etc/keystores</code> trusts the hostnames used in your environment (the hostnames of LDAP, and any DDF users that make use of this STS server).</p>
</li>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>System</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Features</strong> tab.</p>
</li>
<li>
<p>Start the <code>security-sts-ldaplogin</code> and <code>security-sts-ldapclaimshandler</code> features.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Security STS LDAP Login</strong> configuration.</p>
</li>
<li>
<p>Verify that the <strong>LDAP URL</strong>, <strong>LDAP Bind User DN</strong>, and <strong>LDAP Bind User Password</strong> fields match your LDAP server&#8217;s information.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>The default DDF LDAP settings will match up with the default settings of the OpenDJ embedded LDAP server. Change these values to map to the location and settings of the LDAP server being used.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Select the <strong>Save changes</strong> button if changes were made.</p>
</li>
<li>
<p>Open the <strong>Security STS LDAP and Roles Claims Handler</strong> configuration.</p>
</li>
<li>
<p>Populate the same URL, user, and password fields with your LDAP server information.</p>
</li>
<li>
<p>Select the <strong>Save Changes</strong> button.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Configuring DDF Authentication Scheme</div>
<p>Configure the DDF to use this authentication scheme.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Open the <strong>Web Context Policy Manager</strong> configuration.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Under <strong>Authentication Types</strong>, make any desired authentication changes to contexts.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>In order to use the SAML 2.0 Web SSO profile against a context, you must specify only the IdP authentication type.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Security STS Client</div>
<p>Configure the client connecting to the STS.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Open the <strong>Security STS Client</strong> configuration.</p>
</li>
<li>
<p>Verify that the host/port information in the <strong>STS Address</strong> field points to your STS server. If you are using the default bundled STS, this information will already be correct.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_ddf.security.sts.client.configuration">Security STS Client</a> table for all configuration options.</p>
</div>
<div class="paragraph">
<p>The DDF should now use the SSO/STS/LDAP servers when it attempts to authenticate a user upon an attempted log in.</p>
</div>
<div class="paragraph">
<div class="title">STS Server</div>
<p>Connect to the server hosting the STS.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select the <strong>Security STS Server</strong> configuration.</p>
</li>
<li>
<p>Verify the hostname and usernames are correct.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_ddf.security.sts">Security STS Server</a> table for all configuration options.</p>
</div>
<div class="paragraph">
<div class="title">SAML Name ID</div>
<p>Set up alternatives to displaying the username of the logged in user.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select the <strong>SAML NameID Policy</strong> configuration.</p>
</li>
<li>
<p>Add any desired attributes to display instead of the username. (The first matching attribute will be used.)</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title"><a id="_limiting_access_to_the_sts"></a>Limiting Access to the STS</div>
<p>Be sure to limit the hosts that are allowed to connect to the STS:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
<li>
<p>Open the <code>&lt;DDF_HOME&gt;/etc/custom.system.properties</code> file.</p>
</li>
<li>
<p>Edit the line <code>ws-security.subject.cert.constraints = .*CN=&lt;MY_HOST_CN&gt;.*</code>.</p>
<div class="ulist">
<ul>
<li>
<p>By default this will only allow your hostname. To allow other desired hosts add their CNs to the regular expression within parentheses delimited by <code>|</code>:</p>
<div class="ulist">
<ul>
<li>
<p><code>ws-security.subject.cert.constraints = .*CN=(&lt;MY_HOST_CN&gt;|&lt;OTHER_HOST_CN&gt;|&lt;ANOTHER_HOST_CN&gt;).*</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_connecting_to_an_external_identity_provider"><a class="anchor" href="#_connecting_to_an_external_identity_provider"></a><a class="link" href="#_connecting_to_an_external_identity_provider">3.4.2.2. Connecting to an External Identity Provider</a></h5>
<div class="paragraph">
<p>To connect to an external Identity Provider,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Provide the external IdP with DDF&#8217;s Service Provider (SP) metadata.
The SP metadata can found at <code><a href="https://&lt;FQDN&gt;:&lt;PORT&gt;/services/saml/sso/metadata" class="bare">https://&lt;FQDN&gt;:&lt;PORT&gt;/services/saml/sso/metadata</a></code>.</p>
</li>
<li>
<p>Replace the IdP metadata field in DDF.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>IdP Client</strong>.</p>
</li>
<li>
<p>Populate the <strong>IdP Metadata</strong> field with the external IdP&#8217;s metadata.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>DDF may not interoperate successfully with all IdPs.
To idenify the ones it can interoperate with use the <a href="https://github.com/codice/saml-conformance">The Security Assertion Markup Language (SAML) Conformance Test Kit (CTK)</a> <span class="image"><a class="image" href="_configuring_guest_claims_attribute_page"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Connecting to an External Identity Provider"></a></span></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Service Provider Metadata</div>
<p>It is not recommended to remove or replace the included Service Provider.
To add an additional, external Service Provider, add the SP metadata to the <strong>IdP Server</strong> configuration.
See <a href="#_configuring_idp_sp">Configuring Security IdP Service Provider</a> for more detail.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_without_an_identity_provider"><a class="anchor" href="#_configuring_without_an_identity_provider"></a><a class="link" href="#_configuring_without_an_identity_provider">3.4.2.3. Configuring Without an Identity Provider</a></h5>
<div class="paragraph">
<p>To configure DDF to not use an Identity Provider (IdP),</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Disable the IdP feature.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>System</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Features</strong> tab.</p>
</li>
<li>
<p>Uninstall the <code>security-idp</code> feature.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Change the Authentication Type if it is IdP.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Web Context Policy Manager</strong></p>
</li>
<li>
<p>Under <strong>Authentication Types</strong>, remove the IdP authentication type from all context paths.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="sect5">
<h6 id="_using_sts_without_idp"><a class="anchor" href="#_using_sts_without_idp"></a><a class="link" href="#_using_sts_without_idp">3.4.2.3.1. Using STS without IdP</a></h6>
<div class="paragraph">
<p>To configure DDF to use the included Security Token Service (STS) without an IdP, follow the same <a href="#_configuring_included_sts">Configuring STS</a> steps, with one additional configuration to make via the <a href="#_configuring_the_web_context_policy_manager">Web Context Policy Manager</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Configuring Authentication Types for STS</div>
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select <strong>Configuration</strong>.</p>
</li>
<li>
<p>Select the <strong>Web Context Policy Manager</strong>.</p>
</li>
<li>
<p>Add any needed authentication types to the Authentication Types list, such as <code>PKI</code>, <code>Basic</code>, etc.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_soap_services_for_users"><a class="anchor" href="#_configuring_soap_services_for_users"></a><a class="link" href="#_configuring_soap_services_for_users">3.4.3. Configuring SOAP Services for Users</a></h4>
<div class="paragraph">
<p>If using SOAP services, DDF can be configured to use the included <a href="developing.html#_security_token_service">Security Token Service (STS)</a>.</p>
</div>
<div class="sect4">
<h5 id="_connecting_to_included_sts_with_soap"><a class="anchor" href="#_connecting_to_included_sts_with_soap"></a><a class="link" href="#_connecting_to_included_sts_with_soap">3.4.3.1. Connecting to Included STS with SOAP</a></h5>
<div class="paragraph">
<p>DDF includes a STS implementation that can be used for user authentication over SOAP services.</p>
</div>
<div class="paragraph">
<div class="title">Configure the STS WSS</div>
<p>Configure the STS WSS.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select <strong>Configuration</strong>.</p>
</li>
<li>
<p>Select <strong>Security STS WSS</strong>.</p>
</li>
<li>
<p>Update the <strong>Claims</strong> that should be requested by the STS.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_connecting_to_an_ldap_server"><a class="anchor" href="#_connecting_to_an_ldap_server"></a><a class="link" href="#_connecting_to_an_ldap_server">3.4.4. Connecting to an LDAP Server</a></h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>The configurations for Security STS LDAP and Roles Claims Handler and Security STS LDAP Login contain plain text default passwords for the embedded LDAP, which is insecure to use in production.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Use the <a href="documentation.html#_encrypting_passwords">Encryption Service</a>, from the Command Console to set passwords for your LDAP server.
Then change the LDAP Bind User Password in the <a href="reference.html#_Claims_Handler_Manager">Security STS LDAP and Roles Claims Handler</a> configurations to use the encrypted password.</p>
</div>
<div class="paragraph">
<p>A claim is an additional piece of data about a principal that can be included in a token along with basic token data.
A claims manager provides hooks for a developer to plug in claims handlers to ensure that the STS includes the specified claims in the issued token.</p>
</div>
<div class="paragraph">
<p>Claims handlers convert incoming user credentials into a set of attribute claims that will be populated in the SAML assertion.
For example, the <code>LDAPClaimsHandler</code> takes in the user&#8217;s credentials and retrieves the user&#8217;s attributes from a backend LDAP server.
These attributes are then mapped and added to the SAML assertion being created.
Integrators and developers can add more claims handlers that can handle other types of external services that store user attributes.</p>
</div>
<div class="paragraph">
<p>See the <a href="reference.html#_Claims_Handler_Manager">Security STS LDAP and Roles Claims Handler</a> for all possible configurations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_updating_system_users"><a class="anchor" href="#_updating_system_users"></a><a class="link" href="#_updating_system_users">3.4.5. Updating System Users</a></h4>
<div class="paragraph">
<p>By default, all system users are located in the <code>&lt;DDF_HOME&gt;/etc/users.properties</code> and <code>&lt;DDF_HOME&gt;/etc/users.attributes</code> files.
The default users included in these two files are "admin" and "localhost".
The <code>users.properties</code> file contains username, password, and role information; while the <code>users.attributes</code> file is used to mix in additional attributes.
The <code>users.properties</code> file must also contain the user corresponding to the fully qualified domain name (FQDN) of the system where DDF is running.
This FQDN user represents this host system internally when making decisions about what operations the system is capable of performing.
For example, when performing a DDF Catalog Ingest, the system&#8217;s attributes will be checked against any security attributes present on the metacard, prior to ingest, to determine whether or not the system should be allowed to ingest that metacard.</p>
</div>
<div class="paragraph">
<p>Additionally, the <code>users.attributes</code> file can contain user entries in a regex format.
This allows an administrator to mix in attributes for external systems that match a particular regex pattern.
The FQDN user within the <code>users.attributes</code> file should be filled out with attributes sufficient to allow the system to ingest the expected data.
The <code>users.attributes</code> file uses a JSON format as shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
</pre></td>
  <td class="code"><pre>{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">admin</span><span class="delimiter">&quot;</span></span> : {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">testValue</span><span class="delimiter">&quot;</span></span>,
        <span class="key"><span class="delimiter">&quot;</span><span class="content">test1</span><span class="delimiter">&quot;</span></span> : [ <span class="string"><span class="delimiter">&quot;</span><span class="content">testing1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">testing2</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">testing3</span><span class="delimiter">&quot;</span></span> ]
    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">localhost</span><span class="delimiter">&quot;</span></span> : {

    },
    <span class="key"><span class="delimiter">&quot;</span><span class="content">.*host.*</span><span class="delimiter">&quot;</span></span> : {
        <span class="key"><span class="delimiter">&quot;</span><span class="content">reg</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">ex</span><span class="delimiter">&quot;</span></span>
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>For this example, the "admin" user will end up with two additional claims of "test" and "test1" with values of "testValue" and [ "testing1", "testing2", "testing3" ] respectively.
Also, any host matching the regex ".<strong>host.</strong>" would end up with the claim "reg" with the single value of "ex".
The "localhost" user would have no additional attributes mixed in.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>It is possible for a regex in <code>users.attributes</code> to match users as well as a system, so verify that the regex pattern&#8217;s scope will not be too great when using this feature.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>If your data will contain security markings, and these markings are being parsed out into the metacard security attributes via a PolicyPlugin, then the FQDN user <strong>MUST</strong> be updated with attributes that would grant the privileges to ingest that data.
Failure to update the FQDN user with sufficient attributes will result in an error being returned for any ingest request.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>The following attribute values are not allowed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>null</code></p>
</li>
<li>
<p><code>""</code></p>
</li>
<li>
<p>a non-String (e.g. <code>100</code>, <code>false</code>)</p>
</li>
<li>
<p>an array including any of the above</p>
</li>
<li>
<p><code>[]</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, attribute names should not be repeated, and the order that the attributes are defined and the order of values within an array will be ignored.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_restricting_access_to_admin_console"><a class="anchor" href="#_restricting_access_to_admin_console"></a><a class="link" href="#_restricting_access_to_admin_console">3.4.6. Restricting Access to Admin Console</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you have integrated DDF with your existing security infrastructure, then you may want to limit access to parts of the DDF based on user roles/groups.</p>
</div>
<div class="paragraph">
<p>Limit access to the Admin Console to those users who need access.
To set access restrictions on the Admin Console, consult the organization&#8217;s security architecture to identify specific realms, authentication methods, and roles required.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Web Context Policy Manager</strong>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>A dialogue will pop up that allows you to edit DDF access restrictions.</p>
</li>
<li>
<p>Once you have configured your <a href="reference.html#_org.codice.ddf.security.policy.context.impl.PolicyManager">realms</a> in your security infrastructure, you can associate them with DDF contexts.</p>
</li>
<li>
<p>If your infrastructure supports multiple <a href="reference.html#_org.codice.ddf.security.policy.context.impl.PolicyManager">authentication methods</a>, they may be specified on a per-context basis.</p>
</li>
<li>
<p>Role requirements may be enforced by configuring the <a href="reference.html#_org.codice.ddf.security.policy.context.impl.PolicyManager">required attributes</a> for a given context.</p>
</li>
<li>
<p>The <a href="reference.html#_org.codice.ddf.security.policy.context.impl.PolicyManager">white listed contexts</a> allows child contexts to be excluded from the authentication constraints of their parents.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="sect4">
<h5 id="_restricting_feature_app_service_and_configuration_access"><a class="anchor" href="#_restricting_feature_app_service_and_configuration_access"></a><a class="link" href="#_restricting_feature_app_service_and_configuration_access">3.4.6.1. Restricting Feature, App, Service, and Configuration Access</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Limit access to the individual applications, features, or services to those users who need access.
Organizational requirements should dictate which applications are restricted and the extent to which they are restricted.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Admin</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Admin Configuration Policy</strong>.</p>
</li>
<li>
<p>To add a feature or app permission:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Add a new field to "Feature and App Permissions" in the format of:</p>
<div class="paragraph">
<p><code>&lt;feature name&gt;/&lt;app name&gt; = "attribute name=attribute value","attribute name2=attribute value2", &#8230;&#8203;</code></p>
</div>
</li>
<li>
<p>For example, to restrict access of any user without an admin role to the catalog-app:</p>
<div class="paragraph">
<p><code>catalog-app = "http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role=admin", &#8230;&#8203;</code></p>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>To add a configuration permission:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Add a new field to "Configuration Permissions" in the format of:</p>
<div class="paragraph">
<p><code>configuration id = "attribute name=attribute value","attribute name2=attribute value2", &#8230;&#8203;</code></p>
</div>
</li>
<li>
<p>For example, to restrict access of any user without an admin role to the Web Context Policy Manager:</p>
<div class="paragraph">
<p><code>org.codice.ddf.security.policy.context.impl.PolicyManager="http://schemas.xmlsoap.org/ws/2005/05/identity/claims/role=admin"</code></p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>If a permission is specified, any user without the required attributes will be unable to see or modify the feature, app, or configuration.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_removing_default_users"><a class="anchor" href="#_removing_default_users"></a><a class="link" href="#_removing_default_users">3.4.7. Removing Default Users</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The default security configuration uses a property file located at <code>&lt;DDF_HOME&gt;/etc/users.properties</code> to store users and passwords.
A hardened system will remove this file and manage all users externally, via an LDAP server or by other means.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Default Users are an Insecure Default</div>
<div class="paragraph">
<p>The Admin Console has an insecure default warning if the default users are not removed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once DDF is configured to use an external user (such as LDAP), remove the <code>users.properties</code> file from the <code>&lt;DDF_HOME&gt;/etc</code> directory.
Use of a <code>users.properties</code> file should be limited to emergency recovery operations and replaced as soon as effectively possible.</p>
</div>
<div class="paragraph">
<p>The deletion of the default users in the <code>users.properties</code> file can be done automatically after 72 hours.
This feature can be found at <strong>Admin Console &#8594; Admin &#8594; Default Users Deletion Scheduler  &#8594; Enable default users automatic deletion</strong>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Once the default users are removed, the <code>&lt;DDF_HOME&gt;/bin/client</code> and <code>&lt;DDF_HOME&gt;/bin/client.bat</code> scripts will not work.
If SSH access to the Karaf shell is to be supported, edit the file <code>org.apache.karaf.shell.cfg</code> in the <code>&lt;INSTALL_HOME&gt;/etc</code> directory, changing the value of the <code>sshRealm</code> property from <code>karaf</code> to <code>ldap</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Emergency Use of <code>users.properties</code> file</div>
<div class="paragraph">
<p>Typically, the DDF does not manage passwords.
Authenticators are stored in an external identity management solution. However, administrators may temporarily use a <code>users.properties</code> file for emergencies.</p>
</div>
<div class="paragraph">
<p>If a system recovery account is configured in <code>users.properties</code>, ensure:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The use of this account should be for as short a time as possible.</p>
</li>
<li>
<p>The default username/password of &#8220;admin/admin&#8221; should not be used.</p>
</li>
<li>
<p>All organizational standards for password complexity should still apply.</p>
</li>
<li>
<p>The password should be encrypted. For steps on how, see the section "Passwords Encryption" at <a href="https://karaf.apache.org/manual/latest/security" class="bare">https://karaf.apache.org/manual/latest/security</a>.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Compliance Reviews</div>
<div class="paragraph">
<p>It is recommended to perform yearly reviews of accounts for compliance with organizational account management requirements.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_disallowing_login_without_certificates"><a class="anchor" href="#_disallowing_login_without_certificates"></a><a class="link" href="#_disallowing_login_without_certificates">3.4.8. Disallowing Login Without Certificates</a></h4>
<div class="paragraph">
<p>DDF can be configured to prevent login without a valid PKI certificate.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>Security</strong>.</p>
</li>
<li>
<p>Select <strong>Web Context Policy Manager</strong>.</p>
</li>
<li>
<p>Add a policy for each context requiring restriction.</p>
<div class="ulist">
<ul>
<li>
<p>For example: <code>/search=SAML|PKI</code> will disallow login without certificates to the Search UI.</p>
</li>
<li>
<p>The format for the policy should be: <code>/&lt;CONTEXT&gt;=SAML|PKI</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure certificates comply with organizational hardening policies.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_managing_certificate_revocation"><a class="anchor" href="#_managing_certificate_revocation"></a><a class="link" href="#_managing_certificate_revocation">3.4.9. Managing Certificate Revocation</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For hardening purposes, it is recommended to implement a way to verify a Certificate Revocation List (CRL) at least daily or an Online Certificate Status Protocol (OCSP) server.</p>
</div>
<div class="sect4">
<h5 id="_managing_a_certificate_revocation_list_crl"><a class="anchor" href="#_managing_a_certificate_revocation_list_crl"></a><a class="link" href="#_managing_a_certificate_revocation_list_crl">3.4.9.1. Managing a Certificate Revocation List (CRL)</a></h5>
<div class="paragraph">
<p>A Certificate Revocation List is a collection of formerly-valid certificates that should explicitly <em>not</em> be accepted.</p>
</div>
<div class="sect5">
<h6 id="_creating_a_crl"><a class="anchor" href="#_creating_a_crl"></a><a class="link" href="#_creating_a_crl">3.4.9.1.1. Creating a CRL</a></h6>
<div class="paragraph">
<p>Create a CRL in which the token issuer&#8217;s certificate is valid.
The example uses OpenSSL.</p>
</div>
<div class="paragraph">
<p><code>$&gt; openssl ca -gencrl -out crl-tokenissuer-valid.pem</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Windows and OpenSSL</div>
<div class="paragraph">
<p>Windows does not include OpenSSL by default.
For Windows platforms, a additional download of <a href="https://www.openssl.org/source/">OpenSSL</a> or an alternative is required.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect6">
<h7 id="_revoke_a_certificate_and_create_a_new_crl_that_contains_the_revoked_certificate"><a class="anchor" href="#_revoke_a_certificate_and_create_a_new_crl_that_contains_the_revoked_certificate"></a><a class="link" href="#_revoke_a_certificate_and_create_a_new_crl_that_contains_the_revoked_certificate">Revoke a Certificate and Create a New CRL that Contains the Revoked Certificate</a></h7>
<div class="listingblock">
<div class="content">
<pre>$&gt; openssl ca -revoke tokenissuer.crt

$&gt; openssl ca -gencrl -out crl-tokenissuer-revoked.pem</pre>
</div>
</div>
</div>
<div class="sect6">
<h7 id="_viewing_a_crl"><a class="anchor" href="#_viewing_a_crl"></a><a class="link" href="#_viewing_a_crl">Viewing a CRL</a></h7>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the following command to view the serial numbers of the revoked certificates:
<code>$&gt; openssl crl -inform PEM -text -noout -in crl-tokenissuer-revoked.pem</code></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_enabling_certificate_revocation"><a class="anchor" href="#_enabling_certificate_revocation"></a><a class="link" href="#_enabling_certificate_revocation">3.4.9.1.2. Enabling Certificate Revocation</a></h6>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Enabling CRL revocation or modifying the CRL file will require a restart of DDF to apply updates.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Place the CRL in &lt;DDF_HOME&gt;/etc/keystores.</p>
</li>
<li>
<p>Add the line <code>org.apache.ws.security.crypto.merlin.x509crl.file=etc/keystores/&lt;CRL_FILENAME&gt;</code> to the following files (Replace <code>&lt;CRL_FILENAME&gt;</code> with the URL or file path of the CRL location):</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>&lt;DDF_HOME&gt;/etc/ws-security/server/encryption.properties</code></p>
</li>
<li>
<p><code>&lt;DDF_HOME&gt;/etc/ws-security/issuer/encryption.properties</code></p>
</li>
<li>
<p><code>&lt;DDF_HOME&gt;/etc/ws-security/server/signature.properties</code></p>
</li>
<li>
<p><code>&lt;DDF_HOME&gt;/etc/ws-security/issuer/signature.properties</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>(Replace &lt;CRL_FILENAME&gt; with the file path or URL of the CRL file used in previous step.)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Adding this property will also enable CRL revocation for any context policy implementing PKI authentication.
For example, adding an authentication policy in the Web Context Policy Manager of <code>/search=SAML|PKI</code> will disable basic authentication, require a certificate for the search UI, and allow a SAML SSO session to be created.
If a certificate is not in the CRL, it will be allowed through, otherwise it will get a 401 error.
If no certificate is provided, the guest handler will grant guest access.</p>
</div>
<div class="paragraph">
<p>This also enables CRL revocation for the STS endpoint.
The STS CRL Interceptor monitors the same <code>encryption.properties</code> file and operates in an identical manner to the PKI Authenication&#8217;s CRL handler. Enabling the CRL via the <code>encryption.properties</code> file will also enable it for the STS, and also requires a restart.</p>
</div>
<div class="paragraph">
<p>If the CRL cannot be placed in &lt;DDF_HOME&gt;/etc/keystores but can be accessed via an <strong>HTTPS</strong> URL:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Admin Console.</p>
</li>
<li>
<p>Navigate to <strong>System &#8594; Configuration &#8594; Certificate Revocation List (CRL)</strong></p>
</li>
<li>
<p>Add the <strong>HTTPS</strong> URL under <strong>CRL URL address</strong></p>
</li>
<li>
<p>Check the <strong>Enable CRL via URL</strong> option</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>A local CRL file will be created and the <code>encryption.properties</code> and <code>signature.properties</code> files will be set as mentioned above.</p>
</div>
<div class="sect6">
<h7 id="_add_revocation_to_a_web_context"><a class="anchor" href="#_add_revocation_to_a_web_context"></a><a class="link" href="#_add_revocation_to_a_web_context">Add Revocation to a Web Context</a></h7>
<div class="paragraph">
<p>The PKIHandler implements CRL revocation, so any web context that is configured to use PKI authentication will also use CRL revocation if revocation is enabled.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After enabling revocation (see above), open the <strong>Web Context Policy Manager</strong>.</p>
</li>
<li>
<p>Add or modify a Web Context to use PKI in authentication. For example, enabling CRL for the search ui endpoint would require adding an authorization policy of <code>/search=SAML|PKI</code></p>
</li>
<li>
<p>If guest access is required, add <code>GUEST</code> to the policy. Ex, <code>/search=SAML|PKI|GUEST</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>With guest access, a user with a revoked certificate will be given a 401 error, but users without a certificate will be able to access the web context as the guest user.</p>
</div>
<div class="paragraph">
<p>The STS CRL interceptor does not need a web context specified.
The CRL interceptor for the STS will become active after specifying the CRL file path, or the URL for the CRL, in the <code>encryption.properties</code> file and restarting DDF.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Disabling or enabling CRL revocation or modifying the CRL file will require a restart of DDF to apply updates.
If CRL checking is already enabled, adding a new context via the <strong>Web Context Policy Manager</strong> will not require a restart.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect6">
<h7 id="_adding_revocation_to_an_endpoint"><a class="anchor" href="#_adding_revocation_to_an_endpoint"></a><a class="link" href="#_adding_revocation_to_an_endpoint">Adding Revocation to an Endpoint</a></h7>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This section explains how to add CXF&#8217;s CRL revocation method to an endpoint and not the CRL revocation method in the <code>PKIHandler</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This guide assumes that the endpoint being created uses CXF and is being started via Blueprint from inside the OSGi container.
If other tools are being used the configuration may differ.</p>
</div>
<div class="paragraph">
<p>Add the following property to the <code>jasws</code> endpoint in the endpoint&#8217;s <code>blueprint.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>&lt;entry key="ws-security.enableRevocation" value="true"/&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example xml snippet for the <code>jaxws:endpoint</code> with the property:</div>
<div class="content">
<pre class="CodeRay highlight"><code>&lt;jaxws:endpoint id="Test" implementor="#testImpl"
                wsdlLocation="classpath:META-INF/wsdl/TestService.wsdl"
                address="/TestService"&gt;

    &lt;jaxws:properties&gt;
        &lt;entry key="ws-security.enableRevocation" value="true"/&gt;
    &lt;/jaxws:properties&gt;
&lt;/jaxws:endpoint&gt;</code></pre>
</div>
</div>
</div>
<div class="sect6">
<h7 id="_verifying_revocation"><a class="anchor" href="#_verifying_revocation"></a><a class="link" href="#_verifying_revocation">Verifying Revocation</a></h7>
<div class="paragraph">
<p>A <strong>Warning</strong> similar to the following will be displayed in the logs of the source and endpoint showing the exception encountered during certificate validation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>11:48:00,016 | WARN  | tp2085517656-302 | WSS4JInInterceptor               | ecurity.wss4j.WSS4JInInterceptor  330 | 164 - org.apache.cxf.cxf-rt-ws-security - 2.7.3 |
org.apache.ws.security.WSSecurityException: General security error (Error during certificate path validation: Certificate has been revoked, reason: unspecified)
    at org.apache.ws.security.components.crypto.Merlin.verifyTrust(Merlin.java:838)[161:org.apache.ws.security.wss4j:1.6.9]
    at org.apache.ws.security.validate.SignatureTrustValidator.verifyTrustInCert(SignatureTrustValidator.java:213)[161:org.apache.ws.security.wss4j:1.6.9]

[ ... section removed for space]

Caused by: java.security.cert.CertPathValidatorException: Certificate has been revoked, reason: unspecified
    at sun.security.provider.certpath.PKIXMasterCertPathValidator.validate(PKIXMasterCertPathValidator.java:139)[:1.6.0_33]
    at sun.security.provider.certpath.PKIXCertPathValidator.doValidate(PKIXCertPathValidator.java:330)[:1.6.0_33]
    at sun.security.provider.certpath.PKIXCertPathValidator.engineValidate(PKIXCertPathValidator.java:178)[:1.6.0_33]
    at java.security.cert.CertPathValidator.validate(CertPathValidator.java:250)[:1.6.0_33]
    at org.apache.ws.security.components.crypto.Merlin.verifyTrust(Merlin.java:814)[161:org.apache.ws.security.wss4j:1.6.9]
    ... 45 more</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_managing_an_online_certificate_status_protocol_ocsp_server"><a class="anchor" href="#_managing_an_online_certificate_status_protocol_ocsp_server"></a><a class="link" href="#_managing_an_online_certificate_status_protocol_ocsp_server">3.4.9.2. Managing an Online Certificate Status Protocol (OCSP) Server</a></h5>
<div class="paragraph">
<p>An Online Certificate Status Protocol is a protocol used to verify the revocation status of a certificate.
An OCSP server can be queried with a certificate to verify if it is revoked.</p>
</div>
<div class="paragraph">
<p>The advantage of using an OCSP Server over a CRL is the fact that a local copy of the revoked certificates is not needed.</p>
</div>
<div class="sect5">
<h6 id="_enabling_ocsp_revocation"><a class="anchor" href="#_enabling_ocsp_revocation"></a><a class="link" href="#_enabling_ocsp_revocation">3.4.9.2.1. Enabling OCSP Revocation</a></h6>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Admin Console.</p>
</li>
<li>
<p>Navigate to <strong>System &#8594; Configuration &#8594; Online Certificate Status Protocol (OCSP)</strong>.</p>
</li>
<li>
<p>Add the URL of the OCSP server under <strong>OCSP server URL</strong>.</p>
</li>
<li>
<p>Check the <strong>Enable validating a certificate against an OCSP server</strong> option.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If an error occurs while communicating with the OCSP server, an alert will be posted to the Admin Console.
Until the error is resolved, certificates will not be verified against the server.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_data_management"><a class="anchor" href="#_configuring_data_management"></a><a class="link" href="#_configuring_data_management">3.5. Configuring Data Management</a></h3>
<div class="paragraph">
<p>Data ingested into DDF has security attributes that can be mapped to users' permissions to ensure proper access.
This section covers configurations that ensure only the appropriate data is contained in or exposed by DDF.</p>
</div>
<div class="sect3">
<h4 id="_configuring_solr"><a class="anchor" href="#_configuring_solr"></a><a class="link" href="#_configuring_solr">3.5.1. Configuring Solr</a></h4>
<div class="paragraph">
<p>The default catalog provider for DDF is <a href="#_solr_catalog_provider">Solr</a>.
If using another catalog provider, see <a href="#_changing_catalog_providers">Changing Catalog Providers</a>.</p>
</div>
<div class="sect4">
<h5 id="_configuring_solr_catalog_provider_synonyms"><a class="anchor" href="#_configuring_solr_catalog_provider_synonyms"></a><a class="link" href="#_configuring_solr_catalog_provider_synonyms">3.5.1.1. Configuring Solr Catalog Provider Synonyms</a></h5>
<div class="paragraph">
<p>When configured, text searches in Solr will utilize synonyms when attempting to match text within the catalog.
Synonyms are used during keyword/anyText searches as well as when searching on specific text attributes when using the <code>like</code> / <code>contains</code> operator.
Text searches using the <code>equality</code> / <code>exact match</code> operator will not utilize synonyms.</p>
</div>
<div class="paragraph">
<p>Solr utilizes a <code>synonyms.txt</code> file which exists for each Solr core.
Synonym matching is most pertinent to metacards which are contained within 2 cores: <code>catalog</code> and <code>metacard_cache</code>.</p>
</div>
<div class="sect5">
<h6 id="_defining_synonym_rules_in_the_solr_provider"><a class="anchor" href="#_defining_synonym_rules_in_the_solr_provider"></a><a class="link" href="#_defining_synonym_rules_in_the_solr_provider">3.5.1.1.1. Defining synonym rules in the Solr Provider</a></h6>
<div class="ulist">
<ul>
<li>
<p>Edit the <code>synonyms.txt</code> file under the <code>catalog</code> core.
For each synonym group you want to define, add a line with the synonyms separated by a comma.
For example:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>United States, United States of America, the States, US, U.S., USA, U.S.A</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Save the file</p>
</li>
<li>
<p>Repeat the above steps for the <code>metacard_cache</code> core.</p>
</li>
<li>
<p>Restart the DDF.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Data does not have to be re-indexed for the synonyms to take effect.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_hardening_solr"><a class="anchor" href="#_hardening_solr"></a><a class="link" href="#_hardening_solr">3.5.1.2. Hardening Solr</a></h5>
<div class="paragraph">
<p>The following sections provide hardening guidance for Solr; however, they are provided only as
reference and additional security requirements may be added.</p>
</div>
<div class="sect5">
<h6 id="_hardening_solr_server_configuration"><a class="anchor" href="#_hardening_solr_server_configuration"></a><a class="link" href="#_hardening_solr_server_configuration">3.5.1.2.1. Hardening Solr Server Configuration</a></h6>
<div class="paragraph">
<p>The Solr server configuration is configured to be secure by default. No additional
hardening should be necessary. The default configuration starts Solr with TLS enabled and
basic authentication required. That means DDF must trust Solr&#8217;s PKI certificate.</p>
</div>
</div>
<div class="sect5">
<h6 id="_solr_server_password_management"><a class="anchor" href="#_solr_server_password_management"></a><a class="link" href="#_solr_server_password_management">3.5.1.2.2. Solr Server Password Management</a></h6>
<div class="paragraph">
<p>By default, DDF is configured to use Solr server. To verify this, view the property
<a href="#_solr_client"><code>solr.client</code></a>. If the property is set to <code>HttpSolrClient</code>,
DDF is configured to use Solr server.</p>
</div>
<div class="paragraph">
<p>To ensure the security of its communication with Solr server, DDF sends HTTP requests
over TLS. Solr is configured to use basic authentication to further ensure the requests
originated from DDF. There are several system properties that control basic authentication
and password management.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_solr_usebasicauth"><code>solr.useBasicAuth</code></a>Send basic authentication header
if property is <code>true</code></p>
</li>
<li>
<p><a href="#_solr_username"><code>solr.username</code></a>Username for basic authentication with Solr server.</p>
</li>
<li>
<p><a href="#_solr_password"><code>solr.password</code></a>Password for basic authentication.</p>
</li>
<li>
<p><a href="#_solr_autopassword"><code>solr.attemptAutoPasswordChange</code></a>
If this property is <code>true</code>, DDF attempts to change the default password to a randomly
generated secure password if it detects the default password is in use.
The new password is encrypted and then stored in the system properties.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Solr distrubition included with DDF comes already configured with a user. To see the
username or default password, either inspect the file
<code>&lt;DDF_HOME&gt;/etc/custom.system.properties</code> or refer to the properties
<a href="#_managed_solr_properties">here</a>.</p>
</div>
<div class="paragraph">
<p>A limitation of the current implementation is that the Solr password is not recoverable. Further,
the migration command does not currently migrate the password. It may
be necessary to reset the password:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>After a migration.</p>
</li>
<li>
<p>If the administator needs access to the Solr admin UI.</p>
</li>
<li>
<p>If the administator wants to use their own password.</p>
</li>
</ul>
</div>
<div class="sect6">
<h7 id="_do_not_autogenerate_a_solr_password"><a class="anchor" href="#_do_not_autogenerate_a_solr_password"></a><a class="link" href="#_do_not_autogenerate_a_solr_password">Do not Autogenerate a Solr Password</a></h7>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>To prevent DDF from attempting to change the password</strong> set the property
<a href="#_solr_autopassword"><code>solr.attemptAutoPasswordChange</code></a> to <code>false</code> in the
file <code>&lt;DDF_HOME&gt;/etc/custom.system.properties</code></p>
</li>
</ol>
</div>
</div>
<div class="sect6">
<h7 id="_change_the_password_to_a_specific_string"><a class="anchor" href="#_change_the_password_to_a_specific_string"></a><a class="link" href="#_change_the_password_to_a_specific_string">Change the Password to a Specific String</a></h7>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To change the Solr password to a specific string, send Solr an HTTP POST request.
This is covered in the official <a href="http://lucene.apache.org/solr/resources.html">Solr documentation</a>
 <span class="image"><a class="image" href="_configuring_guest_claims_attribute_page"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Hardening Solr"></a></span>. Here is an example that uses the
command line utility <code>curl</code> to change the password from <code>admin</code> to <code>newpassword</code>:</p>
<div class="literalblock">
<div class="content">
<pre>curl -k -u "admin:admin" "https://{FQDN}:{PORT}/solr/admin/authentication" -H 'Content-type:application/json' -d "{ 'set-user': {'admin' : 'newpassword'}}"</pre>
</div>
</div>
</li>
<li>
<p>Encrypt the password using the <a href="documentation.html#_encrypting_passwords">Encryption Service</a>.
The encryption command enciphers the password. It is safe to save the peristed password in a file.</p>
</li>
<li>
<p>Update property <code>solr.password</code> in the file &lt;DDF_HOME&gt;/etc/custom.system.properties` to
be the ouput from the encryption command. Be sure to include <code>ENC(</code> and <code>)</code> characters produced by
the encryption comand. Note that the default password is not enclosed in <code>ENC()</code> because that
is not necessary for cleartext. Cleartext is used by the system exactly as it appears.
<a href="#_do_not_autogenerate_a_solr_password">follow these instructions</a>.</p>
</li>
<li>
<p>Finally, restart DDF</p>
</li>
</ol>
</div>
</div>
<div class="sect6">
<h7 id="_restore_the_default_password_in_solr"><a class="anchor" href="#_restore_the_default_password_in_solr"></a><a class="link" href="#_restore_the_default_password_in_solr">Restore the Default Password in Solr</a></h7>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Restore the <code>&lt;DDF_HOME&gt;/solr/server/solr/security.json</code> from a zip file of the
DDF distribution.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>OR</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit the <code>&lt;DDF_HOME&gt;/solr/server/solr/security.json</code> file. Solr stores a salted hash of
the user passwords in this file.</p>
</li>
<li>
<p>Assuming the Solr username is <code>admin</code>, change the credentials section to match
this string:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code> "credentials": {
      "admin": "EjjOS/zyQ1KQQdSXFb/rFm7w6MItU5pmdthM35ZiJaA= ZZI7d4jf/8hz5oZz7ljBE6+uv1wqncj+VudX3arbib4="}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The quoted string following the username <code>admin</code> is the salted hash for the password <code>admin</code>.</p>
</div>
</li>
<li>
<p>Edit the file <code>&lt;DDF_HOME&gt;/etc/custom.system.properties</code> and change the value of
<code>solr.password</code> to <code>admin</code>.</p>
</li>
<li>
<p>Optional: <a href="#_do_not_autogenerate_a_solr_password">Prevent DDF from automatically changing the Solr password</a>.</p>
</li>
</ol>
</div>
</div>
<div class="sect6">
<h7 id="_removing_basic_authentication_from_solr"><a class="anchor" href="#_removing_basic_authentication_from_solr"></a><a class="link" href="#_removing_basic_authentication_from_solr">Removing Basic Authentication from Solr</a></h7>
<div class="paragraph">
<p>To disable Solr&#8217;s basic authentication mechanism, rename or remove the file
<code>&lt;DDF_HOME&gt;/solr/server/solr/security.json</code> and restart Solr. The file <code>security.json</code>
configures Solr to use basic authetnication and defines Solr users. If the file is not present,
Solr requires no login. This could a security issue in many environments and it is recommended
to never disable Solr authentication in an operational environment. If authentication is disabled,
the system property <a href="#_solr_usebasicauth"><code>solr.useBasicAuth</code></a> may be set to
<code>false</code>.</p>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_configuring_solr_encryption"><a class="anchor" href="#_configuring_solr_encryption"></a><a class="link" href="#_configuring_solr_encryption">3.5.1.2.3. Configuring Solr Encryption</a></h6>
<div class="paragraph">
<p>While it is possible to encrypt the Solr index, it decreases performance significantly.
An encrypted Solr index also can only perform exact match queries, not relative or contextual queries.
As this drastically reduces the usefulness of the index, this configuration is not recommended.
The recommended approach is to encrypt the entire drive through the Operating System of the server
on which the index is located.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_accessing_the_solr_admin_ui"><a class="anchor" href="#_accessing_the_solr_admin_ui"></a><a class="link" href="#_accessing_the_solr_admin_ui">3.5.1.3. Accessing the Solr Admin UI</a></h5>
<div class="paragraph">
<p>The Solr Admin UI for Solr server configurations is generally inaccessible through a web browser.
A web browser can be configured to access the Solr Admin UI if required.</p>
</div>
<div class="sect5">
<h6 id="_configuring_a_browser_to_access_solr_admin_ui"><a class="anchor" href="#_configuring_a_browser_to_access_solr_admin_ui"></a><a class="link" href="#_configuring_a_browser_to_access_solr_admin_ui">3.5.1.3.1. Configuring a Browser to Access Solr Admin UI</a></h6>
<div class="paragraph">
<p>The Solr server configuration is secure by default. Solr server requires a TLS connection
with client authentication. Solr only allows access to clients that present
a trusted certificate.</p>
</div>
</div>
<div class="sect5">
<h6 id="_using_ddf_keystores"><a class="anchor" href="#_using_ddf_keystores"></a><a class="link" href="#_using_ddf_keystores">3.5.1.3.2. Using DDF Keystores</a></h6>
<div class="paragraph">
<p>Solr server uses the same keystores as DDF. A simple way to enable access to the
Solr Admin UI is to install DDF&#8217;s own private key/certificate entry into a browser. The
method to export DDF&#8217;s private key/certificate entry depend on
the type of keystore being used. The method to import the private key/certificate entry
into the browser depends on the operating system, and the browser itself. For more information
consult the browser&#8217;s documentation.</p>
</div>
<div class="paragraph">
<p>If the browser is not correctly configured with a
certificate that Solr trusts, the browser displays an error message about client authentication
failing, or a message that the client certificate is invalid.</p>
</div>
</div>
<div class="sect5">
<h6 id="_solr_admin_ui_s_url"><a class="anchor" href="#_solr_admin_ui_s_url"></a><a class="link" href="#_solr_admin_ui_s_url">3.5.1.3.3. Solr Admin UI&#8217;s URL</a></h6>
<div class="paragraph">
<p>The Solr server&#8217;s URL is configured in DDF&#8217;s <code>custom.system.properties</code> file. See
<a href="#_solr_server_url">solr.http.url</a> for more information.
An <em>example</em> of a typical URL for the Solr Admin UI is <code><a href="https://hostname:8994" class="bare">https://hostname:8994</a></code>.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_changing_catalog_providers"><a class="anchor" href="#_changing_catalog_providers"></a><a class="link" href="#_changing_catalog_providers">3.5.2. Changing Catalog Providers</a></h4>
<div class="paragraph">
<p>This scenario describes how to reconfigure DDF to use a different catalog provider.</p>
</div>
<div class="paragraph">
<p>This scenario assumes DDF is already running.</p>
</div>
<div class="olist arabic">
<div class="title">Uninstall Catalog Provider (if installed).</div>
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>System</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Features</strong> tab.</p>
</li>
<li>
<p>Find and Stop the installed Catalog Provider</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Install the new Catalog Provider</div>
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>System</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Features</strong> tab.</p>
</li>
<li>
<p>Find and Start the desired Catalog Provider.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_changing_hostname"><a class="anchor" href="#_changing_hostname"></a><a class="link" href="#_changing_hostname">3.5.3. Changing Hostname</a></h4>
<div class="paragraph">
<p>By default, the STS server, STS client and the rest of the services use the system property <code>org.codice.ddf.system.hostname</code> which is defaulted to 'localhost' and not to the fully qualified domain name of the DDF instance.
Assuming the DDF instance is providing these services, the configuration must be updated to use the <strong>fully qualified domain name</strong> as the service provider.
If the DDF is being accessed from behind a proxy or load balancer, set the system property <code>org.codice.ddf.external.hostname</code> to the hostname users will be using to access the DDF.</p>
</div>
<div class="paragraph">
<p>This can be changed during <a href="#_completing_installation_from_the_admin_console">Initial Configuration</a> or later by editing the <code>&lt;DDF_HOME&gt;/etc/custom.system.properties</code> file.</p>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_errors_and_warnings"><a class="anchor" href="#_configuring_errors_and_warnings"></a><a class="link" href="#_configuring_errors_and_warnings">3.5.4. Configuring Errors and Warnings</a></h4>
<div class="paragraph">
<p>DDF performs several types of validation on metadata ingested into the catalog.
Depending on need, configure DDF to act on the warnings or errors discovered.</p>
</div>
<div class="sect4">
<h5 id="_enforcing_errors_or_warnings"><a class="anchor" href="#_enforcing_errors_or_warnings"></a><a class="link" href="#_enforcing_errors_or_warnings">3.5.4.1. Enforcing Errors or Warnings</a></h5>
<div class="paragraph">
<p>Prevent data with errors or warnings from being ingested at all.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select <strong>Configuration</strong>.</p>
</li>
<li>
<p>Select <strong>Metacard Validation Marker Plugin</strong>.</p>
</li>
<li>
<p>Enter <strong>ID</strong> of validator(s) to enforce.</p>
</li>
<li>
<p>Select <strong>Enforce errors</strong> to prevent ingest for errors.</p>
</li>
<li>
<p>Select <strong>Enforce warnings</strong> to prevent ingest for warnings.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_hiding_errors_or_warnings_from_queries"><a class="anchor" href="#_hiding_errors_or_warnings_from_queries"></a><a class="link" href="#_hiding_errors_or_warnings_from_queries">3.5.4.2. Hiding Errors or Warnings from Queries</a></h5>
<div class="paragraph">
<p>Prevent invalid metacards from being displayed in query results, unless specifically queried.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select <strong>Configuration</strong>.</p>
</li>
<li>
<p>Select <strong>Catalog Federation Strategy</strong>.</p>
</li>
<li>
<p>Deselect <strong>Show Validations Errors</strong> to hide metacards with errors.</p>
</li>
<li>
<p>Deselect <strong>Show Validations Warnings</strong> to hide metacards with warnings.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_hiding_errors_and_warnings_from_users_based_on_role"><a class="anchor" href="#_hiding_errors_and_warnings_from_users_based_on_role"></a><a class="link" href="#_hiding_errors_and_warnings_from_users_based_on_role">3.5.4.3. Hiding Errors and Warnings from Users Based on Role</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Prevent certain users from seeing data with certain types of errors or warnings.
Typically, this is used for security markings.
If the <strong>Metacard Validation Filter Plugin</strong> is configured to <strong>Filter errors</strong> and/or <strong>Filter warnings</strong>, metacards with errors/warnings will be hidden from users without the specified user attributes.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select <strong>Configuration</strong>.</p>
</li>
<li>
<p>Select <strong>Metacard Validation Filter Plugin</strong>.</p>
</li>
<li>
<p>For <strong>Attribute map</strong>, enter both the metacard <code>SECURITY</code> attribute to filter and the user attribute to filter.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>The default attribute for viewing invalid metacards is <code>invalid-state</code></p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p><code>invalid-state=&lt;USER ROLE&gt;</code>.</p>
</li>
<li>
<p>Replace <code>&lt;USER ROLE&gt;</code> with the roles that should be allowed to view invalid metacards.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
To harden the system and prevent other DDF systems from querying invalid data in the local catalog, it is
recommended to create and set user roles that are unique to the local system (ie. a user role
that includes a UUID).
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Select <strong>Filter errors</strong> to filter errors. Users without the <code>invalid-state</code> attribute will not see metacards with errors.</p>
</li>
<li>
<p>Select <strong>Filter warnings</strong> to filter warnings. Users without the <code>invalid-state</code> attribute will not see metacards with warnings.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_content_directory_monitor"><a class="anchor" href="#_content_directory_monitor"></a><a class="link" href="#_content_directory_monitor">3.5.5. Content Directory Monitor</a></h4>
<div class="paragraph">
<p>The Content Directory Monitor (CDM) provides the capability to easily add content and metacards into theCatalog by placing a file in a directory.</p>
</div>
<div class="sect4">
<h5 id="_installing_the_content_directory_monitor"><a class="anchor" href="#_installing_the_content_directory_monitor"></a><a class="link" href="#_installing_the_content_directory_monitor">3.5.5.1. Installing the Content Directory Monitor</a></h5>
<div class="paragraph">
<p>The Content Directory Monitor is installed by default with a standard installation of the Catalog application.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_permissions_for_the_content_directory_monitor"><a class="anchor" href="#_configuring_permissions_for_the_content_directory_monitor"></a><a class="link" href="#_configuring_permissions_for_the_content_directory_monitor">3.5.5.2. Configuring Permissions for the Content Directory Monitor</a></h5>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>If monitoring a WebDav server, then adding these permissions is not required and this section can be skipped.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Configuring a Content Directory Monitor requires adding permissions to the Security Manager before CDM configuration.</p>
</div>
<div class="paragraph">
<p>Configuring a CDM requires adding read and write permissions to the directory being monitored. The following permissions, replacing &lt;DIRECTORY_PATH&gt; with the path of the directory being monitored, are required for each configured CDM and should be placed in the CDM section inside &lt;DDF_HOME&gt;/security/configurations.policy.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="title">Adding New Permissions</div>
<div class="paragraph">
<p>After adding permissions, a system restart is required for them to take effect.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>permission java.io.FilePermission "&lt;DIRECTORY_PATH&gt;", "read";</p>
</li>
<li>
<p>permission java.io.FilePermission "&lt;DIRECTORY_PATH&gt;${/}-", "read, write";</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Trailing slashes after &lt;DIRECTORY_PATH&gt; have no effect on the permissions granted. For example, adding a permission for "${/}test${/}path" and "${/}test${/}path${/}" are equivalent. The recursive forms "${/}test${/}path${/}-", and "${/}test${/}path${/}${/}-" are also equivalent.</p>
</div>
<div class="paragraph">
<p>Line 1 gives the CDM the permissions to read from the monitored directory path. Line 2 gives the CDM the permissions to recursively read and write from the monitored directory path, specified by the directory path&#8217;s suffix "${/}-".</p>
</div>
<div class="paragraph">
<p>If a CDM configuration is deleted, then the corresponding permissions that were added should be deleted to avoid granting unnecessary permissions to parts of the system.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_the_content_directory_monitor"><a class="anchor" href="#_configuring_the_content_directory_monitor"></a><a class="link" href="#_configuring_the_content_directory_monitor">3.5.5.3. Configuring the Content Directory Monitor</a></h5>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="title">Content Directory Monitor Permissions</div>
<div class="paragraph">
<p>When configuring a Content Directory Monitor, make sure to set permissions on the new directory to allow DDF to access it. Setting permissions should be done <strong>before</strong> configuring a CDM. Also, don&#8217;t forget to add permissions for products outside of the monitored directory. See <a href="#_configuring_permissions_for_the_content_directory_monitor">Configuring Permissions for the Content Directory Monitor</a> for in-depth instructions on configuring permissions.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If there&#8217;s a metacard that points to a resource outside of the CDM, then you must configure the <a href="developing.html#_url_resource_reader">URL Resource Reader</a> to be able to download it.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="title">Monitoring Directories In Place</div>
<div class="paragraph">
<p>If monitoring a directory in place, then the <a href="developing.html#_url_resource_reader">URL Resource Reader</a> must be configured prior to configuring the CDM to allow reading from the configured directory. This allows the Catalog to download the products.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Configure the CDM from the Admin Console:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Catalog Content Directory Monitor</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_org.codice.ddf.catalog.content.monitor.ContentDirectoryMonitor">Content Directory Monitor configurations</a> for all possible configurations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_using_the_content_directory_monitor"><a class="anchor" href="#_using_the_content_directory_monitor"></a><a class="link" href="#_using_the_content_directory_monitor">3.5.5.4. Using the Content Directory Monitor</a></h5>
<div class="paragraph">
<p>The CDM processes files in a directory, and all of its sub-directories. The CDM offers three options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Delete</p>
</li>
<li>
<p>Move</p>
</li>
<li>
<p>Monitor in place</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Regardless of the option, the DDF takes each file in a monitored directory structure and creates a metacard for it. The metacard is linked to the file. The behavior of each option is given below.</p>
</div>
<div class="ulist">
<div class="title">Delete</div>
<ul>
<li>
<p>Copies the file into the Content Repository.</p>
</li>
<li>
<p>Creates a metacard in the Catalog from the file.</p>
</li>
<li>
<p><strong>Erases</strong> the original file from the monitored directory.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Move</div>
<ul>
<li>
<p>Copies the file into the directory <code>.\ingested</code> <strong>(this will double the disk space used)</strong></p>
</li>
<li>
<p>Copies the file into the Content Repository.</p>
</li>
<li>
<p>Creates a metacard in the Catalog from the file.</p>
</li>
<li>
<p><strong>Erases</strong> the original file from the monitored directory.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Monitor in place</div>
<ul>
<li>
<p>Creates a metacard in the Catalog from the file.</p>
</li>
<li>
<p>Creates a reference from the metacard to the original file in the monitored directory.</p>
</li>
<li>
<p>If the original file is deleted, the metacard is removed from the Catalog.</p>
</li>
<li>
<p>If the original file is modified, the metacard is updated to reflect the new content.</p>
</li>
<li>
<p>If the original file is renamed, the old metacard is deleted and a new metacard is created.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Parallel Processing</div>
<p>The CDM supports parallel processing of files (up to 8 files processed concurrently).  This is configured by setting the number of <strong>Maximum Concurrent Files</strong> in the configuration.  A maximum of 8 is imposed to protect system resources.</p>
</div>
<div class="paragraph">
<div class="title">Read Lock</div>
<p>When the CDM is set up, the directory specified is continuously scanned, and files are locked for processing based on the <strong>ReadLock Time Interval</strong>.  This does not apply to the <strong>Monitor in place</strong> processing directive.  Files will not be ingested without having a ReadLock that has observed no change in the file size.
This is done so that files that are in transit will not be ingested prematurely. The interval should be dependent on the speed of the copy to the directory monitor (ex. network drive vs local disk).
For local files, the default value of 500 milliseconds is recommended. The recommended interval for network drives is 1000 - 2000 milliseconds.  If the value provided is less than 100, 100 milliseconds will be used.
It is also recommended that the <strong>ReadLock Time Interval</strong> be set to a lower amount of time when the <strong>Maximum Concurrent Files</strong> is set above 1 so that files are
locked in a timely manner and processed as soon as possible.  When a higher <strong>ReadLock Time Interval</strong> is set, the time it takes for files to be processed is increased.</p>
</div>
<div class="paragraph">
<div class="title">Attribute Overrides</div>
<p>The CDM supports setting metacard attributes directly when DDF ingests a file. Custom overrides are entered in the form:</p>
</div>
<div class="paragraph">
<p><code><strong>attribute-name=attribute-value</strong></code></p>
</div>
<div class="paragraph">
<p>For example, to set the contact email for all metacards, add the attribute override:</p>
</div>
<div class="paragraph">
<p><code><strong>contact.point-of-contact-email=<a href="mailto:doctor@clinic.com">doctor@clinic.com</a></strong></code></p>
</div>
<div class="paragraph">
<p>Each override sets the value of a single metacard attribute. To set the value of an additional attribute, select the "plus"
 icon in the UI. This creates an empty line for the entry.</p>
</div>
<div class="paragraph">
<p>To set multi-valued attributes, use a separate override for each value. For example, to add the keywords <em>PPI</em> and <em>radiology</em> to each metacard, add the custom attribute overrides:</p>
</div>
<div class="paragraph">
<p><code><strong>topic.keyword=PPI</strong></code><br>
<code><strong>topic.keyword=radiology</strong></code></p>
</div>
<div class="paragraph">
<p>Attributes will only be overridden if they are part of the <a href="documentation.html#_metacard_type">metacard type</a> or are <a href="developing.html#_attribute_injection_definition">injected</a>.</p>
</div>
<div class="paragraph">
<p>All attributes in the <a href="metadata.html#_catalog_taxonomy_definitions">catalog taxonomy tables</a> are injected into all metacards by default and can be overridden.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If an overridden attribute is not part of the <a href="documentation.html#_metacard_type">metacard type</a> or <a href="developing.html#_attribute_injection_definition">injected</a> the attribute will not be added to the metacard.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For example, if the metacard type contains contact email,</p>
</div>
<div class="paragraph">
<p><code><strong>contact.point-of-contact-email</strong></code></p>
</div>
<div class="paragraph">
<p>but the value is not currently set, adding an attribute override will set the attribute value.
To override attributes that are not part of the metacard type, <a href="developing.html#_attribute_injection_definition">attribute injection</a> can be used.</p>
</div>
<div class="paragraph">
<div class="title">Blacklist</div>
<p>The CDM blacklist uses the "bad.files" and "bad.file.extensions" properties from the custom.system.properties file in "etc/" in order to prevent
malicious or unwanted data from being ingested into DDF.  While the CDM automatically omits hidden files, this is particularly useful when
an operating system automatically generates files that should not be ingested.  One such example of this is "thumbs.db" in Windows.
This file type and any temporary files are included in the blacklist.</p>
</div>
<div class="paragraph">
<div class="title">Errors</div>
<p>If the CDM fails to read the file, an error will be logged in the ingest log. If the directory monitor is
configured to <strong>Delete</strong> or <strong>Move</strong>, the original file is also moved to the <code>\.errors</code> directory.</p>
</div>
<div class="ulist">
<div class="title">Other</div>
<ul>
<li>
<p>Multiple directories can be monitored. Each directory has an independent configuration.</p>
</li>
<li>
<p>To support the monitoring in place behavior, DDF indexes the files to track their names and modification timestamps. This enables the Content Directory Monitor to take appropriate action when files are changed or deleted.</p>
</li>
<li>
<p>The Content Directory Monitor recursively processes all subdirectories.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_system_usage_message"><a class="anchor" href="#_configuring_system_usage_message"></a><a class="link" href="#_configuring_system_usage_message">3.5.6. Configuring System Usage Message</a></h4>
<div class="paragraph">
<p>The Platform UI configuration contains the settings for displaying messages to users at login or in banners in the headers and footers of all pages.
For, example this configuration can provide warnings that system usage is monitored or controlled.</p>
</div>
<div class="olist arabic">
<div class="title">Configuring System Usage Message</div>
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Platform</strong> application.</p>
</li>
<li>
<p>Select <strong>Configuration</strong>.</p>
</li>
<li>
<p>Select <strong>Platform UI Configuration</strong>.</p>
</li>
<li>
<p>Select <strong>Enable System Usage Message</strong>.</p>
</li>
<li>
<p>Enter text in the remaining fields and save.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See the <a href="reference.html#_ddf.platform.ui.config">Platform UI</a> for all possible configurations.</p>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_data_policy_plugins"><a class="anchor" href="#_configuring_data_policy_plugins"></a><a class="link" href="#_configuring_data_policy_plugins">3.5.7. Configuring Data Policy Plugins</a></h4>
<div class="paragraph">
<p>Configure the data-related policy plugins to determine the accessibility of data held by DDF.</p>
</div>
<div class="sect4">
<h5 id="_configuring_the_metacard_attribute_security_policy_plugin"><a class="anchor" href="#_configuring_the_metacard_attribute_security_policy_plugin"></a><a class="link" href="#_configuring_the_metacard_attribute_security_policy_plugin">3.5.7.1. Configuring the Metacard Attribute Security Policy Plugin</a></h5>
<div class="paragraph">
<p>The Metacard Attribute Security Policy Plugin combines existing metacard attributes to make new attributes and adds them to the metacard.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application tile</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab</p>
</li>
<li>
<p>Select the <strong>Metacard Attribute Security Policy Plugin</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Sample configuration of the <a href="reference.html#_metacard_attribute_security_policy_plugin">Metacard Attribute Security Policy Plugin</a>.</p>
</div>
<div class="paragraph">
<p>To configure the plugin to combine the attributes <code>sourceattribute1</code> and <code>sourceattribute2</code> into a new
attribute <code>destinationattribute1</code> using the union,
enter these two lines under the title <strong>Metacard Union Attributes</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Metacard Union Attributes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sourceattribute1=destinationattribute1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sourceattribute2=destinationattribute1</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See <a href="reference.html#_org.codice.ddf.catalog.security.policy.metacard.MetacardAttributeSecurityPolicyPlugin">Metacard Attribute Security Policy Plugin configurations</a> for all possible configurations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_the_metacard_validation_marker_plugin"><a class="anchor" href="#_configuring_the_metacard_validation_marker_plugin"></a><a class="link" href="#_configuring_the_metacard_validation_marker_plugin">3.5.7.2. Configuring the Metacard Validation Marker Plugin</a></h5>
<div class="paragraph">
<p>By default, the Metacard Validation Marker Plugin will mark metacards with validation errors and warnings as they are reported by each metacard validator and then allow the ingest.
To prevent the ingest of certain invalid metacards, the <code>Metacard Validity Marker</code> plugin can be configured to "enforce" one or more validators.
Metacards that are invalid according to an "enforced" validator will not be ingested.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Metacard Validity Marker Plugin</strong>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If desired, enter the ID of any metacard validator to enforce. This will prevent ingest of metacards that fail validation.</p>
</li>
<li>
<p>If desired, check <strong>Enforce Errors</strong> or <strong>Enforce Warnings</strong>, or both.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_ddf.catalog.metacard.validation.MetacardValidityMarkerPlugin">Metacard Validity Marker Plugin configurations</a> for all possible configurations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_the_metacard_validity_filter_plugin"><a class="anchor" href="#_configuring_the_metacard_validity_filter_plugin"></a><a class="link" href="#_configuring_the_metacard_validity_filter_plugin">3.5.7.3. Configuring the Metacard Validity Filter Plugin</a></h5>
<div class="paragraph">
<p>The <a href="architecture.html#_metacard_validity_filter_plugin">Metacard Validity Filter Plugin</a> determines whether metacards with validation errors or warnings are filtered from query results.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Metacard Validity Filter Plugin</strong>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Check <strong>Filter Errors</strong> to hide metacards with errors from users.</p>
</li>
<li>
<p>Check <strong>Filter Warnings</strong> to hide metacards with warnings from users.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_ddf.catalog.metacard.validation.MetacardValidityFilterPlugin">Metacard Validity Filter Plugin configurations</a> for all possible configurations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_the_xml_attribute_security_policy_plugin"><a class="anchor" href="#_configuring_the_xml_attribute_security_policy_plugin"></a><a class="link" href="#_configuring_the_xml_attribute_security_policy_plugin">3.5.7.4. Configuring the XML Attribute Security Policy Plugin</a></h5>
<div class="paragraph">
<p>The XML Attribute Security Policy Plugin finds security attributes contained in a metacard&#8217;s metadata.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Admin Console.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application tile.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select the <strong>XML Attribute Security Policy Plugin</strong> configuration.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_org.codice.ddf.catalog.security.policy.xml.XmlAttributeSecurityPolicyPlugin">XML Attribute Security Policy Plugin
 configurations</a> for all possible configurations.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_data_access_plugins"><a class="anchor" href="#_configuring_data_access_plugins"></a><a class="link" href="#_configuring_data_access_plugins">3.5.8. Configuring Data Access Plugins</a></h4>
<div class="paragraph">
<p>Configure access plugins to act upon the rules and attributes configured by the policy plugins and user attributes.</p>
</div>
<div class="sect4">
<h5 id="_configuring_the_security_audit_plugin"><a class="anchor" href="#_configuring_the_security_audit_plugin"></a><a class="link" href="#_configuring_the_security_audit_plugin">3.5.8.1. Configuring the Security Audit Plugin</a></h5>
<div class="paragraph">
<p>The <a href="architecture.html#_security_audit_plugin">Security Audit Plugin</a> audits specific metacard attributes.</p>
</div>
<div class="paragraph">
<p>To configure the Security Audit Plugin:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Security Audit Plugin</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Add the desired metacard attributes that will be audited when modified.</p>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_org.codice.ddf.catalog.plugin.security.audit.SecurityAuditPlugin">Security Audit Plugin configurations</a> for all possible configurations.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_security_policies"><a class="anchor" href="#_configuring_security_policies"></a><a class="link" href="#_configuring_security_policies">3.6. Configuring Security Policies</a></h3>
<div class="paragraph">
<p>User attributes and Data attributes are matched by security policies defined within DDF.</p>
</div>
<div class="sect3">
<h4 id="_configuring_the_web_context_policy_manager"><a class="anchor" href="#_configuring_the_web_context_policy_manager"></a><a class="link" href="#_configuring_the_web_context_policy_manager">3.6.1. Configuring the Web Context Policy Manager</a></h4>
<div class="paragraph">
<p>The Web Context Policy Manager defines all security policies for REST endpoints within DDF.
It defines:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the realms a context should authenticate against.</p>
</li>
<li>
<p>the type of authentication that a context requires.</p>
</li>
<li>
<p>any user attributes required for authorization.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_org.codice.ddf.security.policy.context.impl.PolicyManager">Web Context Policy Manager Configurations</a> for detailed descriptions of all fields.</p>
</div>
<div class="sect4">
<h5 id="_authentication_types"><a class="anchor" href="#_authentication_types"></a><a class="link" href="#_authentication_types">3.6.1.1. Authentication Types</a></h5>
<div class="paragraph">
<p>As you add REST endpoints, you may need to add different types of authentication through the Web Context Policy Manager.</p>
</div>
<div class="paragraph">
<p>Any web context that allows or requires specific authentication types should be added here with the following format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/&lt;CONTEXT&gt;=&lt;AUTH_TYPE&gt;|&lt;AUTH_TYPE|...</pre>
</div>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 8. Default Types of Authentication</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Authentication Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>saml</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activates single-sign on (SSO) across all REST endpoints that use SAML.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>basic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activates basic authentication.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PKI</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activates public key infrastructure authentication.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IdP</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activates SAML Web SSO authentication support. Additional configuration is necessary.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>guest</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">provides guest access</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_attributes"><a class="anchor" href="#_required_attributes"></a><a class="link" href="#_required_attributes">3.6.1.2. Required Attributes</a></h5>
<div class="paragraph">
<p>The fields for required attributes allows configuring certain contexts to only be accessible to users with pre-defined attributes.
For example, the default required attribute for the <code>/admin</code> context is <code>role=system-admin</code>, limiting access to the Admin Console to system administrators</p>
</div>
</div>
<div class="sect4">
<h5 id="_white_listed_contexts"><a class="anchor" href="#_white_listed_contexts"></a><a class="link" href="#_white_listed_contexts">3.6.1.3. White Listed Contexts</a></h5>
<div class="paragraph">
<p>White listed contexts are trusted contexts which will bypass security.
Any sub-contexts of a white listed context will be white listed as well, unless they are specifically assigned a policy.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_catalog_filtering_policies"><a class="anchor" href="#_configuring_catalog_filtering_policies"></a><a class="link" href="#_configuring_catalog_filtering_policies">3.6.2. Configuring Catalog Filtering Policies</a></h4>
<div class="paragraph">
<p>Filtering is the process of evaluating security markings on data products, comparing them to the users permissions and protecting resources from inappropriate access.</p>
</div>
<div class="paragraph">
<p>There are two options for processing filtering policies: internally, or through the use of a policy formatted in eXtensible Access Control Markup Language (XACML).
The procedure for setting up a policy differs depending on whether that policy is to be used internally or by the external XACML processing engine.</p>
</div>
<div class="sect4">
<h5 id="_setting_internal_policies"><a class="anchor" href="#_setting_internal_policies"></a><a class="link" href="#_setting_internal_policies">3.6.2.1. Setting Internal Policies</a></h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Security</strong> application.</p>
</li>
<li>
<p>Click the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Click on the <strong>Security AuthZ Realm</strong> configuration.</p>
</li>
<li>
<p>Add any attribute mappings necessary to map between subject attributes and the attributes to be asserted.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>For example, the above example would require two Match All mappings of <code>subjectAttribute1=assertedAttribute1</code> and <code>subjectAttribute2=assertedAttribute2`</code></p>
</li>
<li>
<p>Match One mappings would contain <code>subjectAttribute3=assertedAttribute3</code> and <code>subjectAttribute4=assertedAttribute4</code>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>With the <code>security-pdp-authz</code> feature configured in this way, the above Metacard would be displayed to the user.
Note that this particular configuration would not require any XACML rules to be present.
All of the attributes can be matched internally and there is no reason to call out to the external XACML processing engine.
For more complex decisions, it might be necessary to write a XACML policy to handle certain attributes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_setting_xacml_policies"><a class="anchor" href="#_setting_xacml_policies"></a><a class="link" href="#_setting_xacml_policies">3.6.2.2. Setting XACML Policies</a></h5>
<div class="paragraph">
<p>To set up a XACML policy, place the desired XACML policy in the <code>&lt;distribution root&gt;/etc/pdp/policies</code> directory and update the included <code>access-policy.xml</code> to include the new policy.
This is the directory in which the PDP will look for XACML policies every 60 seconds.</p>
</div>
<div class="paragraph">
<p>See <a href="developing.html#_developing_xacml_policies">Developing XACML Policies</a> for more information about custom XACML policies.</p>
</div>
</div>
<div class="sect4">
<h5 id="_catalog_filter_policy_plugins"><a class="anchor" href="#_catalog_filter_policy_plugins"></a><a class="link" href="#_catalog_filter_policy_plugins">3.6.2.3. Catalog Filter Policy Plugins</a></h5>
<div class="paragraph">
<p>Several Policy Plugins for catalog filtering exist currently: <a href="developing.html#_metacard_attribute_security_policy_plugin">Metacard Attribute Security Policy Plugin</a> and <a href="developing.html#_xml_attribute_security_policy_plugin">XML Attribute Security Policy Plugin</a>.
These Policy Plugin implementations allow an administrator to easily add filtering capabilities to some standard Metacard types for all Catalog operations.
These plugins will place policy information on the Metacard itself that allows the <a href="developing.html#_filter_plugin">Filter Plugin</a> to restrict unauthorized users from viewing content they are not allowed to view.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_user_interfaces"><a class="anchor" href="#_configuring_user_interfaces"></a><a class="link" href="#_configuring_user_interfaces">3.7. Configuring User Interfaces</a></h3>
<div class="paragraph">
<p>DDF has several user interfaces available for users.</p>
</div>
<div class="sect3">
<h4 id="_configuring_intrigue"><a class="anchor" href="#_configuring_intrigue"></a><a class="link" href="#_configuring_intrigue">3.7.1. Configuring Intrigue</a></h4>
<div class="paragraph">
<p>Start here to configure Intrigue.</p>
</div>
<div class="sect4">
<h5 id="_configuring_default_layout_for_intrigue"><a class="anchor" href="#_configuring_default_layout_for_intrigue"></a><a class="link" href="#_configuring_default_layout_for_intrigue">3.7.1.1. Configuring Default Layout for Intrigue</a></h5>
<div class="paragraph">
<p>Intrigue includes several options for users to display search results.
By default, users start with a <strong>3D map</strong> and an <strong>Inspector</strong> to view details of results or groups of results.
Add or remove additional <strong>visualizations</strong> to the default view through the <strong>Default Layout UI</strong>.
Users can customize their individual views as well.</p>
</div>
<div class="dlist">
<div class="title">Available Visualizations</div>
<dl>
<dt class="hdlist1">3D Map <em>(Default)</em></dt>
<dd>
<p>Display a fully-interactive three-dimensional globe.</p>
</dd>
<dt class="hdlist1">2D Map</dt>
<dd>
<p>Display a less resource-intensive two-dimensional map.</p>
</dd>
<dt class="hdlist1">Inspector <em>(Default)</em></dt>
<dd>
<p>Display a view of detailed information about a search result.</p>
</dd>
<dt class="hdlist1">Histogram</dt>
<dd>
<p>Compare attributes of items in a search result set as a histogram.</p>
</dd>
<dt class="hdlist1">Table</dt>
<dd>
<p>Compare attributes of items in a search result set as a table.</p>
</dd>
</dl>
</div>
<div class="olist arabic">
<div class="title">Configuring Visualizations</div>
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Search UI</strong> application.</p>
</li>
<li>
<p>Select the <strong>Default Layout</strong> tab.</p>
</li>
<li>
<p><strong>Add</strong> or <strong>Remove</strong> visualizations as desired.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To add a visualization, select the <strong>Add</strong> icon.</p>
</li>
<li>
<p>To remove a visualization, select the <strong>Delete</strong> icon on the tab for that visualization.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Select <strong>Save</strong> to complete.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_map_layers_for_intrigue"><a class="anchor" href="#_configuring_map_layers_for_intrigue"></a><a class="link" href="#_configuring_map_layers_for_intrigue">3.7.1.2. Configuring Map Layers for Intrigue</a></h5>
<div class="paragraph">
<p>Customize the look of the map displayed to users in Intrigue by adding or removing map layers through the <strong>Map Layers UI</strong>.
Equivalent addition and deletion of a map layer can be found in <a href="#_map_configuration_for_intrigue">Map Configuration for Intrigue</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Map Layers</strong> tab.</p>
</li>
<li>
<p><strong>Add</strong>, <strong>Configure</strong> or <strong>Remove</strong> map layers as desired.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Adding a Map Layer (Imagery Provider)</div>
<p>Adding a Map Layer translates to adding an Imagery Provider</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enter a unique alphanumeric <strong>Name</strong> (no special characters).</p>
</li>
<li>
<p>Enter the <strong>Provider URL</strong> for the server hosting the map layer instance.</p>
</li>
<li>
<p>Select <strong>Proxy</strong> <em>if</em> security policies <em>or</em> the tile server does not allow Cross-Origin Resource Sharing (CORS).</p>
</li>
<li>
<p>Select <strong>Allow Credential Formatting</strong> if map layer server prompts for credentials.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>If selected, requests will fail if the server does not prompt for credentials.</em></p>
</li>
</ol>
</div>
</li>
<li>
<p>Select from the list of available <strong>Provider Types</strong>.</p>
</li>
<li>
<p>Select a value for the <strong>Alpha</strong> to set the overall opacity of the <em>map layer</em>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Setting <strong>Alpha</strong> to 0 will prevent the layer from loading.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Select <strong>Show</strong> to make the layer visible in Intrigue. (Deselect to hide.)</p>
</li>
<li>
<p>Select <strong>Transparent</strong> if <em>tile</em> images contain transparency.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Deleting a Map Layer</div>
<ol class="arabic">
<li>
<p>Delete an unneeded map layer with the <strong>Delete Layer</strong>(<span class="image"><a class="image" href="_configuring_guest_claims_attribute_page"><img src="data:image/png;base64,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" alt="trash icon" title="Configuring Map Layers for Intrigue"></a></span>) icon associated with that layer.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To remove all map layers, select <strong>RESET</strong>.</p>
</div>
<div class="olist arabic">
<div class="title">Reordering Map Layers</div>
<ol class="arabic">
<li>
<p>Move layers <strong>Up</strong> and <strong>Down</strong> in loading order with the <strong>Arrow Icons</strong> associated with each layer.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Map Layer Advanced Configuration</div>
<p>Select <strong>Advanced Configuration</strong> to edit the JSON-formatted configuration directly.
See <a href="reference.html#_org.codice.ddf.catalog.ui">Catalog UI Search Configurations</a> for examples of map layer configurations.</p>
</div>
<div class="paragraph">
<p>External links to the specific API documentation of the map layer is also available from the <strong>Advanced Configuration</strong> menu.</p>
</div>
</div>
<div class="sect4">
<h5 id="_map_configuration_for_intrigue"><a class="anchor" href="#_map_configuration_for_intrigue"></a><a class="link" href="#_map_configuration_for_intrigue">3.7.1.3. Map Configuration for Intrigue</a></h5>
<div class="paragraph">
<p>Customize the look of the map displayed to users in Intrigue through the <strong>Catalog UI Search</strong>.
Equivalent addition and deletion of a map layer can be found in <a href="#_configuring_map_layers_for_intrigue">Configuring Map Layers for Intrigue</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Search UI</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Catalog UI Search</strong> configuration.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Edit a Map Layer (Imagery Provider)</div>
<ol class="arabic">
<li>
<p>Enter the properties of the map layer into the <strong>Imagery Provider</strong> in the proper syntax.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Example Imagery Provider Syntax: <code>{"type": "OSM", "url" "http://a.tile.openstreetmaps.org" "layers" ["layer1" "layer2"] "parameters" {"FORMAT" "image/png" "VERSION" "1.1.1"} "alpha" 0.5}</code>.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>"type": format of imagery provider.</p>
</li>
<li>
<p>"url": location of server hosting the imagery provider.</p>
</li>
<li>
<p>"layers": names of individual layers. (enclose list in square brackets`[ ]`).</p>
</li>
<li>
<p>"parameters": (enclose in braces <code>{}</code>)</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>"FORMAT": image type used by imagery provider.</p>
</li>
<li>
<p>"VERSION": version of imagery provider to use.</p>
</li>
<li>
<p>"alpha": opacity of imagery provider layer.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Delete a Map Layer (Imagery Provider)</div>
<ol class="arabic">
<li>
<p>Delete the properties in <strong>Imagery Provider</strong> text box.</p>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Edit a Terrain Provider</div>
<ol class="arabic">
<li>
<p>Enter the properties into the <strong>Terrain Provider</strong> in the proper syntax.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>A default Terrain Provider is provided: <code>{ "type": "CT", "url": "http://assets.agi.com/stk-terrain/tilesets/world/tiles" }</code>.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>"type": format of terrain provider.</p>
</li>
<li>
<p>"url": location of server hosting the terrain provider.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<div class="title">Edit Gazetteer Configuration</div>
<ol class="arabic">
<li>
<p>Check/Uncheck <strong>Show Gazetteer</strong> to control searching place names functionality.</p>
</li>
<li>
<p>Check/Uncheck <strong>Use Online Gazetteer</strong> to control Intrigue search gazetteer.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Unchecked: use local gazetteer service.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_user_access_to_ingest_and_metadata_for_intrigue"><a class="anchor" href="#_configuring_user_access_to_ingest_and_metadata_for_intrigue"></a><a class="link" href="#_configuring_user_access_to_ingest_and_metadata_for_intrigue">3.7.1.4. Configuring User Access to Ingest and Metadata for Intrigue</a></h5>
<div class="paragraph">
<p>Intrigue lets the administrator control user access to ingest and metadata. The administrator
can show or hide the uploader, letting them control whether users can ingest products. They
can also choose whether or not users can edit existing metadata. By default, the uploader is
available to users and editing is allowed.</p>
</div>
<div class="paragraph">
<div class="title">Configuring The Uploader</div>
<p>Choose to hide or show the uploader. Note that hiding the uploader will
remove the users' ability to ingest.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Search UI</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Catalog UI Search</strong>.</p>
</li>
<li>
<p>Select "Show Uploader".</p>
</li>
<li>
<p>Select <strong>Save</strong> to complete.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Configuring Editing of Metadata</div>
<p>Allow or restrict the editing of metadata.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Search UI</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Catalog UI Search</strong>.</p>
</li>
<li>
<p>Select "Allow Editing".</p>
</li>
<li>
<p>Select <strong>Save</strong> to complete.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_the_intrigue_upload_editor"><a class="anchor" href="#_configuring_the_intrigue_upload_editor"></a><a class="link" href="#_configuring_the_intrigue_upload_editor">3.7.1.5. Configuring the Intrigue Upload Editor</a></h5>
<div class="paragraph">
<p>The upload editor in Intrigue allows users to specify attribute overrides which should be
applied on ingest. Administrators control the list of attributes that users may edit and can
mark certain attributes as required. They may also disable the editor if desired.</p>
</div>
<div class="olist arabic">
<div class="title">Configure attribute list</div>
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Search UI</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Catalog UI Search</strong>.</p>
</li>
<li>
<p>Use the "Upload Editor: Attribute Configuration" field to configure the attributes shown in the
editor.</p>
</li>
<li>
<p>Use the "Upload Editor: Required Attributes" field to mark attributes as required.</p>
</li>
<li>
<p>Select <strong>Save</strong> to complete.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_org.codice.ddf.catalog.ui">Intrigue Configurations</a> for more information
regarding these configurations.</p>
</div>
<div class="paragraph">
<div class="title">Disabling</div>
<p>The editor only appears if it has attributes to show. If the upload editing capability is not
desired, simply remove all entries from the attribute configuration and the editor will be hidden.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_search_options_for_intrigue"><a class="anchor" href="#_configuring_search_options_for_intrigue"></a><a class="link" href="#_configuring_search_options_for_intrigue">3.7.1.6. Configuring Search Options for Intrigue</a></h5>
<div class="paragraph">
<p>Intrigue provides a few options to control what metacards may be searched.
By default, the user can perform searches that produce historical metacards, archived metacards,
and metacards from the local catalog. However, administrators can disable searching
for any of these types of metacards.</p>
</div>
<div class="olist arabic">
<div class="title">Configuring Search Options</div>
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Search UI</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select Catalog UI Search.</p>
</li>
<li>
<p>Scroll down to the "Disable Local Catalog" option with the other options below it.</p>
</li>
<li>
<p>To disable searching for a metacard type, check the corresponding box.</p>
</li>
<li>
<p>Select <strong>Save</strong> to complete.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_query_feedback_for_intrigue"><a class="anchor" href="#_configuring_query_feedback_for_intrigue"></a><a class="link" href="#_configuring_query_feedback_for_intrigue">3.7.1.7. Configuring Query Feedback for Intrigue</a></h5>
<div class="paragraph">
<p>Intrigue provides an option to allow users to submit Query Feedback.</p>
</div>
<div class="olist arabic">
<div class="title">Configuring Query Feedback</div>
<ol class="arabic">
<li>
<p>First, configure the <strong>Email Service</strong> to point to a mail server. See <a href="reference.html#_org.codice.ddf.platform.email.impl.SmtpClientImpl">Email Service Configurations</a>.</p>
</li>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Search UI</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Catalog UI Search</strong>.</p>
</li>
<li>
<p>Select the <strong>Enable Query Feedback</strong> option to enable the query comments option for users in Intrigue.</p>
</li>
<li>
<p>Add a <strong>Query Feedback Email Subject Template</strong>.</p>
</li>
<li>
<p>Add a <strong>Query Feedback Email Body Template</strong>. The template may include HTML formatting.</p>
</li>
<li>
<p>Add the <strong>Query Feedback Email Destination</strong>.</p>
</li>
<li>
<p>Select the <strong>Save</strong> button.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Query Feedback Template Replacements</div>
<p>The following keywords in the templates will be replaced with submission-specific values, or "Unknown" if unknown.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Template keyword</th>
<th class="tableblock halign-left valign-top">Replacement value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>{{auth_username}}</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the security subsystem (see <a href="developing.html#_security_framework">Security Framework</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>{{username}}</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the user who submitted the Query Feedback</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>{{email}}</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email of the user who submitted the Query Feedback</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>{{workspace_id}}</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workspace ID of the query</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>{{workspace_name}}</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Workspace Name of the query</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>{{query}}</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Query</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>{{query_initiated_time}}</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time of the query</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>{{query_status}}</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status of the query</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>{{query_results}}</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Results of the query</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>{{comments}}</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comments provided by the user about the query</p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<div class="title">Submitting Query Feedback from Intrigue</div>
<ol class="arabic">
<li>
<p>Perform a search on any workspace.</p>
</li>
<li>
<p>Select the 3 dots on the results tab.</p>
</li>
<li>
<p>Choose the <strong>Submit Feedback</strong> option.</p>
</li>
<li>
<p>Add comments in the input box.</p>
</li>
<li>
<p>Select the <strong>Send</strong> button.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_org.codice.ddf.catalog.ui">Catalog UI Search Configurations</a> for default Query Feedback configurations.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_federation"><a class="anchor" href="#_configuring_federation"></a><a class="link" href="#_configuring_federation">3.8. Configuring Federation</a></h3>
<div class="paragraph">
<p>DDF is able to <a href="introduction.html#_introduction_to_federation_and_sources">federate</a> to other data sources, including other instances of DDF, with some simple configuration.</p>
</div>
<div class="sect3">
<h4 id="_enable_ssl_for_clients"><a class="anchor" href="#_enable_ssl_for_clients"></a><a class="link" href="#_enable_ssl_for_clients">3.8.1. Enable SSL for Clients</a></h4>
<div class="paragraph">
<p>In order for outbound secure connections (HTTPS) to be made from components like Federated Sources and Resource Readers configuration may need to be updated with keystores and security properties.
These values are configured in the <code>&lt;DDF_HOME&gt;/etc/custom.system.properties</code> file.
The following values can be set:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Sample Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.net.ssl.trustStore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>etc/keystores/serverTruststore.jks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The java keystore that contains the trusted public certificates for Certificate Authorities (CA&#8217;s) that can be used to validate SSL Connections for outbound TLS/SSL connections (e.g. HTTPS).
When making outbound secure connections a handshake will be done with the remote secure server and the CA that is in the signing chain for the remote server&#8217;s certificate must be present in the trust store for the secure connection to be successful.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.net.ssl.trustStorePassword</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changeit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the password for the truststore listed in the above property</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.net.ssl.keyStore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>etc/keystores/serverKeystore.jks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The keystore that contains the private key for the local server that can be used for signing, encryption, and SSL/TLS.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.net.ssl.keyStorePassword</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>changeit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The password for the keystore listed above</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javax.net.ssl.keyStoreType</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jks</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of keystore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>https.cipherSuites</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TLS_DHE_RSA_WITH_AES_128_GCM_SHA256</code>,
<code>TLS_DHE_RSA_WITH_AES_128_CBC_SHA256</code>,
<code>TLS_DHE_RSA_WITH_AES_128_CBC_SHA</code>,
<code>TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256</code>,
<code>TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The cipher suites that are supported when making outbound HTTPS connections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>https.protocols</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TLSv1.1</code>,<code>TLSv1.2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The protocols that are supported when making outbound HTTPS connections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jdk.tls.client.protocols</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TLSv1.1</code>,<code>TLSv1.2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The protocols that are supported when making inbound HTTPS connections</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jdk.tls.ephemeralDHKeySize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'matched'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For X.509 certificate based authentication (of non-exportable cipher suites), the DH key size matching the corresponding authentication key is used, except that the size must be between 1024 bits and 2048 bits. For example, if the public key size of an authentication certificate is 2048 bits, then the ephemeral DH key size should be 2048 bits unless the cipher suite is exportable. This key sizing scheme keeps the cryptographic strength consistent between authentication keys and key-exchange keys.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><code>&lt;DDF_HOME&gt;</code> Directory</div>
<div class="paragraph">
<p>DDF is installed in the <code>&lt;DDF_HOME&gt;</code> directory.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_http_s_ports"><a class="anchor" href="#_configuring_http_s_ports"></a><a class="link" href="#_configuring_http_s_ports">3.8.2. Configuring HTTP(S) Ports</a></h4>
<div class="paragraph">
<p>To change HTTP or HTTPS ports from the default values, edit the <code>custom.system.properties</code> file.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open the file at &lt;DDF_HOME&gt;/etc/custom.system.properties</p>
</li>
<li>
<p>Change the value after the <code>=</code> to the desired port number(s):</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>org.codice.ddf.system.httpsPort=8993</code> to <code>org.codice.ddf.system.httpsPort=&lt;PORT&gt;</code></p>
</li>
<li>
<p><code>org.codice.ddf.system.httpPort=8181</code> to <code>org.codice.ddf.system.httpPort=&lt;PORT&gt;</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Restart DDF for changes to take effect.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Do not use the Admin Console to change the HTTP port.
While the Admin Console&#8217;s Pax Web Runtime offers this configuration option, it has proven to be unreliable and may crash the system.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_http_proxy"><a class="anchor" href="#_configuring_http_proxy"></a><a class="link" href="#_configuring_http_proxy">3.8.3. Configuring HTTP Proxy</a></h4>
<div class="paragraph">
<p>The <code>platform-http-proxy</code> feature proxies https to http for clients that cannot use HTTPS and should not have HTTP enabled for the entire container via the <code>etc/org.ops4j.pax.web.cfg</code> file.</p>
</div>
<div class="olist arabic">
<div class="title">Enabling the HTTP Proxy from the Admin Console</div>
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>System</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Features</strong> tab.</p>
</li>
<li>
<p>Select <code>platform-http-proxy</code>.</p>
</li>
<li>
<p>Select the <strong>Play</strong> button to the right of the word Uninstalled</p>
</li>
</ol>
</div>
<div class="ulist">
<div class="title">Enabling the HTTP Proxy from the Command Console</div>
<ul>
<li>
<p>Type the command <code>feature:install platform-http-proxy</code></p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Configuring HTTP Proxy Hostname</div>
<ol class="arabic">
<li>
<p>Select <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>HTTP to HTTPS Proxy Settings</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter the Hostname to use for HTTPS connection in the proxy.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Save changes</strong>.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">HTTP Proxy and Hostname</div>
<div class="paragraph">
<p>The hostname should be set by default.
Only configure the proxy if this is not working.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_federation_strategy"><a class="anchor" href="#_federation_strategy"></a><a class="link" href="#_federation_strategy">3.8.4. Federation Strategy</a></h4>
<div class="paragraph">
<p>A federation strategy federates a query to all of theRemote Sourcesin the query&#8217;s list, processes the results in a unique way, and then returns the results to the client.
For example, implementations can choose to halt processing until all results return and then perform a mass sort or return the results back to the client as soon as they are received back from aFederated Source.</p>
</div>
<div class="paragraph">
<p>Anendpointcan optionally specify the federation strategy to use when it invokes the query operation.
Otherwise, the Catalogprovides adefault federation strategythat will be used: the Catalog Federation Strategy.</p>
</div>
<div class="sect4">
<h5 id="_configuring_federation_strategy"><a class="anchor" href="#_configuring_federation_strategy"></a><a class="link" href="#_configuring_federation_strategy">3.8.4.1. Configuring Federation Strategy</a></h5>
<div class="paragraph">
<p>The Catalog Federation Strategy configuration can be found in the Admin Console.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to Admin Console.</p>
</li>
<li>
<p>Select <strong>Catalog</strong></p>
</li>
<li>
<p>Select <strong>Configuration</strong></p>
</li>
<li>
<p>Select <strong>Catalog Federation Strategy</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_ddf.catalog.federation.impl.CachingFederationStrategy">Federation Strategy configurations</a> for all possible configurations.</p>
</div>
<div class="sect5">
<h6 id="_catalogFederationStrategy"><a class="anchor" href="#_catalogFederationStrategy"></a><a class="link" href="#_catalogFederationStrategy">3.8.4.1.1. Catalog Federation Strategy</a></h6>
<div class="paragraph">
<p>The Catalog Federation Strategy is the default federation strategy and is based on sorting metacards by the sorting parameter specified in the federated query.</p>
</div>
<div class="paragraph">
<p>The possible sorting values are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>metacard&#8217;s effective date/time</p>
</li>
<li>
<p>temporal data in the query result</p>
</li>
<li>
<p>distance data in the query result</p>
</li>
<li>
<p>relevance of the query result</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The supported sorting orders are ascending and descending.</p>
</div>
<div class="paragraph">
<p>The default sorting value/order automatically used is relevance descending.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>The Catalog Federation Strategy expects the results returned from the Source to be sorted based on whatever sorting criteria were specified.
If a metadata record in the query results contains null values for the sorting criteria elements, the Catalog Federation Strategy expects that result to come at the end of the result list.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_connecting_to_sources"><a class="anchor" href="#_connecting_to_sources"></a><a class="link" href="#_connecting_to_sources">3.8.5. Connecting to Sources</a></h4>
<div class="paragraph">
<p>A <strong>source</strong> is a system consisting of a catalog containing Metacards.</p>
</div>
<div class="paragraph">
<p>Catalog sources are used to connect Catalog components to data sources, local and remote.
Sources act as proxies to the actual external data sources, e.g., a RDBMS database or a NoSQL database.</p>
</div>
<div class="dlist">
<div class="title">Types of Sources</div>
<dl>
<dt class="hdlist1">Remote Source</dt>
<dd>
<p>Read-only data sources that support query operations but cannot be used to create, update, or delete metacards.</p>
</dd>
<dt class="hdlist1"><a id="_federated_source"></a>Federated Sources</dt>
<dd>
<p>A federated source is a remote source that can be included in federated queries by request or as part of an enterprise query. Federated sources support query and site information operations only. Catalog modification operations, such as create, update, and delete, are not allowed.
Federated sources also expose an event service, which allows the Catalog Framework to subscribe to event notifications when metacards are created, updated, and deleted.</p>
<div class="paragraph">
<p>Catalog instances can also be federated to each other.
Therefore, a Catalog can also act as a federated source to another Catalog.</p>
</div>
</dd>
<dt class="hdlist1"><a id="_connected_sources"></a>Connected Sources</dt>
<dd>
<p>A Connected Sourceis a local or remote source that is always included in every local and enterprise query, but is hidden from being queried individually. A connected source&#8217;s identifier is removed in all query results by replacing it with DDF&#8217;s source identifier. The Catalog Framework does not reveal a connected source as a separate source when returning source information responses.</p>
</dd>
<dt class="hdlist1"><a id="_catalog_providers"></a>Catalog Providers</dt>
<dd>
<p>A Catalog Provider is used to interact with data providers, such as files systems or databases, to query, create, update, or delete data. The provider also translates between DDF objects and native data formats.</p>
<div class="paragraph">
<p>All sources, including federated source and connected source, support queries, but a Catalog provider also allows metacards to be created, updated, and deleted. A Catalog provider typically connects to an external application or a storage system (e.g., a database), acting as a proxy for all catalog operations.</p>
</div>
</dd>
<dt class="hdlist1"><a id="_catalog_stores"></a>Catalog Stores</dt>
<dd>
<p>A Catalog Store is an editable store that is either local or remote.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<div class="title">Available Federated Sources</div>
<p>The following Federated Sources are available in a standard installation of DDF:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#_federated_source_for_atlassian_confluence_r">Federated Source for Atlassian Confluence&#174;</a></dt>
<dd>
<p>Retrieve pages, comments, and attachments from an Atlassian Confluence&#174; REST API.</p>
</dd>
<dt class="hdlist1"><a href="#_csw_specification_profile_federated_source">CSW Specification Profile Federated Source</a></dt>
<dd>
<p>Queries a CSW version 2.0.2 compliant service.</p>
</dd>
<dt class="hdlist1"><a href="#_csw_federation_profile_source">CSW Federation Profile Source</a></dt>
<dd>
<p>Queries a CSW version 2.0.2 compliant service.</p>
</dd>
<dt class="hdlist1"><a href="#_gmd_csw_source">GMD CSW Source</a></dt>
<dd>
<p>Queries a GMD CSW APISO compliant service.</p>
</dd>
<dt class="hdlist1"><a href="#_opensearch_source">OpenSearch Source</a></dt>
<dd>
<p>Performs OpenSearch queries for metadata.</p>
</dd>
<dt class="hdlist1"><a href="#_wfs_1_0_source">WFS 1.0 Source</a></dt>
<dd>
<p>Allows for requests for geographical features across the web.</p>
</dd>
<dt class="hdlist1"><a href="#_wfs_1_1_source">WFS 1.1 Source</a></dt>
<dd>
<p>Allows for requests for geographical features across the web.</p>
</dd>
<dt class="hdlist1"><a href="#_wfs_2_0_source">WFS 2.0 Source</a></dt>
<dd>
<p>Allows for requests for geographical features across the web.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<div class="title">Available Connected Sources</div>
<p>The following Connected Sources are available in a standard installation of DDF:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#_wfs_1_0_source">WFS 1.0 Source</a></dt>
<dd>
<p>Allows for requests for geographical features across the web.</p>
</dd>
<dt class="hdlist1"><a href="#_wfs_1_1_source">WFS 1.1 Source</a></dt>
<dd>
<p>Allows for requests for geographical features across the web.</p>
</dd>
<dt class="hdlist1"><a href="#_wfs_2_0_source">WFS 2.0 Source</a></dt>
<dd>
<p>Allows for requests for geographical features across the web.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<div class="title">Available Catalog Stores</div>
<p>The following Catalog Stores are available in a standard installation of DDF:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#_registry_store">Registry Store</a></dt>
<dd>
<p>Allows CSW messages to be turned into usable Registry metacards and for those metacards to be turned back into CSW messages.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<div class="title">Available Catalog Providers</div>
<p>The following Catalog Providers are available in a standard installation of DDF:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#_solr_catalog_provider">Solr Catalog Provider</a></dt>
<dd>
<p>Uses Solr as a catalog.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<div class="title">Available Storage Providers</div>
<p>The following Storage Providers are available in a standard installation of DDF:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#_content_file_system_storage_provider">Content File System Storage Provider</a></dt>
<dd>
<p>.Sources Details
Availability and configuration details of available sources.</p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="_federated_source_for_atlassian_confluence_r"><a class="anchor" href="#_federated_source_for_atlassian_confluence_r"></a><a class="link" href="#_federated_source_for_atlassian_confluence_r">3.8.5.1. Federated Source for Atlassian Confluence(R)</a></h5>
<div class="paragraph">
<p>The Confluence source provides a Federated Source to retrieve pages, comments, and attachments from an Atlassian Confluence&#174; REST API and turns the results into Metacards the system can use.
The Confluence source does provide a Connected Source interface but its functionality has not been verified.</p>
</div>
<div class="paragraph">
<p>Confluence Source has been tested against the following versions of Confluence with REST API v2</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Confluence 1000.444.5 (Cloud)</p>
</li>
<li>
<p>Confluence 5.10.6 (Server)</p>
</li>
<li>
<p>Confluence 5.10.7 (Server)</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Installing the Confluence Federated Source</div>
<p>The Confluence Federated Source is installed by default with a standard installation in the Catalog application.</p>
</div>
<div class="paragraph">
<p>Add a New Confluence Federated Source through the Admin Console:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Add a New source.</p>
</li>
<li>
<p>Name the New source.</p>
</li>
<li>
<p>Select <strong>Confluence Federated Source</strong> from <strong>Binding Configurations</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Configuring the Confluence Federated Source</div>
<p>Configure an Existing Confluence Federated Source through the Admin Console:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Select the name of the source to edit.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_Confluence_Federated_Source">Confluence Federated Source configurations</a> for all possible configurations.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>If an additional attribute is not part of the Confluence metacard type or <a href="developing.html#_attribute_injection_definition">injected</a>, the attribute will not be added to the metacard.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Usage Limitations of the Confluence Federated Source</div>
<p>Most of the fields that can be queried on Confluence have some sort of restriction on them. Most of the fields do not support the <code>like</code> aka <code>~</code> operation so the source will convert <code>like</code> queries to <code>equal</code> queries for attributes that don&#8217;t support <code>like</code>. If the source receives a query with attributes it doesn&#8217;t understand, it will just ignore them. If the query doesn&#8217;t contain any attributes that map to Confluence search attributes, an empty result set will be returned.</p>
</div>
<div class="paragraph">
<p>Depending on your version of Confluence, when downloading attachments you might get redirected to a different download URL. The default URLResourceReader configuration allows redirects, but if the option was disabled in the past, the download will fail. This can be fixed by re-enabling redirects in the <code>URLResourceReader</code> <a href="developing.html#_configuring_the_url_resource_reader">configuration</a>.</p>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="_csw_specification_profile_federated_source"><a class="anchor" href="#_csw_specification_profile_federated_source"></a><a class="link" href="#_csw_specification_profile_federated_source">3.8.5.2. CSW Specification Profile Federated Source</a></h5>
<div class="paragraph">
<p>The CSW Specification Profile Federated Source should be used when federating to an <em>external</em> (non-DDF-based) CSW (version 2.0.2) compliant service.</p>
</div>
<div class="paragraph">
<div class="title">Installing the CSW Specification Profile Federated Source</div>
<p>Add a New CSW Specification Profile Federated Source through the Admin Console:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Add a New source.</p>
</li>
<li>
<p>Name the New source.</p>
</li>
<li>
<p>Select <strong>CSW Specification Profile Federated Source</strong> from <strong>Source Type</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Configuring the CSW Specification Profile Federated Source</div>
<p>Configure an Existing CSW Specification Profile Federated Source through the Admin Console:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Select the name of the source to edit.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_Csw_Federated_Source">CSW Specification Profile Federated Source configurations</a> for all possible configurations.</p>
</div>
<div class="ulist">
<div class="title">Usage Limitations of the CSW Specification Profile Federated Source</div>
<ul>
<li>
<p>Nearest neighbor spatial searches are not supported.</p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="_csw_federation_profile_source"><a class="anchor" href="#_csw_federation_profile_source"></a><a class="link" href="#_csw_federation_profile_source">3.8.5.3. CSW Federation Profile Source</a></h5>
<div class="paragraph">
<p>The CSW Federation Profile Source is DDF&#8217;s CSW Federation Profile which supports the ability to search collections of descriptive information (metadata) for data, services, and related information objects.</p>
</div>
<div class="paragraph">
<p>Use the CSW Federation Profile Source when federating to a DDF-based system.</p>
</div>
<div class="paragraph">
<div class="title">Installing the CSW Federation Profile Source</div>
<p>Configure the CSW Federation Profile Source through the Admin Console:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Add a New source.</p>
</li>
<li>
<p>Name the New source.</p>
</li>
<li>
<p>Select <strong>CSW Specification Profile Federated Source</strong> from <strong>Source Type</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Configuring the CSW Federation Profile Source</div>
<p>Configure an Existing CSW Federated Source through the Admin Console:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Select the name of the source to edit.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_Csw_Federation_Profile_Source">CSW Federation Profile Source configurations</a> for all possible configurations.</p>
</div>
<div class="ulist">
<div class="title">Usage Limitations of the CSW Federation Profile Source</div>
<ul>
<li>
<p>Nearest neighbor spatial searches are not supported.</p>
</li>
</ul>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="_content_file_system_storage_provider"><a class="anchor" href="#_content_file_system_storage_provider"></a><a class="link" href="#_content_file_system_storage_provider">3.8.5.4. Content File System Storage Provider</a></h5>
<div class="paragraph">
<p>The Content File System Storage Provider is the default Storage Provider included with DDF</p>
</div>
<div class="paragraph">
<div class="title">Installing the Content File System Storage Provider</div>
<p>The Content File System Storage Provider is installed by default with the Catalog application.</p>
</div>
<div class="paragraph">
<div class="title">Configuring Content File System Storage Provider</div>
<p>To configure the Content File System Storage Provider:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>Catalog</strong>.</p>
</li>
<li>
<p>Select <strong>Configuration</strong>.</p>
</li>
<li>
<p>Select <strong>Content File System Storage Provider</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_org.codice.ddf.catalog.content.impl.FileSystemStorageProvider">Content File System Storage Provider configurations</a> for all possible configurations.</p>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="_gmd_csw_source"><a class="anchor" href="#_gmd_csw_source"></a><a class="link" href="#_gmd_csw_source">3.8.5.5. GMD CSW Source</a></h5>
<div class="paragraph">
<p>The Geographic MetaData extensible markup language (GMD) CSW source supports the ability to search collections of descriptive information (metadata) for data, services, and related information objects, based on the <a href="https://portal.opengeospatial.org/files/?artifact_id=6495">Application Profile ISO 19115/ISO19119</a> <span class="image"><a class="image" href="_gmd_csw_source"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="GMD CSW Source"></a></span>.</p>
</div>
<div class="paragraph">
<p>Use the GMD CSW source if querying a GMD CSW APISO compliant service.</p>
</div>
<div class="paragraph">
<div class="title">Installing the GMD CSW APISO v2.0.2 Source</div>
<p>The GMD CSW source is installed by default with a standard installation in the Spatial application.</p>
</div>
<div class="paragraph">
<p>Configure a new GMD CSW APISO v2.0.2 Source through the Admin Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Add a New source.</p>
</li>
<li>
<p>Name the New source.</p>
</li>
<li>
<p>Select <strong>GMD CSW ISO Federated Source</strong> from <strong>Binding Configurations</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Configuring the GMD CSW APISO v2.0.2 Source</div>
<p>Configure an existing GMD CSW APISO v2.0.2 Source through the Admin Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Select the name of the source to edit.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_Gmd_Csw_Federated_Source">GMD CSW APISO v2.0.2 Source configurations</a> for all possible configurations.</p>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="_opensearch_source"><a class="anchor" href="#_opensearch_source"></a><a class="link" href="#_opensearch_source">3.8.5.6. OpenSearch Source</a></h5>
<div class="paragraph">
<p>The OpenSearch source provides a <a href="#_federated_source">Federated Source</a> that has the capability to do <a href="http://www.opensearch.org/Home">OpenSearch</a> queries for metadata from Content Discovery and Retrieval (CDR) Search V1.1 compliant sources.
The OpenSearch source does not provide a <a href="#_connected_sources">Connected Source</a> interface.</p>
</div>
<div class="paragraph">
<div class="title">Installing an OpenSearch Source</div>
<p>The OpenSearch Source is installed by default with a standard installation in the Catalog application.</p>
</div>
<div class="paragraph">
<p>Configure a new OpenSearch Source through the Admin Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Add a New source.</p>
</li>
<li>
<p>Name the New source.</p>
</li>
<li>
<p>Select <strong>OpenSearch Source</strong> from <strong>Binding Configurations</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Configuring an OpenSearch Source</div>
<p>Configure an existing OpenSearch Source through the Admin Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Select the name of the source to edit.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_OpenSearchSource">OpenSearch Source configurations</a> for all possible configurations.</p>
</div>
<div class="paragraph">
<div class="title">Using OpenSearch Source</div>
<p>Use the OpenSearch source if querying a CDR-compliant search service is desired.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 9. Query to OpenSearch Parameter Mapping</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">OpenSearch HTTP Parameter</th>
<th class="tableblock halign-left valign-top">DDF Data Location</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">searchTerms</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>q</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pulled from the query and encoded in UTF-8.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">routeTo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>src</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pulled from the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxResults</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pulled from the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>count</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pulled from the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">startIndex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>start</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pulled from the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxTimeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pulled from the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">userDN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DDF subject</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lat</code></p></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">Pulled from the query if it is a point-radius query and the radius is &gt; 0.<br>
If multiple point radius searches are encountered, each point radius is converted to an approximate polygon as geometry criteria.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">lon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lon</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">radius</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>radius</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">box</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bbox</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pulled from the query if it is a bounding-box query.<br>
<br>
Or else, calculated from the query if it is a single geometry or polygon query and the <a href="reference.html#_shouldConvertToBBox"><code>shouldConvertToBBox</code></a> configuration option is <code>true</code>.
NOTE: Converting a polygon that crosses the antimeridian to a bounding box will produce an incorrect bounding box.<br>
<br>
Or else, calculated from the query if it is a geometry collection and the <a href="reference.html#_shouldConvertToBBox"><code>shouldConvertToBBox</code></a> configuration option is <code>true</code>.
Note: An approximate bounding box is used to represent the geometry collection encompassing all of the geometries within it<br>
Area between the geometries are also included in the bounding box. Hence widen the search area.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>geometry</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pulled from the DDF query and combined as a geometry collection if multiple spatial query exist.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">polygon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>polygon</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">According to the OpenSearch Geo Specification this is deprecated. Use the geometry parameter instead.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">start</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtstart</code></p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Pulled from the query if the query has temporal criteria for <a href="metadata.html#_modified">modified</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">end</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>dtend</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">filter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pulled from the query.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sort</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Calculated from the query.
Format: <code>relevance</code> or <code>date</code>.
Supports <code>asc</code> and <code>desc</code> using <code>:</code> as delimiter.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">Usage Limitations of the OpenSearch Source</div>
<p>The OpenSearch source does not provide a <a href="#_connected_sources">Connected Source</a> interface.</p>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="_registry_store"><a class="anchor" href="#_registry_store"></a><a class="link" href="#_registry_store">3.8.5.7. Registry Store</a></h5>
<div class="paragraph">
<p>The Registry Store is the interface that allows CSW messages to be turned into usable Registry metacards and for those metacards to be turned back into CSW messages.</p>
</div>
<div class="paragraph">
<div class="title">Installing Registry Store</div>
<p>The Registry Store is installed by default with the Registry application.</p>
</div>
<div class="paragraph">
<div class="title">Configuring Registry Store</div>
<p>To configure the Registry store:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>Registry</strong>.</p>
</li>
<li>
<p>Select the <strong>Remote Registries</strong> Tab and click the <strong>Add</strong> button.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>ALTERNATIVELY: Select the <strong>Configuration</strong> Tab and select <strong>Registry Store</strong>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="_solr_catalog_provider"><a class="anchor" href="#_solr_catalog_provider"></a><a class="link" href="#_solr_catalog_provider">3.8.5.8. Solr Catalog Provider</a></h5>
<div class="paragraph">
<p>The Solr Catalog Provider is included with a standard installation of DDF. There are two configurations available:</p>
</div>
<div class="paragraph">
<div class="title"><a id="_internal_solr"></a>Solr Server (default)::</div>
<p>DDF is bundled with a distribution
of Apache Solr. This distribution includes special JAR libraries used by DDF.
This DDF scripts manage the starting and stopping of the Solr server.
Considerations include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No configuration necessary. Simply start DDF and DDF manages starting and
stopping the Solr server.</p>
</li>
<li>
<p>Backup can be performed using DDF console&#8217;s <code>backup</code> command.</p>
</li>
<li>
<p>This configuration cannot be scaled larger than the single Solr server.</p>
</li>
<li>
<p>All data is located inside the {$branding} home directory. If the Solr index grows
large, the storage volume may run low on space.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Installing Solr Server</div>
<p>No installation is required because DDF includes a distribution of Apache Solr.</p>
</div>
<div class="paragraph">
<div class="title">Configuring Solr Server</div>
<p>No configuration.</p>
</div>
<div class="paragraph">
<div class="title"><a id="_solr_cloud"></a>Solr Cloud</div>
<p>Solr Cloud is a cluster of distributed Solr servers used for high
availability and scalability. If the DDF needs to be available with little or no downtime,
 then the Solr Cloud configuration should be used. The general considerations for selecting
  this configuration are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SolrCloud can scale to support over 2 billion indexed documents.</p>
</li>
<li>
<p>Has network overhead and requires additional protection to be secure.</p>
</li>
<li>
<p>Installation is more involved (requires Zookeeper)</p>
</li>
<li>
<p>Configuration and administration is more complex due to replication, sharding, etc.</p>
</li>
<li>
<p>No way to backup currently, but will automatically recover from system failure.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Configuration shared between Solr Server instances is managed by Zookeeper.
Zookeeper helps manage the overall structure.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="_solr_catalog_provider"><img src="data:image/png;base64,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" alt="Solr Cloud Deployment" width="510" height="280"></a>
</div>
<div class="title">Solr Cloud Deployment</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The instructions on setting up Solr Cloud for DDF only include setup in a *NIX environment.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Solr Cloud Prerequisites</div>
<p>Before Solr Cloud can be installed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ZooKeeper 3.4.5 (Refer to <a href="https://zookeeper.apache.org/doc/r3.1.2/zookeeperStarted.html#sc_Download" class="bare">https://zookeeper.apache.org/doc/r3.1.2/zookeeperStarted.html#sc_Download</a> for installation instructions.)</p>
</li>
<li>
<p>*NIX environment</p>
</li>
<li>
<p>JDK 8 or greater</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>A minimum of three Zookeeper nodes required.
Three Zookeeper nodes are needed to form a quorum.
A three Zookeeper ensemble allows for a single server to fail and the service will still be available.
More Zookeeper nodes can be added to achieve greater fault tolerance. The total number of nodes must always be an odd number.
See <a href="https://lucene.apache.org/solr/guide/7_4/setting-up-an-external-zookeeper-ensemble.html#SettingUpanExternalZooKeeperEnsemble-SettingupaZooKeeperEnsemble">
Setting Up an External Zoo Keeper Ensemble</a> for more information.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Installing Solr Cloud</div>
<p>Before starting the install procedure, download the extension jars. The jars are needed to support
geospatial and xpath queries and need to be installed on every Solr server instance after the Solr
Cloud installation instructions have been followed.</p>
</div>
<div class="paragraph">
<p>The JARs can be found here:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><a href="http://artifacts.codice.org/service/local/repositories/releases/content/org/codice/thirdparty/jts/1.14.0_1/jts-1.14.0_1.jar" class="bare">http://artifacts.codice.org/service/local/repositories/releases/content/org/codice/thirdparty/jts/1.14.0_1/jts-1.14.0_1.jar</a></p>
</li>
<li>
<p><a href="http://artifacts.codice.org/service/local/artifact/maven/content?r=public&amp;g=ddf.platform.solr&amp;a=solr-xpath&amp;v=2.15.0" class="bare">http://artifacts.codice.org/service/local/artifact/maven/content?r=public&amp;g=ddf.platform.solr&amp;a=solr-xpath&amp;v=2.15.0</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Repeat the following procedure for each Solr server instance that will be part of the Solr Cloud cluster:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Refer to <a href="https://cwiki.apache.org/confluence/display/solr/Apache+Solr+Reference+Guide" class="bare">https://cwiki.apache.org/confluence/display/solr/Apache+Solr+Reference+Guide</a> for installation instructions.</p>
</li>
<li>
<p>Copy downloaded jar files to: <code>&lt;SOLR_INSTALL_DIR&gt;/server/solr-webapp/webapp/WEB-INF/lib/</code></p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>A minimum of two Solr server instances is required. Each Solr server instance must have a minimum of two shards.
Having two Solr server instances guarantees that at least one Solr server is available if one fails.
The two shards enables the document mapping to be restored if one shard becomes unavailable.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Configuring Solr Cloud</div>
<ol class="arabic">
<li>
<p>On the DDF server, edit <code>&lt;DDF_HOME&gt;/etc/custom.system.properties</code>:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Comment out the Solr Client Configuration for <strong>Http Solr Client</strong> section.</p>
</li>
<li>
<p>Uncomment the section for the <strong>Cloud Solr Client</strong>:</p>
</li>
<li>
<p>Set <code>solr.cloud.zookeeper</code> to <code>&lt;ZOOKEEPER_1_HOSTNAME&gt;:&lt;PORT_NUMBER&gt;</code>, <code>&lt;ZOOKEEPER_2_HOSTNAME&gt;:&lt;PORT_NUMBER&gt;</code>, <code>&lt;ZOOKEEPER_n_HOSTNAME&gt;:&lt;PORT_NUMBER&gt;</code></p>
</li>
<li>
<p>Set <code>solr.data.dir</code> to the desired data directory.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">Solr Cloud System Properties</div>
<div class="content">
<pre>solr.client = CloudSolrClient
solr.data.dir = ${karaf.home}/data/solr
solr.cloud.zookeeper = zk1:2181,zk2:2181,zk3:2181</pre>
</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="_wfs_1_0_source"><a class="anchor" href="#_wfs_1_0_source"></a><a class="link" href="#_wfs_1_0_source">3.8.5.9. WFS 1.0 Source</a></h5>
<div class="paragraph">
<p>The WFS Source allows for requests for geographical features across the web using platform-independent calls.</p>
</div>
<div class="paragraph">
<p>A Web Feature Service (WFS) source is an implementation of the <code>FederatedSource</code> interface provided by the DDF Framework.</p>
</div>
<div class="paragraph">
<p>Use the WFS Source if querying a WFS version 1.0.0 compliant service.</p>
</div>
<div class="paragraph">
<div class="title">Installing the WFS v1.0.0 Source</div>
<p>The WFS v1.0.0 Source is installed by default with a standard installation in the Spatial application.</p>
</div>
<div class="paragraph">
<p>Configure a new WFS v1.0.0 Source through the Admin Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Add a New source.</p>
</li>
<li>
<p>Name the New source.</p>
</li>
<li>
<p>Select <strong>WFS v1.0.0 Source</strong> from <strong>Binding Configurations</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Configuring the WFS v1.0.0 Source</div>
<p>Configure an existing WFS v1.0.0 Source through the Admin Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Select the name of the source to edit.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_Wfs_v1_0_0_Federated_Source">WFS v.1.0 Federated Source configurations</a> or <a href="reference.html#_Wfs_v1_0_0_Connected_Source">WFS v1.0 Connected Source configurations</a> for all possible configurations.a</p>
</div>
<div class="paragraph">
<div class="title">WFS URL</div>
<p>The WFS URL must match the endpoint for the service being used.
The type of service and version are added automatically, so they do not need to be included.
Some servers will throw an exception if they are included twice, so do not include those.</p>
</div>
<div class="paragraph">
<p>The syntax depends on the server.
However, in most cases, the syntax will be everything before the <code>?</code> character in the URL that corresponds to the <code>GetCapabilities</code> query.</p>
</div>
<div class="listingblock">
<div class="title">Example GeoServer 2.5 Syntax</div>
<div class="content">
<pre>http://www.example.org:8080/geoserver/ows?service=wfs&amp;version=1.0.0&amp;request=GetCapabilities</pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the WFS URL would be: <code><a href="http://www.example.org:8080/geoserver/ows" class="bare">http://www.example.org:8080/geoserver/ows</a></code></p>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="_wfs_1_1_source"><a class="anchor" href="#_wfs_1_1_source"></a><a class="link" href="#_wfs_1_1_source">3.8.5.10. WFS 1.1 Source</a></h5>
<div class="paragraph">
<p>The WFS Source allows for requests for geographical features across the web using platform-independent calls.</p>
</div>
<div class="paragraph">
<p>A Web Feature Service (WFS) source is an implementation of the <code>FederatedSource</code> interface provided by the DDF Framework.</p>
</div>
<div class="paragraph">
<p>Use the WFS Source if querying a WFS version 1.1.0 compliant service.</p>
</div>
<div class="paragraph">
<div class="title">Installing the WFS v1.1.0 Source</div>
<p>The WFS v1.1.0 Source is installed by default with a standard installation in the Spatial application.</p>
</div>
<div class="paragraph">
<p>Configure a new WFS v1.1.0 Source through the Admin Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Add a New source.</p>
</li>
<li>
<p>Name the New source.</p>
</li>
<li>
<p>Select <strong>WFS v1.1.0 Source</strong> from <strong>Binding Configurations</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Configuring the WFS v1.1.0 Source</div>
<p>Configure an existing WFS v1.1.0 Source through the Admin Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Select the name of the source to edit.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_Wfs_v1_1_0_Federated_Source">WFS v.1.1 Federated Source configurations</a> for all possible configurations.</p>
</div>
<div class="paragraph">
<div class="title">WFS URL</div>
<p>The WFS URL must match the endpoint for the service being used.
The type of service and version are added automatically, so they do not need to be included.
Some servers will throw an exception if they are included twice, so do not include those.</p>
</div>
<div class="paragraph">
<p>The syntax depends on the server.
However, in most cases, the syntax will be everything before the <code>?</code> character in the URL that corresponds to the <code>GetCapabilities</code> query.</p>
</div>
<div class="listingblock">
<div class="title">Example GeoServer 2.12.1 Syntax</div>
<div class="content">
<pre>http://www.example.org:8080/geoserver/wfs?service=wfs&amp;version=1.1.0&amp;request=GetCapabilities</pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the WFS URL would be: <code><a href="http://www.example.org:8080/geoserver/wfs" class="bare">http://www.example.org:8080/geoserver/wfs</a></code></p>
</div>
<div class="paragraph">
<div class="title">Mapping Metacard Attributes to WFS Feature Properties for Queries</div>
<p>The WFS v1.1.0 Source supports mapping metacard attributes to WFS feature properties for queries (GetFeature requests) to the WFS server.
The source uses a <code>MetacardMapper</code> service to determine how to map a given metacard attribute in a query to a feature property the WFS server understands.
It looks for a <code>MetacardMapper</code> whose <code>getFeatureType()</code> matches the feature type being queried.
Any <code>MetacardMapper</code> service implementation will work, but DDF provides one in the Spatial application called <a href="reference.html#_org.codice.ddf.spatial.ogc.wfs.catalog.mapper.MetacardMapper">Metacard to WFS Feature Map</a>.</p>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="_wfs_2_0_source"><a class="anchor" href="#_wfs_2_0_source"></a><a class="link" href="#_wfs_2_0_source">3.8.5.11. WFS 2.0 Source</a></h5>
<div class="paragraph">
<p>The WFS 2.0 Source allows for requests for geographical features across the web using platform-independent calls.</p>
</div>
<div class="paragraph">
<p>Use the WFS Source if querying a WFS version 2.0.0 compliant service. Also see <a href="developing.html#_wfs_services">Working with WFS Sources</a>.</p>
</div>
<div class="paragraph">
<div class="title">Installing the WFS v2.0.0 Source</div>
<p>The WFS v2.0.0 Source is installed by default with a standard installation in the Spatial application.</p>
</div>
<div class="paragraph">
<p>Configure a new WFS v2.0.0 Source through the Admin Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Add a New source.</p>
</li>
<li>
<p>Name the New source.</p>
</li>
<li>
<p>Select <strong>WFS v2.0.0 Source</strong> from <strong>Binding Configurations</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Configuring the WFS v2.0.0 Source</div>
<p>Configure an existing WFS v2.0.0 Source through the Admin Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Sources</strong> tab.</p>
</li>
<li>
<p>Select the name of the source to edit.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_Wfs_v2_0_0_Federated_Source">WFS v.2.0 Federated source configurations</a> or <a href="reference.html#_Wfs_v2_0_0_Connected_Source">WFS v2.0 Connected source configurations</a> for all possible configurations.</p>
</div>
<div class="paragraph">
<div class="title">WFS URL</div>
<p>The WFS URL must match the endpoint for the service being used.
The type of service and version is added automatically, so they do not need to be included.
Some servers will throw an exception if they are included twice, so do not include those.</p>
</div>
<div class="paragraph">
<p>The syntax depends on the server.
However, in most cases, the syntax will be everything before the <code>?</code> character in the URL that corresponds to the <code>GetCapabilities</code> query.</p>
</div>
<div class="listingblock">
<div class="title">Example GeoServer 2.5 Syntax</div>
<div class="content">
<pre>http://www.example.org:8080/geoserver/ows?service=wfs&amp;version=2.0.0&amp;request=GetCapabilities</pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the WFS URL would be</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://www.example.org:8080/geoserver/ows</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Mapping WFS Feature Properties to Metacard Attributes</div>
<p>The WFS 2.0 Source allows for virtually any schema to be used to describe a feature.
A feature is relatively equivalent to a metacard. The <code>MetacardMapper</code> was added to allow an administrator to configure which feature properties map to which metacard attributes.</p>
</div>
<div class="paragraph">
<div class="title">Using the WFS <code>MetacardMapper</code></div>
<p>Use the WFS <code>MetacardMapper</code> to configure which feature properties map to which metacard attributes when querying a WFS version 2.0.0 compliant service.
When feature collection responses are returned from WFS sources, a default mapping occurs which places the feature properties into metacard attributes, which are then presented to the user via DDF.
There can be situations where this automatic mapping is not optimal for your solution.
Custom mappings of feature property responses to metacard attributes can be achieved through the <code>MetacardMapper</code>.
The <code>MetacardMapper</code> is set by creating a feature file configuration which specifies the appropriate mapping. The mappings are specific to a given feature type.</p>
</div>
<div class="paragraph">
<div class="title">Installing the WFS <code>MetacardMapper</code></div>
<p>The WFS <code>MetacardMapper</code> is is not installed by default with a standard application in the Spatial application.</p>
</div>
<div class="paragraph">
<div class="title">Configuring the WFS <code>MetacardMapper</code></div>
<p>There are two ways to configure the <code>MetcardMapper</code>, one is to use the Configuration Admin available via the Admin Console.
Additionally, a <code>feature.xml</code> file can be created and copied into the "deploy" directory.</p>
</div>
<div class="paragraph">
<div class="title">Example WFS MetacardMapper Configuration</div>
<p>The following shows how to configure the <code>MetacardMapper</code> to be used with the sample data provided with GeoServer.
This configuration shows a custom mapping for the feature type states.
For the given type, we are taking the feature property states.STATE_NAME and mapping it to the metacard attribute title.
In this particular case, since we mapped the state name to title in the metacard, it will now be fully searchable.
More mappings can be added to the <code>featurePropToMetacardAttrMap</code> line through the use of comma as a delimiter.</p>
</div>
<div class="listingblock">
<div class="title">Example <code>MetacardMapper</code> Configuration Within a <code>feature.xml</code> file:</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="tag">&lt;feature</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">geoserver-states</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">version</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">2.15.0</span><span class="delimiter">&quot;</span></span>
    <span class="attribute-name">description</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">WFS Feature to Metacard mappings for GeoServer Example {http://www.openplans.org/topp}states</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;config</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.codice.ddf.spatial.ogc.wfs.catalog.mapper.MetacardMapper-geoserver.http://www.openplans.org/topp.states</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
        featureType = {http://www.openplans.org/topp}states
        featurePropToMetacardAttrMap = states.STATE_NAME=title
    <span class="tag">&lt;/config&gt;</span>
<span class="tag">&lt;/feature&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_endpoints"><a class="anchor" href="#_configuring_endpoints"></a><a class="link" href="#_configuring_endpoints">3.8.6. Configuring Endpoints</a></h4>
<div class="paragraph">
<p>Configure endpoints to enable external systems to send and receive content and metadata from DDF.</p>
</div>
<div class="sect4">
<h5 id="_configuring_catalog_rest_endpoint"><a class="anchor" href="#_configuring_catalog_rest_endpoint"></a><a class="link" href="#_configuring_catalog_rest_endpoint">3.8.6.1. Configuring Catalog REST Endpoint</a></h5>
<div class="paragraph">
<p>The Catalog REST endpoint allows clients to perform operations on the Catalogusing REST.</p>
</div>
<div class="paragraph">
<p>To install the Catalog REST endpoint:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>System</strong>.</p>
</li>
<li>
<p>Select <strong>Features</strong>.</p>
</li>
<li>
<p>Install the <code>catalog-rest-endpoint</code> feature.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The Catalog REST endpoint has no configurable properties.
It can only be installed or uninstalled.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_csw_endpoint"><a class="anchor" href="#_configuring_csw_endpoint"></a><a class="link" href="#_configuring_csw_endpoint">3.8.6.2. Configuring CSW Endpoint</a></h5>
<div class="paragraph">
<p>The CSW endpoint enables a client to search collections of descriptive information (metadata) about geospatial data and services.</p>
</div>
<div class="paragraph">
<p>To install the CSW endpoint:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>System</strong>.</p>
</li>
<li>
<p>Select <strong>Features</strong>.</p>
</li>
<li>
<p>Install the <code>csw-endpoint</code> feature.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The CSW endpoint has no configurable properties.
It can only be installed or uninstalled.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_ftp_endpoint"><a class="anchor" href="#_configuring_ftp_endpoint"></a><a class="link" href="#_configuring_ftp_endpoint">3.8.6.3. Configuring FTP Endpoint</a></h5>
<div class="paragraph">
<p>The FTP endpoint provides a method for ingesting files directly into the DDF Catalog using the FTP protocol
The files sent over FTP are not first written to the file system, as the <a href="#_content_directory_monitor">Directory Monitor</a> does, but instead the FTP stream of the file is ingested directly into the DDF catalog, thus avoiding extra I/O overhead.</p>
</div>
<div class="paragraph">
<p>To install the FTP endpoint:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>System</strong>.</p>
</li>
<li>
<p>Select <strong>Features</strong>.</p>
</li>
<li>
<p>Install the <code>catalog-ftp</code> feature.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To configure the FTP endpoint:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>System</strong>.</p>
</li>
<li>
<p>Select <strong>Features</strong>.</p>
</li>
<li>
<p>Select <strong>FTP Endpoint</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_ddf.catalog.ftp.FtpServerManager">FTP Endpoint configurations</a> for all possible configurations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_kml_endpoint"><a class="anchor" href="#_configuring_kml_endpoint"></a><a class="link" href="#_configuring_kml_endpoint">3.8.6.4. Configuring KML Endpoint</a></h5>
<div class="paragraph">
<p>Keyhole Markup Language (<em>KML</em>) is an XML notation for describing geographic annotation and visualization for 2- and 3- dimensional maps.</p>
</div>
<div class="paragraph">
<p>The root network link will create a network link for each configured source, including the local catalog.
The individual source network links will perform a query against the OpenSearch Endpoint periodically based on the current view in the KML client.
The query parameters for this query are obtained by a bounding box generated by Google Earth.
The root network link will refresh every 12 hours or can be forced to refresh.
As a user changes their current view, the query will be re-executed with the bounding box of the new view.
(This query gets re-executed two seconds after the user stops moving the view.)</p>
</div>
<div class="paragraph">
<p>This KML Network Link endpoint has the ability to serve up custom KML style documents and Icons to be used within that document.
The KML style document must be a valid XML document containing a KML style.
The KML Icons should be placed in a single level directory and must be an image type (png, jpg, tif, etc.).
The Description will be displayed as a pop-up from the root network link on Google Earth.
This may contain the general purpose of the network and URLs to external resources.</p>
</div>
<div class="paragraph">
<p>To install the KML endpoint:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>System</strong>.</p>
</li>
<li>
<p>Select <strong>Features</strong>.</p>
</li>
<li>
<p>Install the <code>spatial-kml</code> feature.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To configure the KML endpoint:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>System</strong>.</p>
</li>
<li>
<p>Select <strong>Features</strong>.</p>
</li>
<li>
<p>Select <strong>KML Endpoint</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_org.codice.ddf.spatial.kml.endpoint.KmlEndpoint">KML Endpoint configurations</a> for all possible configurations.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_opensearch_endpoint"><a class="anchor" href="#_configuring_opensearch_endpoint"></a><a class="link" href="#_configuring_opensearch_endpoint">3.8.6.5. Configuring OpenSearch Endpoint</a></h5>
<div class="paragraph">
<p>The OpenSearch endpoint enables a client to send query parameters and receive search results. This endpoint uses the input query parameters to create an OpenSearch query. The client does not need to specify all of the query parameters, only the query parameters of interest.</p>
</div>
<div class="paragraph">
<p>To install the KML endpoint:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>System</strong>.</p>
</li>
<li>
<p>Select <strong>Features</strong>.</p>
</li>
<li>
<p>Install the <code>catalog-opensearch-endpoint</code> feature.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The OpenSearch endpoint has no configurable properties.
It can only be installed or uninstalled.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_wps_endpoint"><a class="anchor" href="#_configuring_wps_endpoint"></a><a class="link" href="#_configuring_wps_endpoint">3.8.6.6. Configuring WPS Endpoint</a></h5>
<div class="paragraph">
<p>The WPS endpoint enables a client to execute and monitor long running processes.</p>
</div>
<div class="paragraph">
<p>To install the WPS endpoint:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select <strong>System</strong>.</p>
</li>
<li>
<p>Select <strong>Features</strong>.</p>
</li>
<li>
<p>Install the <code>spatial-wps</code> feature.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The WPS endpoint has no configurable properties.
It can only be installed or uninstalled.</p>
</div>
</div>
<div class="sect4">
<h5 id="_compression_services"><a class="anchor" href="#_compression_services"></a><a class="link" href="#_compression_services">3.8.6.7. Compression Services</a></h5>
<div class="paragraph">
<p>DDF supports compression of outgoing and incoming messages through the Compression Services.
These compression services are based on <a href="http://cxf.apache.org/">CXF</a> message encoding.</p>
</div>
<div class="paragraph">
<p>The formats supported in DDF are:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">gzip</dt>
<dd>
<p>Adds GZip compression to messages through CXF components. Code comes with CXF.</p>
</dd>
<dt class="hdlist1">exi</dt>
<dd>
<p>Adds <a href="http://www.w3.org/XML/EXI/">Efficient XML Interchange (EXI)</a> <span class="image"><a class="image" href="_wfs_2_0_source"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Compression Services"></a></span> support to outgoing responses. EXI is an W3C standard for XML encoding that shrinks xml to a smaller size than normal GZip compression.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>To Install a compression service:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>System</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Features</strong> tab.</p>
</li>
<li>
<p>Start the service for the desired compression format:</p>
<div class="ulist">
<ul>
<li>
<p><code>compression-exi</code></p>
</li>
<li>
<p><code>compression-gzip</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>The compression services either need to be installed BEFORE the desired CXF service is started or the CXF service needs to be refreshed / restarted after the compression service is installed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Compression services have no configurable properties.
They can only be installed or uninstalled.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_federating_through_a_registry"><a class="anchor" href="#_federating_through_a_registry"></a><a class="link" href="#_federating_through_a_registry">3.8.7. Federating Through a Registry</a></h4>
<div class="paragraph">
<p>Another approach to configuring federation is to use the <strong>Registry</strong> application to locate sources in a network/enterprise.
See <a href="reference.html#_installing_registry">Registry Application Reference</a> for details on installing the Registry application.
Use the registry to subscribe to and federate with other instances of DDF.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The <strong>Node Information</strong> and <strong>Remote Registries</strong> tabs appear in both the Registry application and the Catalog application.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>For direct federation configuration, sources and registries can be configured at <a href="https://{FQDN}:{PORT}/admin/federation" class="bare">https://{FQDN}:{PORT}/admin/federation</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_configuring_identity_node"><a class="anchor" href="#_configuring_identity_node"></a><a class="link" href="#_configuring_identity_node">3.8.7.1. Configuring Identity Node</a></h5>
<div class="paragraph">
<p>The "Identity Node" is the local DDF instance.
Configure the information to share with other registries/nodes.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to <strong>Registry</strong> (or <strong>Catalog</strong>) application.</p>
</li>
<li>
<p>Navigate to <strong>Node Information</strong> tab.</p>
</li>
<li>
<p>Click the name of the identity node.</p>
</li>
<li>
<p>Complete all <em>required</em> and any desired <em>optional</em> fields.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Add any desired <a href="#_adding_a_service_binding_to_a_node">service bindings</a> under the <a href="#_service_bindings">Services</a> tab.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 10. General Information Tab</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 16.6666%;">
<col style="width: 16.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This node&#8217;s name as it should appear to external systems</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short description for this node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This node&#8217;s Version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security Attributes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Security attributes associated with this node.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last Updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date this entry&#8217;s data was last updated</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Live Date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date indicating when this node went live or operational</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Date</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom Fields</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>click <strong>Add</strong> button to add custom fields</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associations</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>click <strong>Add</strong> button to add associations</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 11. <a id="_service_bindings"></a>Services</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 16.6666%;">
<col style="width: 16.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This service name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short description for this service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This service version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifies the type of service this is by a URN.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="4"><p class="tableblock">Bindings (Click <strong>Add</strong> to add a service binding)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Binding Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This binding name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Binding Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short description for this binding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Binding Version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This binding version</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The URL used to access this binding</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service Binding Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The binding type for the service</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL Property Key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Property that the accessURL value should be put into for source creation</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="4"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom Fields</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>click <strong>Add</strong> button to add custom fields</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associations</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>click <strong>Add</strong> button to add associations</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 12. Organizations Tab (click <strong>Add</strong> to add an organization)</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 16.6666%;">
<col style="width: 16.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Organization Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This organization&#8217;s name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This organization&#8217;s primary address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expand to enter address information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Telephone Number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary contact number for this organization</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primary contact email for this organization</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom Fields</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>click <strong>Add</strong> button to add custom fields</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associations</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>click <strong>Add</strong> button to add associations</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 13. Contacts (click <strong>Add</strong> button to add contact info)</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 16.6666%;">
<col style="width: 16.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contact Title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contact Title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contact First Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contact First Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contact Last Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contact Last Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address for listed contact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">minimum one</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Phone number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contact phone number</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">minimum one</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Contact email</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">minimum one</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom Fields</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>click <strong>Add</strong> button to add custom fields</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associations</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>click <strong>Add</strong> button to add associations</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 14. Collections (Click <strong>Add</strong> to add Content Collection(s))</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 50%;">
<col style="width: 16.6666%;">
<col style="width: 16.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name for this metadata content</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short description for this metadata content</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Content Object Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The kind of content object this will be. Default value should be used in most cases.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom Fields</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>click <strong>Add</strong> button to add custom fields</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Associations</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>click <strong>Add</strong> button to add associations</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
<div class="sect5">
<h6 id="_adding_a_service_binding_to_a_node"><a class="anchor" href="#_adding_a_service_binding_to_a_node"></a><a class="link" href="#_adding_a_service_binding_to_a_node">3.8.7.1.1. Adding a Service Binding to a Node</a></h6>
<div class="paragraph">
<p>Advertise the methods other nodes use to connect to the local DDF instance.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to Admin Console.</p>
</li>
<li>
<p>Select Registry or Catalog.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>(<strong>Node Information</strong> tab is editable from either application.)</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click the name of the desired local node.</p>
</li>
<li>
<p>Click the <strong>Services</strong> tab.</p>
</li>
<li>
<p>Click <strong>Add</strong> to add a service.</p>
</li>
<li>
<p>Expand new Service.</p>
</li>
<li>
<p>Enter Service name and details.</p>
</li>
<li>
<p>Click <strong>Add</strong> to add binding.</p>
</li>
<li>
<p>Select Service Binding type.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select one of the defaults or <em>empty</em> for a custom service binding.</p>
</li>
<li>
<p>If selecting <em>empty</em>, fill in all required fields.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_publishing_to_other_nodes"><a class="anchor" href="#_publishing_to_other_nodes"></a><a class="link" href="#_publishing_to_other_nodes">3.8.7.2. Publishing to Other Nodes</a></h5>
<div class="paragraph">
<p>Send details about the local DDF instance to other nodes.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Remote Registries</strong> tab in either Registry or Catalog application.</p>
</li>
<li>
<p>Click <strong>Add</strong> to add a remote registry.</p>
</li>
<li>
<p>Enter Registry Service (CSW) URL.</p>
</li>
<li>
<p>Confirm <strong>Allow Push</strong> is checked.</p>
</li>
<li>
<p>Click <strong>Add</strong> to save the changes.</p>
</li>
<li>
<p>Navigate to the <strong>Sources</strong> Tab in Catalog App</p>
</li>
<li>
<p>Click desired node to be published.</p>
</li>
<li>
<p>Under <strong>Operations</strong>, click the *Publish to &#8230;&#8203; * link that corresponds to the desired registry.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_subscribing_to_another_node"><a class="anchor" href="#_subscribing_to_another_node"></a><a class="link" href="#_subscribing_to_another_node">3.8.7.3. Subscribing to Another Node</a></h5>
<div class="paragraph">
<p>Receive details about another node.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Remote Registries</strong> tab in either Registry or Catalog application.</p>
</li>
<li>
<p>Click <strong>Add</strong> to add a remote registry.</p>
</li>
<li>
<p>Add the URL to access node.</p>
</li>
<li>
<p>Enter any needed credentials in the Username/password fields.</p>
</li>
<li>
<p>Click <strong>Save</strong>/<strong>Add</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Editing a Subscription</div>
<p>Update the configuration of an existing subscription.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Remote Registries</strong> tab in either Registry or Catalog application.</p>
</li>
<li>
<p>Click the name of the desired subscription.</p>
</li>
<li>
<p>Make changes.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Deleting a Subscription</div>
<p>Remove a subscription.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click the <strong>Delete</strong> icon at the top of the <strong>Remote Registries</strong> tab.</p>
</li>
<li>
<p>Check the boxes of the Registry Nodes to be deleted.</p>
</li>
<li>
<p>Select the <strong>Delete</strong> button.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_environment_hardening"><a class="anchor" href="#_environment_hardening"></a><a class="link" href="#_environment_hardening">3.9. Environment Hardening</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong></p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>It is recommended to apply the following security mitigations to the DDF.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_known_issues_with_environment_hardening"><a class="anchor" href="#_known_issues_with_environment_hardening"></a><a class="link" href="#_known_issues_with_environment_hardening">3.9.1. Known Issues with Environment Hardening</a></h4>
<div class="paragraph">
<p>The session timeout should be configured longer than the UI polling time or you may get session
timeout errors in the UI.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 30%;">
<col style="width: 60%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol/Type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Risk</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mitigation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">JMX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tampering, information disclosure, and unauthorized access</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Stop the management feature using the command line console: <code>feature:stop management</code>.<br></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File System Access</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tampering, information disclosure, and denial of service</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Set OS File permissions under the <code>&lt;DDF_HOME&gt;</code> directory (e.g. <code>/deploy</code>, <code>/etc</code>) to ensure unauthorized viewing and writing is not allowed.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>If Caching is installed:</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_setting_directory_permissions">Set permissions</a> for the installation directory <code>/data/product-cache</code> such that only the DDF process and users with the appropriate permissions can view any stored product.<br></p>
</li>
<li>
<p>Caching can be turned off as well to mitigate this risk.<br></p>
<div class="ulist">
<ul>
<li>
<p>To disable caching, navigate to Admin Console.<br></p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.<br></p>
</li>
<li>
<p>Select <strong>Resource Download Settings</strong>.<br></p>
</li>
<li>
<p>Uncheck the <code>Enable Product Caching</code> box.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p>Install Security to ensure only the appropriate users are accessing the products.<br></p>
<div class="ulist">
<ul>
<li>
<p>Navigate to the Admin Console<br></p>
</li>
<li>
<p>Select <strong>Manage</strong>.<br></p>
</li>
<li>
<p>Install the Security application, if applicable.<br></p>
</li>
</ul>
</div>
</li>
<li>
<p>Cached files are written by the user running the DDF <code>process/application</code>.<br></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>On system: ensure that not everyone can change ACLs on your object.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tampering, information disclosure, and denial of service</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>By default, SSH access to DDF is only enabled to connections originating from the same
host running DDF.
For remote access to DDF,
 first establish an SSH session with the host running
 DDF. From within that session, initiate a new SSH connection (to <strong>localhost</strong>), and use
 the <code>sshPort</code> as configured in the file
 <code>&lt;DDF_HOME&gt;/etc/org.apache.karaf.shell.cfg</code>.</p>
</div>
<div class="paragraph">
<p>To allow direct remote access to the DDF shell from any host, change the value of the
<code>sshHost</code> property to <code>0.0.0.0</code> in the <code>&lt;DDF_HOME&gt;/etc/org.apache.karaf.shell.cfg</code> file.</p>
</div>
<div class="paragraph">
<p>SSH can also be authenticated and authorized through an external Realm,
such as LDAP. This can be accomplished by editing the <code>&lt;DDF_HOME&gt;/etc/org.apache.karaf.shell.cfg</code> file and setting the
value for <code>sshRealm</code>, e.g. to <code>ldap</code>. No restart of DDF is necessary after this change.</p>
</div>
<div class="paragraph">
<p>By definition, all connections over SSH will be authenticated and authorized and secure from eavesdropping.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Enabling SSH will expose your file system such that any user with access to your DDF shell will
have read/write/execute access to all directories and files accessible to your installation user.</p>
</div>
<div class="paragraph">
<p><strong>Because of this, SSH is not recommended in a secure environment and should be turned off
in a fully hardened system.</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Set <code>karaf.shutdown.port=-1</code> in <code>&lt;DDF_HOME&gt;/etc/custom.properties</code> or <code>&lt;DDF_HOME&gt;/etc/config.properties</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSL/TLS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">man-in-the-middle, information disclosure</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Update the <code>&lt;DDF_HOME&gt;/etc/org.ops4j.pax.web.cfg</code> file to add the entry <code>org.ops4j.pax.web.ssl.clientauthneeded=true</code>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Setting this configuration may break compatibility to legacy systems that do not support two-way SSL.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Setting this configuration will require a certificate to be installed in the browser.</p>
</div>
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Session Inactivity Timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unauthorized access</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Update the Session configuration to have no greater than a 10 minute Session Timeout.<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.<br></p>
</li>
<li>
<p>Select the <strong>Security</strong> application.<br></p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.<br></p>
</li>
<li>
<p>Select <code>Session</code>.<br></p>
</li>
<li>
<p>Set <code>Session Timeout (in minutes)</code> to <code>10</code> (or less).<br></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shell Command Access</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command injection</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>By default, some shell commands are disabled in order to secure the system.
DDF includes a whitelist of allowed shell commands in
<code>&lt;DDF_HOME&gt;/etc/org.apache.karaf.command.acl.shell.cfg</code>.</p>
</div>
<div class="paragraph">
<p>By default, this list includes commands that are whitelisted only to administrators:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>complete</code></p>
</li>
<li>
<p><code>echo</code></p>
</li>
<li>
<p><code>format</code></p>
</li>
<li>
<p><code>grep</code></p>
</li>
<li>
<p><code>if</code></p>
</li>
<li>
<p><code>keymap</code></p>
</li>
<li>
<p><code>less</code></p>
</li>
<li>
<p><code>set</code></p>
</li>
<li>
<p><code>setopt</code></p>
</li>
<li>
<p><code>sleep</code></p>
</li>
<li>
<p><code>tac</code></p>
</li>
<li>
<p><code>wc</code></p>
</li>
<li>
<p><code>while</code></p>
</li>
<li>
<p><code>.invoke</code></p>
</li>
<li>
<p><code>unsetopt</code></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_for_special_deployments"><a class="anchor" href="#_configuring_for_special_deployments"></a><a class="link" href="#_configuring_for_special_deployments">3.10. Configuring for Special Deployments</a></h3>
<div class="paragraph">
<p>In addition to standard configurations, several specialized configurations are possible for specific uses of DDF.</p>
</div>
<div class="sect3">
<h4 id="_multiple_installations"><a class="anchor" href="#_multiple_installations"></a><a class="link" href="#_multiple_installations">3.10.1. Multiple Installations</a></h4>
<div class="paragraph">
<p>One common specialized configuration is installing multiple instances of DDF.</p>
</div>
<div class="sect4">
<h5 id="_reusing_configurations"><a class="anchor" href="#_reusing_configurations"></a><a class="link" href="#_reusing_configurations">3.10.1.1. Reusing Configurations</a></h5>
<div class="paragraph">
<p>The Migration Export/Import capability allows administrators to export the current DDF configuration and use it to restore the same state for either a brand new installation or a second node for a Highly Available Cluster.</p>
</div>
<div class="paragraph">
<p>To export the current configuration settings:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the command migration:export from the Command Console.</p>
</li>
<li>
<p>Files named <code>ddf-2.15.0.dar</code>, <code>ddf-2.15.0.dar.key</code>, and <code>ddf-2.15.0.dar.sha256</code> will be created in the <code>exported</code> directory underneath <code>&lt;DDF_HOME&gt;</code>.
The <code>.dar</code> file contains the encrypted information. The <code>.key</code> and <code>.sha256</code> files contains the encryption key and a validation checksum. Copy the '.dar' file to a secure location and copy the '.key' and '.sha256' to a different secure location.
Keeping all 3 files together represents a security risk and should be avoided.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>To import previously exported configuration settings:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install DDF by unzipping its distribution.</p>
</li>
<li>
<p>Restore all external files, softlinks, and directories that would not have been exported and for which warnings would have been generated during export. This could include (but is not limited to) external certificates or monitored directories.</p>
</li>
<li>
<p>Launch the newly installed DDF.</p>
</li>
<li>
<p>Make sure to install and re-enable the DDF <a href="#_managed_services">service</a> on the new system if it was installed and enabled on the original system.</p>
</li>
<li>
<p>Copy the previously exported files from your secure locations to the <code>exported</code> directory underneath <code>&lt;DDF_HOME&gt;</code>.</p>
</li>
<li>
<p>Either:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Step through the installation process.</p>
</li>
<li>
<p>Run the command migration:import from the Command Console.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Or if an administrator wishes to restore the original profile along with the configuration (experimental):</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Run the command migration:import with the option <code>--profile</code> from the Command Console.</p>
</li>
</ol>
</div>
</li>
<li>
<p>DDF will automatically restart if the command is successful. Otherwise address any generated warnings before manually restarting DDF.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>It is possible to decrypt the previously exported configuration settings but doing so is insecure and appropriate measures should be taken to secure the resulting decrypted file.
To decrypt the exported file:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Copy all 3 exported files (i.e. <code>.dar</code>, <code>.key</code>, and <code>.sha256</code>) to the <code>exported</code> directory underneath <code>&lt;DDF_HOME&gt;</code>.</p>
</li>
<li>
<p>Run the command migration:decrypt from the Command Console.</p>
</li>
<li>
<p>A file named <code>ddf-2.15.0.zip</code> will be created in the <code>exported</code> directory underneath <code>&lt;DDF_HOME&gt;</code>.
This file represents the decrypted version of the <code>.dar</code> file.</p>
</li>
</ol>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>The following is currently not supported when importing configuration files:</p>
<div class="ulist">
<ul>
<li>
<p>importing from a different DDF version</p>
</li>
<li>
<p>importing from a system installed on a different OS</p>
</li>
<li>
<p>importing from a system installed in a different directory location</p>
</li>
</ul>
</div>
</li>
<li>
<p>To keep the export/import process simple and consistent, all system configuration files are required to be under the <code>&lt;DDF_HOME&gt;</code> directory and not be softlinks. Presence of external files or symbolic links during export will not fail the export; they will yield warnings. It will be up to the administrator to manually copy these files over to the new system before proceeding with the import. The import process will verify their presence and consistency and yield warnings if they don&#8217;t match the original files.</p>
</li>
<li>
<p>The import process will restore all configurations done on the original system as part of the <a href="reference.html#_hardening_checklist">hardening process</a> including changes to starting scripts and certificates.</p>
</li>
<li>
<p>The import process can also restore the profile from the original system by restoring all applications, features, and/or bundles to the same state (i.e., installed, uninstalled, started, stopped, &#8230;&#8203;) they were in originally. Doing so is currently experimental and was tested only with the standard and HA profiles.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_isolating_solr_cloud_and_zookeeper"><a class="anchor" href="#_isolating_solr_cloud_and_zookeeper"></a><a class="link" href="#_isolating_solr_cloud_and_zookeeper">3.10.1.2. Isolating Solr Cloud and Zookeeper</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Required Step for Security Hardening</strong> (if using Solr Cloud/Zookeeper)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Zookeeper cannot use secure (SSL/TLS) connection.
The configuration information that Zookeeper sends and receives is vulnerable to network sniffing.
Also, the connections between the local Solr Catalog service and the Solr Cloud is not necessarily secure.
The connections between Solr Cloud nodes are not necessarily secure.
Any unencrypted network traffic is vulnerable to sniffing attacks.
To use Solr Cloud and Zookeeper securely, these processes must be isolated on the network, or their communications must be encrypted by other means.
The DDF process must be visible on the network to allow authorized parties to interact with it.</p>
</div>
<div class="ulist">
<div class="title">Examples of Isolation:</div>
<ul>
<li>
<p>Create a private network for Solr Cloud and Zookeeper. Only DDF is allowed to contact devices inside the private network.</p>
</li>
<li>
<p>Use IPsec to encrypt the connections between DDF, Solr Cloud nodes, and Zookeeper nodes.</p>
</li>
<li>
<p>Put DDF, Solr Cloud and Zookeeper behind a firewall that only allows access to DDF.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_for_a_fanout_proxy"><a class="anchor" href="#_configuring_for_a_fanout_proxy"></a><a class="link" href="#_configuring_for_a_fanout_proxy">3.10.2. Configuring for a Fanout Proxy</a></h4>
<div class="paragraph">
<p>Optionally, configure DDF as a fanout proxy such that only queries and resource retrieval requests are processed and create/update/delete requests are rejected.
All queries are enterprise queries and no catalog provider needs to be configured.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Catalog Standard Framework</strong>.</p>
</li>
<li>
<p>Select <strong>Enable Fanout Proxy</strong>.</p>
</li>
<li>
<p>Save changes.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>DDF is now operating as a fanout proxy.
Only queries and resource retrieval requests will be allowed.
All queries will be federated.
Create, update, and delete requests will not be allowed, even if a Catalog Provider was configured prior to the reconfiguration as a fanout.</p>
</div>
</div>
<div class="sect3">
<h4 id="_standalone_security_token_service_sts_installation"><a class="anchor" href="#_standalone_security_token_service_sts_installation"></a><a class="link" href="#_standalone_security_token_service_sts_installation">3.10.3. Standalone Security Token Service (STS) Installation</a></h4>
<div class="paragraph">
<p>To run a STS-only DDF installation, uninstall the catalog components that are not being used.
The following list displays the features that can be uninstalled to minimize the runtime size of DDF in an STS-only mode.
This list is not a comprehensive list of every feature that can be uninstalled; it is a list of the larger components that can be uninstalled without impacting the STS functionality.</p>
</div>
<div class="ulist">
<div class="title">Unnecessary Features for Standalone STS</div>
<ul>
<li>
<p><code>catalog-core-standardframework</code></p>
</li>
<li>
<p><code>catalog-opensearch-endpoint</code></p>
</li>
<li>
<p><code>catalog-opensearch-souce</code></p>
</li>
<li>
<p><code>catalog-rest-endpoint</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_for_a_highly_available_cluster"><a class="anchor" href="#_configuring_for_a_highly_available_cluster"></a><a class="link" href="#_configuring_for_a_highly_available_cluster">3.10.4. Configuring for a Highly Available Cluster</a></h4>
<div class="paragraph">
<p>This section describes how to make configuration changes after the initial setup for a DDF in a <a href="introduction.html#_introduction_to_high_availability">Highly Available Cluster</a>.</p>
</div>
<div class="paragraph">
<p>In a Highly Available Cluster, configuration changes must be made on both DDF nodes.
The changes can still be made in the standard ways via the <a href="#_admin_console_tutorial">Admin Console</a>,
the <a href="#_console_command_reference">Command Line</a>, or the <a href="#_configuration_files">file system</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Changes made in the Admin Console must be made through the HTTP proxy.
This means that the below steps should be followed to make a change in the Admin Console:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Make a configuration change on the currently active DDF node</p>
</li>
<li>
<p>Shut down the active DDF node, making the failover proxy switch to the standby DDF node</p>
</li>
<li>
<p>Make the same configuration change on the newly active DDF node</p>
</li>
<li>
<p>Start the DDF node that was just shut down</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_ui_themes"><a class="anchor" href="#_configuring_ui_themes"></a><a class="link" href="#_configuring_ui_themes">3.11. Configuring UI Themes</a></h3>
<div class="paragraph">
<p>The optional configurations in this section cover minor changes that can be made to optimize DDF appearance.</p>
</div>
<div class="sect3">
<h4 id="_landing_page"><a class="anchor" href="#_landing_page"></a><a class="link" href="#_landing_page">3.11.1. Landing Page</a></h4>
<div class="paragraph">
<p>The Landing Page is the first page presented to users of DDF.
It is customizable to allow adding organizationally-relevant content.</p>
</div>
<div class="sect4">
<h5 id="_installing_the_landing_page"><a class="anchor" href="#_installing_the_landing_page"></a><a class="link" href="#_installing_the_landing_page">3.11.1.1. Installing the Landing Page</a></h5>
<div class="paragraph">
<p>The Landing Page is installed by default with a standard installation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_configuring_the_landing_page"><a class="anchor" href="#_configuring_the_landing_page"></a><a class="link" href="#_configuring_the_landing_page">3.11.1.2. Configuring the Landing Page</a></h5>
<div class="paragraph">
<p>The DDF landing page offers a starting point and general information for a DDF node.
It is accessible at <code>/(index|home|landing(.htm|html))</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_customizing_the_landing_page"><a class="anchor" href="#_customizing_the_landing_page"></a><a class="link" href="#_customizing_the_landing_page">3.11.1.3. Customizing the Landing Page</a></h5>
<div class="paragraph">
<p>Configure the Landing Page from the Admin Console:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select<strong>Platform</strong> Application.</p>
</li>
<li>
<p>Select <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Landing Page</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Configure important landing page items such as branding logo, contact information, description,
and additional links.</p>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_org.codice.ddf.distribution.landingpage.properties">Landing Page configurations</a> for all possible configurations.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_logout_page"><a class="anchor" href="#_configuring_logout_page"></a><a class="link" href="#_configuring_logout_page">3.11.2. Configuring Logout Page</a></h4>
<div class="paragraph">
<p>The logout pages is presented to users through the navigation of DDF and has a changeable timeout value.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select<strong>Security</strong> Application.</p>
</li>
<li>
<p>Select <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Logout Page</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The customizable feature of the logout page is the <strong>Logout Page Time Out</strong>. This is the time limit the IDP
client will wait for a user to click log out on the logout page. Any requests that take longer than this
time for the user to submit will be rejected.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Default value</strong>: 3600000 (milliseconds)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See <a href="reference.html#_org.codice.ddf.security.idp.client.LogoutRequestService">Logout Configuration</a> for detailed information.</p>
</div>
</div>
<div class="sect3">
<h4 id="_platform_ui_themes"><a class="anchor" href="#_platform_ui_themes"></a><a class="link" href="#_platform_ui_themes">3.11.3. Platform UI Themes</a></h4>
<div class="paragraph">
<p>The Platform UI Configuration allows for the customization of attributes of all pages within DDF.
It contains settings to display messages to users at login or in banners in the headers and footers of all pages,
along with changing the colors of text and backgrounds.</p>
</div>
<div class="sect4">
<h5 id="_navigating_to_ui_theme_configuration"><a class="anchor" href="#_navigating_to_ui_theme_configuration"></a><a class="link" href="#_navigating_to_ui_theme_configuration">3.11.3.1. Navigating to UI Theme Configuration</a></h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Platform</strong> application.</p>
</li>
<li>
<p>Select <strong>Configuration</strong>.</p>
</li>
<li>
<p>Select <strong>Platform UI Configuration</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_customizing_the_ui_theme"><a class="anchor" href="#_customizing_the_ui_theme"></a><a class="link" href="#_customizing_the_ui_theme">3.11.3.2. Customizing the UI Theme</a></h5>
<div class="paragraph">
<p>The customization of the UI theme across DDF is available through the capabilities of Platform UI Configuration.
The banner has four items to configure:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Header</strong> (text)</p>
</li>
<li>
<p><strong>Footer</strong> (text)</p>
</li>
<li>
<p><strong>Text Color</strong></p>
</li>
<li>
<p><strong>Background Color</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>See the <a href="reference.html#_ddf.platform.ui.config">Platform UI</a> for all possible configurations of the Platform UI Configuration.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_miscellaneous_configurations"><a class="anchor" href="#_miscellaneous_configurations"></a><a class="link" href="#_miscellaneous_configurations">3.12. Miscellaneous Configurations</a></h3>
<div class="paragraph">
<p>The optional configurations in this section cover minor changes that can be made to optimize DDF.</p>
</div>
<div class="sect3">
<h4 id="_configuring_thread_pools"><a class="anchor" href="#_configuring_thread_pools"></a><a class="link" href="#_configuring_thread_pools">3.12.1. Configuring Thread Pools</a></h4>
<div class="paragraph">
<p>The <code>org.codice.ddf.system.threadPoolSize</code> property can be used to specify the size of thread pools used by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Federating requests between DDF systems</p>
</li>
<li>
<p>Downloading resources</p>
</li>
<li>
<p>Handling asynchronous queries, such as queries from the UI</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By default, this value is set to 128.
It is not recommended to set this value extremely high.
If unsure, leave this setting at its default value of 128.</p>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_jetty_threadpool_settings"><a class="anchor" href="#_configuring_jetty_threadpool_settings"></a><a class="link" href="#_configuring_jetty_threadpool_settings">3.12.2. Configuring Jetty ThreadPool Settings</a></h4>
<div class="paragraph">
<p>To prevent resource shortages in the event of concurrent requests, DDF allows configuring Jetty ThreadPool settings to specify the minimum and maximum available threads.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The settings can be changed at <code>etc/org.ops4j.pax.web.cfg</code> under Jetty Server ThreadPool Settings.</p>
</li>
<li>
<p>Specify the maximum thread amount with <code>org.ops4j.pax.web.server.maxThreads</code></p>
</li>
<li>
<p>Specify the minimum thread amount with <code>org.ops4j.pax.web.server.minThreads</code></p>
</li>
<li>
<p>Specify the allotted time for a thread to complete with <code>org.ops4j.pax.web.server.idleTimeout</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>DDF does not support changing ThreadPool settings from the Command Console or the Admin Console.</p>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_alerts"><a class="anchor" href="#_configuring_alerts"></a><a class="link" href="#_configuring_alerts">3.12.3. Configuring Alerts</a></h4>
<div class="paragraph">
<p>By default, DDF uses two services provided by Karaf Decanter for alerts that can be configured by configuration file.
Further information on Karaf Decanter services and configurations can be found <a href="https://karaf.apache.org/documentation.html#decanter">here</a> <span class="image"><a class="image" href="_wfs_2_0_source"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Configuring Alerts"></a></span>.</p>
</div>
<div class="sect4">
<h5 id="_configuring_decanter_service_level_agreement_sla_checker"><a class="anchor" href="#_configuring_decanter_service_level_agreement_sla_checker"></a><a class="link" href="#_configuring_decanter_service_level_agreement_sla_checker">3.12.3.1. Configuring Decanter Service Level Agreement (SLA) Checker</a></h5>
<div class="paragraph">
<p>The Decanter SLA Checker provides a way to create alerts based on configurable conditions in events posted to <code>decanter/collect/*</code> and can be configured by editing the file <code>&lt;DDF_HOME&gt;/etc/org.apache.karaf.decanter.sla.checker.cfg</code>.
By default there are only two checks that will produce alerts, and they are based on the <code>SystemNotice</code> event property of <code>priority</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 15. Decanter SLA Configuration</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Alert Level</th>
<th class="tableblock halign-left valign-top">Expression</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">warn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">equal:1,2,4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produce a warn level alert if priority is important (3)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">priority</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">equal:1,2,3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Produce an error level alert if priority is critical (4)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_configuring_decanter_scheduler"><a class="anchor" href="#_configuring_decanter_scheduler"></a><a class="link" href="#_configuring_decanter_scheduler">3.12.3.2. Configuring Decanter Scheduler</a></h5>
<div class="paragraph">
<p>The Decanter Scheduler looks up services implementing the Runnable interface with the service-property <code>decanter.collector.name</code> and executes the Runnable periodically.
The Scheduler can be configured by editing the file <code>&lt;DDF_HOME&gt;/etc/org.apache.karaf.decanter.scheduler.simple.cfg</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 16. Decanter Scheduler Configuration</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">period</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decanter simple scheduler period (milliseconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">300000 (5 minutes)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">threadIdleTimeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The time to wait before stopping an idle thread (milliseconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">60000 (1 minute)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">threadInitCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial number of threads created by the scheduler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">threadMaxCount</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maximum number of threads created by the scheduler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">200</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_encrypting_passwords"><a class="anchor" href="#_encrypting_passwords"></a><a class="link" href="#_encrypting_passwords">3.12.4. Encrypting Passwords</a></h4>
<div class="paragraph">
<p>DDF includes an encryption service to encrypt plain text such as passwords.</p>
</div>
<div class="sect4">
<h5 id="_encryption_command"><a class="anchor" href="#_encryption_command"></a><a class="link" href="#_encryption_command">3.12.4.1. Encryption Command</a></h5>
<div class="paragraph">
<p>An encrypt security command is provided with DDF to encrypt text.
This is useful when displaying password fields to users.</p>
</div>
<div class="paragraph">
<p>Below is an example of the <code>security:encrypt</code> command used to encrypt the plain text <code>myPasswordToEncrypt</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the Command Console.</p>
<div class="listingblock java">
<div class="title">security:encrypt Command Example</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code>ddf@local&gt;security:encrypt myPasswordToEncrypt</code></pre>
</div>
</div>
</li>
<li>
<p>The output is the encrypted value.</p>
<div class="listingblock java">
<div class="title">security:encrypt Command Output</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code>ddf@local&gt;bR9mJpDVo8bTRwqGwIFxHJ5yFJzatKwjXjIo/8USWm8=</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running"><a class="anchor" href="#_running"></a><a class="link" href="#_running">4. Running</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Find directions here for running an installation of DDF.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="#_starting">Starting</a></dt>
<dd>
<p>Getting an instance of DDF up and running.</p>
</dd>
<dt class="hdlist1"><a href="#_managed_services">Managing Services</a></dt>
<dd>
<p>Running DDF as a managed service.</p>
</dd>
<dt class="hdlist1"><a href="#_maintaining">Maintaining</a></dt>
<dd>
<p>Keeping DDF running with useful tasks.</p>
</dd>
<dt class="hdlist1"><a href="#_monitoring">Monitoring</a></dt>
<dd>
<p>Tracking system health and usage.</p>
</dd>
<dt class="hdlist1"><a href="#_troubleshooting">Troubleshooting</a></dt>
<dd>
<p>Common tips for unexpected behavior.</p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="_starting"><a class="anchor" href="#_starting"></a><a class="link" href="#_starting">4.1. Starting</a></h3>
<div class="sect3">
<h4 id="_run_ddf_as_a_managed_service"><a class="anchor" href="#_run_ddf_as_a_managed_service"></a><a class="link" href="#_run_ddf_as_a_managed_service">4.1.1. Run DDF as a Managed Service</a></h4>
<div class="sect4">
<h5 id="_running_as_a_service_with_automatic_start_on_system_boot"><a class="anchor" href="#_running_as_a_service_with_automatic_start_on_system_boot"></a><a class="link" href="#_running_as_a_service_with_automatic_start_on_system_boot">4.1.1.1. Running as a Service with Automatic Start on System Boot</a></h5>
<div class="paragraph">
<p>Because DDF is built on top of Apache Karaf, DDF can use the Karaf Wrapper to run DDF as a service and enable automatic startup and shutdown.
When DDF is started using Karaf Wrapper, new <code>wrapper.log</code> and <code>wrapper.log.n</code> (where n goes from 1 to 5 by default) log files will be generated to include wrapper and console specific information.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>When installing as a service on *NIX, do not use spaces in the path for &lt;DDF_HOME&gt; as the service scripts that are generated by the wrapper cannot handle spaces.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Ensure that JAVA_HOME is properly set before beginning this process.
See <a href="introduction.html#_java_requirements">Java Requirements</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create the service wrapper.</p>
<div class="paragraph">
<p>DDF can create native scripts and executable files to run itself as
an operating system service. This is an optional feature that is not installed by default.
To install the service wrapper feature, go the DDF console and enter the command:</p>
</div>
<div class="paragraph">
<p><code>ddf@local&gt; feature:install -r wrapper</code></p>
</div>
</li>
<li>
<p>Generate the script, configuration, and executable files:</p>
<div class="listingblock">
<div class="title">*NIX</div>
<div class="content">
<pre>ddf@local&gt; wrapper:install -i setenv-wrapper.conf -n ddf -d ddf -D "DDF Service"</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows</div>
<div class="content">
<pre>ddf@local&gt; wrapper:install -i setenv-windows-wrapper.conf -n ddf -d ddf -D "DDF Service"</pre>
</div>
</div>
</li>
<li>
<p>(Windows users skip this step) (All *NIX) If DDF was installed to run as a non-root
user (as-recommended,) edit <code>&lt;DDF_HOME&gt;/bin/ddf-service</code> and change
the property <code>#RUN_AS_USER=</code> to:</p>
<div class="listingblock">
<div class="title">&lt;DDF_HOME&gt;/bin/ddf-service</div>
<div class="content">
<pre>RUN_AS_USER=&lt;ddf-user&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>where &lt;ddf-user&gt; is the intended username:</p>
</div>
</li>
<li>
<p>(Windows users skip down) (All *NIX) Edit <code>&lt;DDF_HOME&gt;/bin/ddf-service</code>.
Add <code>LimitNOFILE</code> to the [Service] section.</p>
<div class="listingblock">
<div class="title">&lt;DDF_HOME&gt;/bin/ddf.service</div>
<div class="content">
<pre>LimitNOFILE=6815744</pre>
</div>
</div>
</li>
<li>
<p>(Windows users skip this step) (*NIX <em>with</em> <code>systemd</code>) Install the wrapper startup/shutdown scripts.</p>
<div class="paragraph">
<p>Install the service and start it when the system boots, use <code>systemctl</code> From an OS console, execute:</p>
</div>
<div class="paragraph">
<p><code>root@localhost# systemctl enable &lt;DDF_HOME&gt;/bin/ddf.service</code></p>
</div>
</li>
<li>
<p>(Windows users skip this step) (*NIX <em>without</em> <code>systemd</code>) Install the wrapper startup/shutdown scripts.</p>
<div class="paragraph">
<p>If the system does not use <code>systemd</code>, use the <code>init.d</code> system to install and configure the service.
Execute these commands as root or superuser:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root@localhost# ln -s &lt;DDF_HOME&gt;/bin/ddf-service /etc/init.d/
root@localhost# chkconfig ddf-service --add
root@localhost# chkconfig ddf-service on</pre>
</div>
</div>
</li>
<li>
<p>(Windows only, if the system&#8217;s <code>JAVA_HOME</code> variable has spaces in it) Edit <code>&lt;DDF_HOME&gt;/etc/ddf-wrapper.conf</code>.
Put quotes around <code>wrapper.java.additional.n</code> system properties for n from 1 to 13 like so:</p>
<div class="listingblock">
<div class="title">&lt;DDF_HOME&gt;/etc/ddf-wrapper.conf</div>
<div class="content">
<pre>wrapper.java.additional.1=-Djava.endorsed.dirs="%JAVA_HOME%/jre/lib/endorsed;%JAVA_HOME%/lib/endorsed;%KARAF_HOME%/lib/endorsed"
wrapper.java.additional.2=-Djava.ext.dirs="%JAVA_HOME%/jre/lib/ext;%JAVA_HOME%/lib/ext;%KARAF_HOME%/lib/ext"
wrapper.java.additional.3=-Dkaraf.instances="%KARAF_HOME%/instances"
wrapper.java.additional.4=-Dkaraf.home="%KARAF_HOME%"
wrapper.java.additional.5=-Dkaraf.base="%KARAF_BASE%"
wrapper.java.additional.6=-Dkaraf.data="%KARAF_DATA%"
wrapper.java.additional.7=-Dkaraf.etc="%KARAF_ETC%"
wrapper.java.additional.8=-Dkaraf.log="%KARAF_LOG%"
wrapper.java.additional.9=-Dkaraf.restart.jvm.supported=true
wrapper.java.additional.10=-Djava.io.tmpdir="%KARAF_DATA%/tmp"
wrapper.java.additional.11=-Djava.util.logging.config.file="%KARAF_ETC%/java.util.logging.properties"
wrapper.java.additional.12=-Dcom.sun.management.jmxremote
wrapper.java.additional.13=-Dkaraf.startLocalConsole=false
wrapper.java.additional.14=-Dkaraf.startRemoteShell=true</pre>
</div>
</div>
</li>
<li>
<p>(Windows only) Install the wrapper startup/shutdown scripts.</p>
<div class="paragraph">
<p>Run the following command in a console window. The command must be run with elevated permissions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;DDF_HOME&gt;\bin\ddf-service.bat install</pre>
</div>
</div>
<div class="paragraph">
<p>Startup and shutdown settings can then be managed through <strong>Services &#8594; MMC Start &#8594; Control Panel &#8594; Administrative Tools &#8594; Services</strong>.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_karaf_documentation"><a class="anchor" href="#_karaf_documentation"></a><a class="link" href="#_karaf_documentation">4.1.1.2. Karaf Documentation</a></h5>
<div class="paragraph">
<p>Because DDF is built on top of Apache Karaf, more information on operating DDF can be found in the <a href="http://karaf.apache.org/index/documentation.html">Karaf documentation</a> <span class="image"><a class="image" href="managing.adoc#_encrypting_passwords"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Run DDF as a Managed Service"></a></span>.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_managed_services"><a class="anchor" href="#_managed_services"></a><a class="link" href="#_managed_services">4.2. Managed Services</a></h3>
<div class="paragraph">
<p>The lifecycle of DDF and Solr processes can be managed by the operating
system. The DDF documentation provides instructions to install
DDF as a managed services on supported unix platforms. However, the
documentation cannot account for all possible configurations. Please consult the
documentation for the operating system and its init manager if the instructions
in this document are inadequate.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_run_solr_as_managed_service">Configure Solr to run as a managed service</a></p>
</li>
<li>
<p><a href="#_run_ddf_as_a_managed_service">Configure DDF to run as a managed service</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_run_solr_as_managed_service"><a class="anchor" href="#_run_solr_as_managed_service"></a><a class="link" href="#_run_solr_as_managed_service">4.2.1. Run Solr as Managed Service</a></h4>
<div class="paragraph">
<p>These instructions are for configuring Solr as a service managed by the operating system.</p>
</div>
<div class="sect4">
<h5 id="_configure_solr_as_a_windows_service"><a class="anchor" href="#_configure_solr_as_a_windows_service"></a><a class="link" href="#_configure_solr_as_a_windows_service">4.2.1.1. Configure Solr as a Windows Service</a></h5>
<div class="paragraph">
<p>Windows users can use the <strong>Task Scheduler</strong> to start Solr as a background process.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If DDF is running, stop it.</p>
</li>
<li>
<p>Edit <code>&lt;DDF_HOME&gt;/etc/custom.system.properties</code> and set <code>start.solr=false</code>.
This prevents the DDF scripts from attempting to manage Solr&#8217;s lifecycle.</p>
</li>
<li>
<p>Start the <strong>Windows Task Scheduler</strong> and open the <strong>Task Scheduler Library</strong>.</p>
</li>
<li>
<p>Under the Actions pane, select <strong>Create Basic Task&#8230;&#8203;</strong>.</p>
</li>
<li>
<p>Provide a useful name and description, then select <strong>Next</strong>.</p>
</li>
<li>
<p>Select <strong>When the computer starts</strong> as the Trigger and select <strong>Next</strong>.</p>
</li>
<li>
<p>Select <strong>Start a program</strong> as the Action and select <strong>Next</strong>.</p>
</li>
<li>
<p>Select the script to start Solr:</p>
<div class="listingblock">
<div class="content">
<pre>&lt;DDF_HOME&gt;\bin\ddfsolr.bat</pre>
</div>
</div>
</li>
<li>
<p>Add the argument <code>start</code> in the window pane and select <strong>Next</strong>.</p>
</li>
<li>
<p>Review the settings and select <strong>Finish</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>It may be necessary to update the <strong>Security Options</strong> under the task <strong>Properties</strong> to
<strong>Run with highest privileges</strong> or setting user to "SYSTEM".</p>
</div>
<div class="paragraph">
<p>Additionally, the process can be set to restart if it fails. The option can be found in the
 the <strong>Properties</strong> &gt; <strong>Settings</strong> tab.</p>
</div>
<div class="paragraph">
<p>Depending on the system it may also make sense to delay the process from starting for a
few minutes until the machine has fully booted. Open the task&#8217;s <strong>Properties</strong> settings and</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select <strong>Triggers</strong>.</p>
</li>
<li>
<p>Select <strong>Edit</strong>.</p>
</li>
<li>
<p>Select <strong>Advanced Settings</strong>.</p>
</li>
<li>
<p>Select <strong>Delay Task</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_configure_solr_as_a_systemd_service"><a class="anchor" href="#_configure_solr_as_a_systemd_service"></a><a class="link" href="#_configure_solr_as_a_systemd_service">4.2.1.2. Configure Solr as a Systemd Service</a></h5>
<div class="paragraph">
<p>These instructions are for unix operating systems running the systemd
 init manager. If configuring a Windows system, see
 <a href="#_configure_solr_as_a_windows_service">Configure Solr as a Windows Service</a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If DDF is running, stop it.</p>
</li>
<li>
<p>Edit <code>&lt;DDF_HOME&gt;/etc/custom.system.properties</code> and set <code>start.solr=false</code>.</p>
</li>
<li>
<p>Edit the file <code>&lt;DDF_HOME&gt;/solr/services/solr.service</code></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Edit the property <code>Environment=JAVA_HOME</code> and replace <code>&lt;JAVA_HOME&gt;</code> with the absolute path
to the directory where the Java Runtime Environment is installed.</p>
</li>
<li>
<p>Edit the property <code>ExecStart</code> and replace &lt;DDF_HOME&gt; with the absolute path to the <code>ddfsolr</code> file.</p>
</li>
<li>
<p>Edit the property <code>ExecStop</code> and replace &lt;DDF_HOME&gt; with the absolute path to the <code>ddfsolr</code> file.</p>
</li>
<li>
<p>Edit the property <code>User</code> and replace <code>&lt;USER&gt;</code> with the user ID of the Solr process owner.</p>
</li>
</ol>
</div>
</li>
<li>
<p>From the operating system command line, enable a Solr service using a provided configuration file.
Use the full path to the file.</p>
<div class="listingblock">
<div class="content">
<pre>systemctl enable &lt;DDF_HOME&gt;/solr/service/solr.service</pre>
</div>
</div>
</li>
<li>
<p>Start the service.</p>
<div class="listingblock">
<div class="content">
<pre>systemctl start solr</pre>
</div>
</div>
</li>
<li>
<p>Check the status of Solr</p>
<div class="listingblock">
<div class="content">
<pre>systemctl status solr</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Solr will start automatically each time the system is booted.</p>
</div>
<div class="paragraph">
<p>Follow the below steps to start and stop DDF.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_starting_from_startup_scripts"><a class="anchor" href="#_starting_from_startup_scripts"></a><a class="link" href="#_starting_from_startup_scripts">4.2.2. Starting from Startup Scripts</a></h4>
<div class="paragraph">
<p>Run one of the start scripts from a command shell to start the distribution and open a local console:</p>
</div>
<div class="listingblock">
<div class="title">Start Script: *NIX</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/ddf</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Start Script: Windows</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/ddf.bat</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_starting_as_a_background_process"><a class="anchor" href="#_starting_as_a_background_process"></a><a class="link" href="#_starting_as_a_background_process">4.2.3. Starting as a Background Process</a></h4>
<div class="paragraph">
<p>Alternatively, to run DDF as a background process, run the <code>start</code> script:</p>
</div>
<div class="listingblock">
<div class="title">*NIX</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/start</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/start.bat</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If console access is needed while running as a service, run the <code>client</code> script on the host where the DDF is running:</p>
</div>
<div class="listingblock">
<div class="title">*NIX</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/client</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/client.bat -h &lt;FQDN&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Use the <code>-h</code> option followed by the name (<code>&lt;FQDN&gt;</code>) or IP of the host where DDF is running.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_stopping_ddf"><a class="anchor" href="#_stopping_ddf"></a><a class="link" href="#_stopping_ddf">4.2.4. Stopping DDF</a></h4>
<div class="paragraph">
<p>There are two options to stop a running instance:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Call shutdown from the console:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Shut down with a prompt</div>
<div class="content">
<pre>ddf@local&gt;shutdown</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Force Shutdown without prompt</div>
<div class="content">
<pre>ddf@local&gt;shutdown -f</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Keyboard shortcut for shutdown</p>
<div class="ulist">
<ul>
<li>
<p><code>Ctrl</code>-<code>D</code></p>
</li>
<li>
<p><code>Cmd</code>-<code>D</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Or run the stop script:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">*NIX</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/stop</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows</div>
<div class="content">
<pre>&lt;DDF_HOME&gt;/bin/stop.bat</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="title">Shut Down</div>
<div class="paragraph">
<p>Do not shut down by closing the window (Windows, Unix) or using the <code>kill -9 &lt;pid&gt;</code> command (Unix).
This prevents a clean shutdown and can cause significant problems when DDF is restarted.
Always use the shutdown command or the shortcut from the command line console.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_maintaining"><a class="anchor" href="#_maintaining"></a><a class="link" href="#_maintaining">4.3. Maintaining</a></h3>
<div class="sect3">
<h4 id="_console_commands"><a class="anchor" href="#_console_commands"></a><a class="link" href="#_console_commands">4.3.1. Console Commands</a></h4>
<div class="paragraph">
<p>Once the distribution has started, administrators will have access to a powerful command line console, the Command Console.
This Command Console can be used to manage services, install new features, and manage the state of the system.</p>
</div>
<div class="paragraph">
<p>The Command Console is available to the user when the distribution is started manually or may also be accessed by using the <code>bin/client.bat</code> or <code>bin/client</code> scripts.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The majority of functionality and information available on the Admin Console is also available on the Command Line Console.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_console_command_help"><a class="anchor" href="#_console_command_help"></a><a class="link" href="#_console_command_help">4.3.1.1. Console Command Help</a></h5>
<div class="paragraph">
<p>For details on any command, type <code>help</code> then the command.
For example, <code>help search</code> (see results of this command in the example below).</p>
</div>
<div class="listingblock">
<div class="title">Example Help</div>
<div class="content">
<pre>ddf@local&gt;help search
DESCRIPTION
        catalog:search
        Searches records in the catalog provider.
SYNTAX
        catalog:search [options] SEARCH_PHRASE [NUMBER_OF_ITEMS]
ARGUMENTS
        SEARCH_PHRASE
                Phrase to query the catalog provider.
        NUMBER_OF_ITEMS
                Number of maximum records to display.
                (defaults to -1)
OPTIONS
        --help
                Display this help message
        case-sensitive, -c
                Makes the search case sensitive
        -p, -provider
                Interacts with the provider directly instead of the framework.</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>help</code> command provides a description of the provided command, along with the syntax in how to use it, arguments it accepts, and available options.</p>
</div>
</div>
<div class="sect4">
<h5 id="_cql_syntax"><a class="anchor" href="#_cql_syntax"></a><a class="link" href="#_cql_syntax">4.3.1.2. CQL Syntax</a></h5>
<div class="paragraph">
<p>The CQL syntax used with console commands should follow the OGC CQL format.
GeoServer provides a description of the grammar and examples in this <a href="http://docs.geoserver.org/stable/en/user/tutorials/cql/cql_tutorial.html">CQL Tutorial</a> <span class="image"><a class="image" href="managing.adoc#_encrypting_passwords"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="CQL Syntax"></a></span>.</p>
</div>
<div class="listingblock">
<div class="title">CQL Syntax Examples</div>
<div class="content">
<pre class="CodeRay highlight"><code>Finding all notifications that were sent due to a download:
ddf@local&gt;store:list --cql "application='Downloads'" --type notification

Deleting a specific notification:
ddf@local&gt;store:delete --cql "id='fdc150b157754138a997fe7143a98cfa'" --type notification</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_available_console_commands"><a class="anchor" href="#_available_console_commands"></a><a class="link" href="#_available_console_commands">4.3.1.3. Available Console Commands</a></h5>
<div class="paragraph">
<p>Many console commands are available, including DFF commands and the core Karaf console commands. For more information about these core Karaf commands and using the console, see the Commands documentation for Karaf 4.2.2 at <a href="https://karaf.apache.org/documentation.html">Karaf documentation</a> <span class="image"><a class="image" href="managing.adoc#_encrypting_passwords"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Available Console Commands"></a></span>.</p>
</div>
<div class="paragraph">
<p>For a complete list of all available commands, from the Command Console, press <strong>TAB</strong> and confirm when prompted.</p>
</div>
<div class="paragraph">
<p>Console commands follow a format of <code>namespace:command</code>.</p>
</div>
<div class="paragraph">
<p>To get a list of commands, type in the namespace of the desired extension then press <strong>TAB</strong>.</p>
</div>
<div class="paragraph">
<p>For example, type <code>catalog</code>, then press <strong>TAB</strong>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 17. <a id="available_console_commands"></a>DDF Console Command Namespaces</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Namespace</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_catalog_command_descriptions">catalog</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Catalog Shell Commands are meant to be used with any <code>CatalogProvider</code> implementations. They provide general useful queries and functions against the Catalog API that can be used for debugging, printing, or scripting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_migrate_command_descriptions">migrate</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Migrate Shell Commands provide functions to perform data migrations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_platform_command_descriptions">platform</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The DDF Platform Shell Commands provide generic platform management functions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_store_command_descriptions">store</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Persistence Shell Commands are meant to be used with any <code>PersistentStore</code> implementations. They provide the ability to query and delete entries from the persistence store.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_subscription_command_descriptions">subscription</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The DDF PubSub shell commands provide functions to list the registered subscriptions in DDF and to delete subscriptions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#_solr_command_descriptions">solr</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Solr commands are used for the Solr <code>CatalogProvider</code> implementation. They provide commands specific to that provider.</p></td>
</tr>
</tbody>
</table>
<div class="sect5">
<h6 id="_catalog_commands"><a class="anchor" href="#_catalog_commands"></a><a class="link" href="#_catalog_commands">4.3.1.3.1. Catalog Commands</a></h6>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Most commands can bypass the Catalog framework and interact directly with the Catalog provider if given the <code>--provider</code> option, if available.
No pre/post plugins are executed and no message validation is performed if the <code>--provider</code> option is used.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 18. <a id="_catalog_command_descriptions"></a>Catalog Command Descriptions</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:describe</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Provides a basic description of the Catalog implementation.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:dump</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Exports metacards from the local Catalog. Does not remove them. See <a href="#_date_filtering_options">date filtering options</a> below.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:envlist</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Deprecated as of ddf-catalog 2.5.0. Please use <code>platform:envlist</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Provides a list of environment variables.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:export</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Exports Metacards and history from the current Catalog.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:import</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Imports Metacards and history into the current Catalog.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:ingest</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Ingests data files into the Catalog. XML is the default transformer used. See <a href="#_ingest_command">Ingest Command</a> for detailed instructions on ingesting data and <a href="documentation.html#_available_input_transformers">Input Transformers</a> for all available transformers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:inspect</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Provides the various fields of a metacard for inspection.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:latest</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Retrieves the latest records from the Catalog based on the Core.METACARD_MODIFIED date.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:migrate</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Allows two <code>CatalogProvider</code> s to be configured and migrates the data from the primary to the secondary.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:range</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Searches by the given range arguments (exclusively).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:remove</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Deletes a record from the local Catalog.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:removeall</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Attempts to delete all records from the local Catalog.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:replicate</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Replicates data from a federated source into the local Catalog.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:search</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Searches records in the local Catalog.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:spatial</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Searches spatially the local Catalog.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:transformers</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Provides information on available transformers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>catalog:validate</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Validates an XML file against all installed validators and prints out human readable errors and warnings.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">catalog:dump Options</div>
<p>The <code>catalog:dump</code> command provides selective export of metacards based on date ranges.
The <code>--created-after</code> and <code>--created-before</code> options allow filtering on the date and time that the metacard was created, while <code>--modified-after</code> and <code>--modified-before</code> options allow filtering on the date and time that the metacard was last modified (which is the created date if no other modifications were made).
These date ranges are exclusive (i.e., if the date and time match exactly, the metacard will not be included).
<a id="_date_filtering_options"></a>The date filtering options (<code>--created-after</code>, <code>--created-before</code>, <code>--modified-after</code>, and <code>--modified-before</code>) can be used in any combination, with the export result including only metacards that match all of the provided conditions.</p>
</div>
<div class="paragraph">
<p>If no date filtering options are provided, created and modified dates are ignored, so that all metacards match.</p>
</div>
<div class="paragraph">
<div class="title">Date Syntax</div>
<p>Supported dates are taken from the common subset of ISO8601, matching the datetime from the following syntax:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>datetime          = time | date-opt-time
time              = 'T' time-element [offset]
date-opt-time     = date-element ['T' [time-element] [offset]]
date-element      = std-date-element | ord-date-element | week-date-element
std-date-element  = yyyy ['-' MM ['-' dd]]
ord-date-element  = yyyy ['-' DDD]
week-date-element = xxxx '-W' ww ['-' e]
time-element      = HH [minute-element] | [fraction]
minute-element    = ':' mm [second-element] | [fraction]
second-element    = ':' ss [fraction]
fraction          = ('.' | ',') digit+
offset            = 'Z' | (('+' | '-') HH [':' mm [':' ss [('.' | ',') SSS]]]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">catalog:dump Examples</div>
<div class="content">
<pre>ddf@local&gt;// Given we've ingested a few metacards
ddf@local&gt;catalog:latest
#       ID                                Modified Date              Title
1       a6e9ae09c792438e92a3c9d7452a449f  2019-05-29
2       b4aced45103a400da42f3b319e58c3ed  2019-05-29
3       a63ab22361e14cee9970f5284e8eb4e0  2019-05-29 myTitle

ddf@local&gt;// Filter out older files
ddf@local&gt;catalog:dump --created-after 2019-05-29 /home/user/ddf-catalog-dump
 1 file(s) dumped in 0.015 seconds

ddf@local&gt;// Filter out new file
ddf@local&gt;catalog:dump --created-before 2019-05-29 /home/user/ddf-catalog-dump
 2 file(s) dumped in 0.023 seconds

ddf@local&gt;// Choose middle file
ddf@local&gt;catalog:dump --created-after 2019-05-29 /home/user/ddf-catalog-dump
 1 file(s) dumped in 0.020 seconds

ddf@local&gt;// Modified dates work the same way
ddf@local&gt;catalog:dump --modified-after 2019-05-29 /home/user/ddf-catalog-dump
 1 file(s) dumped in 0.015 seconds

ddf@local&gt;// Can mix and match, most restrictive limits apply
ddf@local&gt;catalog:dump --modified-after 2019-05-29 /home/user/ddf-catalog-dump
 1 file(s) dumped in 0.024 seconds

ddf@local&gt;// Can use UTC instead of (or in combination with) explicit time zone offset
ddf@local&gt;catalog:dump --modified-after 2019-05-29 /home/user/ddf-catalog-dump
 2 file(s) dumped in 0.020 seconds
ddf@local&gt;catalog:dump --modified-after 2019-05-29 /home/user/ddf-catalog-dump
 1 file(s) dumped in 0.015 seconds

ddf@local&gt;// Can leave off time zone, but default (local time on server) may not match what you expect!
ddf@local&gt;catalog:dump --modified-after 2019-05-29 /home/user/ddf-catalog-dump
 1 file(s) dumped in 0.018 seconds

ddf@local&gt;// Can leave off trailing minutes / seconds
ddf@local&gt;catalog:dump --modified-after 2019-05-29 /home/user/ddf-catalog-dump
 2 file(s) dumped in 0.024 seconds

ddf@local&gt;// Can use year and day number
ddf@local&gt;catalog:dump --modified-after 2019-05-29 /home/user/ddf-catalog-dump
 2 file(s) dumped in 0.027 seconds</pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_solr_commands"><a class="anchor" href="#_solr_commands"></a><a class="link" href="#_solr_commands">4.3.1.3.2. Solr Commands</a></h6>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 19. <a id="_solr_command_descriptions"></a>Solr Command Descriptions</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr:backup</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Creates a backup of the selected Solr core/collection. This uses the Solr interface for creating
the backup. In Solr Cloud deployments the selected backup directory must exist and be shared on all
Solr nodes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>solr:restore</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Restores a Solr backup to the selected core/collection. This uses the Solr interfaces for restoring
the backup. In Solr Cloud deployments the directory containing the files to restore must exist and be
 shared on all Solr nodes.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="_subscriptions_commands"><a class="anchor" href="#_subscriptions_commands"></a><a class="link" href="#_subscriptions_commands">4.3.1.3.3. Subscriptions Commands</a></h6>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The subscriptions commands are installed when the Catalog application is installed.</p>
</div>
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 20. <a id="_subscription_command_descriptions"></a>Subscription Command Descriptions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subscriptions:delete</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deletes the subscription(s) specified by the search phrase or LDAP filter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>subscriptions:list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List the subscription(s) specified by the search phrase or LDAP filter.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">subscriptions:list Command Usage Examples</div>
<p>Note that no arguments are required for the <code>subscriptions:list</code> command.
If no argument is provided, all subscriptions will be listed.
A count of the subscriptions found matching the list command&#8217;s search phrase (or LDAP filter) is displayed first followed by each subscription&#8217;s ID.</p>
</div>
<div class="listingblock">
<div class="title">List All Subscriptions</div>
<div class="content">
<pre class="CodeRay highlight"><code>ddf@local&gt;subscriptions:list

Total subscriptions found: 3

Subscription ID
my.contextual.id.v20|http://172.18.14.169:8088/mockCatalogEventConsumerBinding?WSDL
my.contextual.id.v30|http://172.18.14.169:8088/mockEventConsumerBinding?WSDL
my.contextual.id.json|http://172.18.14.169:8088/services/json/local/event/notification</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">List a Specific Subscription by ID</div>
<div class="content">
<pre class="CodeRay highlight"><code>ddf@local&gt;subscriptions:list "my.contextual.id.v20|http://172.18.14.169:8088/mockCatalogEventConsumerBinding?WSDL"

Total subscriptions found: 1

Subscription ID
my.contextual.id.v20|http://172.18.14.169:8088/mockCatalogEventConsumerBinding?WSDL</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>It is recommended to always quote the search phrase (or LDAP filter) argument to the command so that any special characters are properly processed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">List Subscriptions Using Wildcards</div>
<div class="content">
<pre class="CodeRay highlight"><code>ddf@local&gt;subscriptions:list "my*"

Total subscriptions found: 3

Subscription ID
my.contextual.id.v20|http://172.18.14.169:8088/mockCatalogEventConsumerBinding?WSDL
my.contextual.id.v30|http://172.18.14.169:8088/mockEventConsumerBinding?WSDL
my.contextual.id.json|http://172.18.14.169:8088/services/json/local/event/notification


ddf@local&gt;subscriptions:list "*json*"

Total subscriptions found: 1

Subscription ID
my.contextual.id.json|http://172.18.14.169:8088/services/json/local/event/notification


ddf@local&gt;subscriptions:list "*WSDL"

Total subscriptions found: 2

Subscription ID
my.contextual.id.v20|http://172.18.14.169:8088/mockCatalogEventConsumerBinding?WSDL
my.contextual.id.v30|http://172.18.14.169:8088/mockEventConsumerBinding?WSDL</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example below illustrates searching for any subscription that has "json" or "v20" anywhere in its subscription ID.</p>
</div>
<div class="listingblock">
<div class="title">List Subscriptions Using an LDAP Filter</div>
<div class="content">
<pre class="CodeRay highlight"><code>ddf@local&gt;subscriptions:list -f "(|(subscription-id=*json*) (subscription-id=*v20*))"

Total subscriptions found: 2

Subscription ID
my.contextual.id.v20|http://172.18.14.169:8088/mockCatalogEventConsumerBinding?WSDL
my.contextual.id.json|http://172.18.14.169:8088/services/json/local/event/notification</code></pre>
</div>
</div>
<div class="paragraph">
<p>The example below illustrates searching for any subscription that has <code>json</code> and <code>172.18.14.169</code> in its subscription ID. This could be a handy way of finding all subscriptions for a specific site.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ddf@local&gt;subscriptions:list -f "(&amp;(subscription-id=*json*) (subscription-id=*172.18.14.169*))"

Total subscriptions found: 1

Subscription ID
my.contextual.id.json|http://172.18.14.169:8088/services/json/local/event/notification</pre>
</div>
</div>
<div class="paragraph">
<div class="title">subscriptions:delete Command Usage</div>
<p>The arguments for the <code>subscriptions:delete</code> command are the same as for the <code>list</code> command, except that a search phrase or LDAP filter must be specified.
If one of these is not specified an error will be displayed.
When the <code>delete</code> command is executed it will display each subscription ID it is deleting.
If a subscription matches the search phrase but cannot be deleted, a message in red will be displayed with the ID.
After all matching subscriptions are processed, a summary line is displayed indicating how many subscriptions were deleted out of how many matching subscriptions were found.</p>
</div>
<div class="listingblock">
<div class="title">Delete a Specific Subscription Using Its Exact ID</div>
<div class="content">
<pre class="CodeRay highlight"><code>ddf@local&gt;subscriptions:delete "my.contextual.id.json|http://172.18.14.169:8088/services/json/local/event/notification"

Deleted subscription for ID = my.contextual.id.json|http://172.18.14.169:8088/services/json/local/event/notification

Deleted 1 subscriptions out of 1 subscriptions found.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Delete Subscriptions Using Wildcards</div>
<div class="content">
<pre class="CodeRay highlight"><code>ddf@local&gt;subscriptions:delete "my*"

Deleted subscription for ID = my.contextual.id.v20|http://172.18.14.169:8088/mockCatalogEventConsumerBinding?WSDL
Deleted subscription for ID = my.contextual.id.v30|http://172.18.14.169:8088/mockEventConsumerBinding?WSDL

Deleted 2 subscriptions out of 2 subscriptions found.

ddf@local&gt;subscriptions:delete "*json*"

Deleted subscription for ID = my.contextual.id.json|http://172.18.14.169:8088/services/json/local/event/notification

Deleted 1 subscriptions out of 1 subscriptions found.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Delete All Subscriptions</div>
<div class="content">
<pre class="CodeRay highlight"><code>ddf@local&gt;subscriptions:delete *

Deleted subscription for ID = my.contextual.id.v30|http://172.18.14.169:8088/mockEventConsumerBinding?WSDL
Deleted subscription for ID = my.contextual.id.v20|http://172.18.14.169:8088/mockCatalogEventConsumerBinding?WSDL
Deleted subscription for ID = my.contextual.id.json|http://172.18.14.169:8088/services/json/local/event/notification

Deleted 3 subscriptions out of 3 subscriptions found.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Delete Subscriptions Using an LDAP Filter</div>
<div class="content">
<pre class="CodeRay highlight"><code>ddf@local&gt;subscriptions:delete -f "(&amp;(subscription-id=*WSDL) (subscription-id=*172.18.14.169*))"

Deleted subscription for ID = my.contextual.id.v20|http://172.18.14.169:8088/mockCatalogEventConsumerBinding?WSDL
Deleted subscription for ID = my.contextual.id.v30|http://172.18.14.169:8088/mockEventConsumerBinding?WSDL

Deleted 2 subscriptions out of 2 subscriptions found.</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_platform_commands"><a class="anchor" href="#_platform_commands"></a><a class="link" href="#_platform_commands">4.3.1.3.4. Platform Commands</a></h6>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 21. <a id="_platform_command_descriptions"></a>Platform Command Descriptions</caption>
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>platform:describe</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows the current platform configuration.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>platform:envlist</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides a list of environment variables.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="_persistence_store_commands"><a class="anchor" href="#_persistence_store_commands"></a><a class="link" href="#_persistence_store_commands">4.3.1.3.5. Persistence Store Commands</a></h6>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 22. <a id="_store_command_descriptions"></a>Persistence Store Command Descriptions</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Command</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>store:delete</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete entries from the persistence store that match a given CQL statement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>store:list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lists entries that are stored in the persistence store.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="_migrate_commands"><a class="anchor" href="#_migrate_commands"></a><a class="link" href="#_migrate_commands">4.3.1.3.6. Migrate Commands</a></h6>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><a id="_migrate_command_descriptions"></a>Migrate Command Descriptions</div>
<div class="paragraph">
<p>Performing a data migration creates, updates, or deletes existing metacards within the system.
A data migration needs to be run when the structure of the data changes to ensure that existing resources function as expected.
The effects of this command cannot be reverted or undone. It is highly recommended to back up the catalog before performing a data migration.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The syntax for the migration command is</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>migrate:data --list</code></p>
</li>
<li>
<p><code>migrate:data --all</code></p>
</li>
<li>
<p><code>migrate:data &lt;serviceId&gt;</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Select the <code>&lt;serviceId&gt;</code> based on which data migration task you wish to run.
To see a list of all data migrations tasks that are currently available, run the
<code>migrate:data --list</code> command.</p>
</div>
<div class="paragraph">
<p>The <code>--all</code> option runs every data migration task that is available.</p>
</div>
<div class="paragraph">
<p>The <code>--list</code> option lists all available data migration tasks.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If an error occurrs performing a data migration the specifics of that error are
available in the logs or are printed to the karaf console.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_command_scheduler"><a class="anchor" href="#_command_scheduler"></a><a class="link" href="#_command_scheduler">4.3.1.4. Command Scheduler</a></h5>
<div class="paragraph">
<p>The Command Scheduler allows administrators to schedule Command Line Commands to be run at specified intervals.</p>
</div>
<div class="paragraph">
<p>The Command Scheduler allows administrators to schedule Command Line Shell Commands to be run in a platform-independent way.
For instance, if an administrator wanted to use the Catalog commands to export all records of a Catalog to a directory, the administrator could write a cron job or a scheduled task to remote into the container and execute the command.
Writing these types of scripts are specific to the administrator&#8217;s operating system and also requires extra logic for error handling if the container is up.
The administrator can also create a Command Schedule, which currently requires only two fields.
The Command Scheduler only runs when the container is running, so there is no need to verify if the container is up.
In addition, when the container is restarted, the commands are rescheduled and executed again.
A command will be repeatedly executed indefinitely according to the configured interval until the container is shutdown or the Scheduled Command is deleted.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>There will be further attempts to execute the command according to the configured interval even if an attempt fails.
See the log for details about failures.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="_schedule_a_command"><a class="anchor" href="#_schedule_a_command"></a><a class="link" href="#_schedule_a_command">4.3.1.4.1. Schedule a Command</a></h6>
<div class="paragraph">
<p>Configure the Command Scheduler to execute a command at specific intervals.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong> (https://{FQDN}:{PORT}/admin).</p>
</li>
<li>
<p>Select the <strong>Platform</strong> application.</p>
</li>
<li>
<p>Click on the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Platform Command Scheduler</strong>.</p>
</li>
<li>
<p>Enter the command or commands to be executed in the <strong>Command</strong> text field. Commands can be separated by a semicolon and will execute in order from left to right.</p>
</li>
<li>
<p>Enter an interval in the <strong>Interval</strong> field. This can either be a Quartz Cron expression or a positive integer (seconds) (e.x. <code>0 0 0 1/1 * ? *</code> or <code>12</code>).</p>
</li>
<li>
<p>Select the interval type in the <strong>Interval Type</strong> drop-down.</p>
</li>
<li>
<p>Click the <strong>Save changes</strong> button.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Scheduling commands will be delayed by 1 minute to allow time for bundles to load when DDF is starting up.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="_updating_a_scheduled_command"><a class="anchor" href="#_updating_a_scheduled_command"></a><a class="link" href="#_updating_a_scheduled_command">4.3.1.4.2. Updating a Scheduled Command</a></h6>
<div class="paragraph">
<p>Change the timing, order, or execution of scheduled commands.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Click on the <strong>Platform</strong> application.</p>
</li>
<li>
<p>Click on the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Under the <strong>Platform Command Scheduler</strong> configuration are all of the scheduled commands.
Scheduled commands have the following syntax: <code>ddf.platform.scheduler.Command.{GUID}</code> such as <code>ddf.platform.scheduler.Command.4d60c917-003a-42e8-9367-1da0f822ca6e</code>.</p>
</li>
<li>
<p>Find the desired configuration to modify, and update fields.</p>
</li>
<li>
<p>Click the <strong>Save changes</strong> button.</p>
</li>
</ol>
</div>
</div>
<div class="sect5">
<h6 id="_output_of_scheduled_commands"><a class="anchor" href="#_output_of_scheduled_commands"></a><a class="link" href="#_output_of_scheduled_commands">4.3.1.4.3. Output of Scheduled Commands</a></h6>
<div class="paragraph">
<p>Commands that normally write out to the console will write out to the log.
For example, if an <code>echo "Hello World"</code> command is set to run every five seconds, the log contains the following:</p>
</div>
<div class="listingblock">
<div class="title">Sample Command Output in the Log</div>
<div class="content">
<pre>16:01:32,582 | INFO  | heduler_Worker-1 | ddf.platform.scheduler.CommandJob          68 | platform-scheduler   | Executing command [echo Hello World]
16:01:32,583 | INFO  | heduler_Worker-1 | ddf.platform.scheduler.CommandJob          70 | platform-scheduler   | Execution Output: Hello World
16:01:37,581 | INFO  | heduler_Worker-4 | ddf.platform.scheduler.CommandJob          68 | platform-scheduler   | Executing command [echo Hello World]
16:01:37,582 | INFO  | heduler_Worker-4 | ddf.platform.scheduler.CommandJob          70 | platform-scheduler   | Execution Output: Hello World</pre>
</div>
</div>
<div class="paragraph">
<p>In short, administrators can view the status of a run within the log as long as INFO was set as the status level.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_monitoring"><a class="anchor" href="#_monitoring"></a><a class="link" href="#_monitoring">4.4. Monitoring</a></h3>
<div class="paragraph">
<p>The DDF contains many tools to monitor system functionality, usage, and overall system health.</p>
</div>
<div class="sect3">
<h4 id="_metrics_reporting"><a class="anchor" href="#_metrics_reporting"></a><a class="link" href="#_metrics_reporting">4.4.1. Metrics Reporting</a></h4>
<div class="paragraph">
<p>Metrics are available in several formats and levels of detail.</p>
</div>
<div class="paragraph">
<p>Complete the following procedure now that several queries have been executed.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Select <strong>Platform</strong></p>
</li>
<li>
<p>Select <strong>Metrics</strong> tab</p>
</li>
<li>
<p>For individual metrics, choose the format desired from the desired timeframe column:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>PNG</p>
</li>
<li>
<p>CSV</p>
</li>
<li>
<p>XLS</p>
</li>
</ol>
</div>
</li>
<li>
<p>For a detailed report of all metrics, at the bottom of the page are selectors to choose time frame and summary level.
A report is generated in <em>xls</em> format.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_managing_logging"><a class="anchor" href="#_managing_logging"></a><a class="link" href="#_managing_logging">4.4.2. Managing Logging</a></h4>
<div class="paragraph">
<p>The DDF supports a dynamic and customizable logging system including log level, log format, log output destinations, roll over, etc.</p>
</div>
<div class="sect4">
<h5 id="_configuring_logging"><a class="anchor" href="#_configuring_logging"></a><a class="link" href="#_configuring_logging">4.4.2.1. Configuring Logging</a></h5>
<div class="paragraph">
<p>Edit the configuration file <code>&lt;DDF_HOME&gt;/etc/org.ops4j.pax.logging.cfg]</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_ddf_log_file"><a class="anchor" href="#_ddf_log_file"></a><a class="link" href="#_ddf_log_file">4.4.2.2. DDF log file</a></h5>
<div class="paragraph">
<p>The name and location of the log file can be changed with the following setting:</p>
</div>
<div class="paragraph">
<p><code>log4j.appender.out.file=&lt;DDF_HOME&gt;/data/log/ddf.log</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_controlling_log_level"><a class="anchor" href="#_controlling_log_level"></a><a class="link" href="#_controlling_log_level">4.4.2.3. Controlling log level</a></h5>
<div class="paragraph">
<p>A useful way to debug and detect issues is to change the log level:</p>
</div>
<div class="paragraph">
<p><code>log4j.rootLogger=DEBUG, out, osgi:VmLogAppender</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_controlling_the_size_of_the_log_file"><a class="anchor" href="#_controlling_the_size_of_the_log_file"></a><a class="link" href="#_controlling_the_size_of_the_log_file">4.4.2.4. Controlling the size of the log file</a></h5>
<div class="paragraph">
<p>Set the maximum size of the log file before it is rolled over by editing the value of this setting:</p>
</div>
<div class="paragraph">
<p><code>log4j.appender.out.maxFileSize=20MB</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_number_of_backup_log_files_to_keep"><a class="anchor" href="#_number_of_backup_log_files_to_keep"></a><a class="link" href="#_number_of_backup_log_files_to_keep">4.4.2.5. Number of backup log files to keep</a></h5>
<div class="paragraph">
<p>Adjust the number of backup files to keep by editing the value of this setting:</p>
</div>
<div class="paragraph">
<p><code>log4j.appender.out.maxBackupIndex=10</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_enabling_logging_of_inbound_and_outbound_soap_messages_for_the_ddf_soap_endpoints"><a class="anchor" href="#_enabling_logging_of_inbound_and_outbound_soap_messages_for_the_ddf_soap_endpoints"></a><a class="link" href="#_enabling_logging_of_inbound_and_outbound_soap_messages_for_the_ddf_soap_endpoints">4.4.2.6. Enabling logging of inbound and outbound SOAP messages for the DDF SOAP endpoints</a></h5>
<div class="paragraph">
<p>By default, the DDF start scripts include a system property enabling logging of inbound and outbound SOAP messages.</p>
</div>
<div class="paragraph">
<p><code>-Dcom.sun.xml.ws.transport.http.HttpAdapter.dump=true</code></p>
</div>
<div class="paragraph">
<p>In order to see the messages in the log, one must set the logging level for <code>org.apache.cxf.services</code> to <code>INFO</code>. By default, the logging level for <code>org.apache.cxf</code> is set to <code>WARN</code>.</p>
</div>
<div class="paragraph">
<p><code>ddf@local&gt;log:set INFO org.apache.cxf.services</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_logging_external_resources"><a class="anchor" href="#_logging_external_resources"></a><a class="link" href="#_logging_external_resources">4.4.2.7. Logging External Resources</a></h5>
<div class="paragraph">
<p>Other appenders can be selected and configured.</p>
</div>
<div class="paragraph">
<p>For more detail on configuring the log file and what is logged to the console see: <a href="http://karaf.apache.org/manual/latest/#_log">Karaf Documentation: Log</a> <span class="image"><a class="image" href="managing.adoc#_encrypting_passwords"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Monitoring"></a></span>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_enabling_http_access_logging"><a class="anchor" href="#_enabling_http_access_logging"></a><a class="link" href="#_enabling_http_access_logging">4.4.2.8. Enabling HTTP Access Logging</a></h5>
<div class="paragraph">
<p>To enable access logs for the current DDF, do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update the <code>jetty.xml</code> file located in <code>etc/</code> adding the following xml:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td>
  <td class="code"><pre><span class="tag">&lt;Get</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">handler</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
    <span class="tag">&lt;Call</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">addHandler</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
      <span class="tag">&lt;Arg&gt;</span>
        <span class="tag">&lt;New</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.eclipse.jetty.server.handler.RequestLogHandler</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
          <span class="tag">&lt;Set</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">requestLog</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
            <span class="tag">&lt;New</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">RequestLogImpl</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">org.eclipse.jetty.server.NCSARequestLog</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>
              <span class="tag">&lt;Arg&gt;</span><span class="tag">&lt;SystemProperty</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">jetty.logs</span><span class="delimiter">&quot;</span></span> <span class="attribute-name">default</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">data/log/</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span>/yyyy_mm_dd.request.log<span class="tag">&lt;/Arg&gt;</span>
              <span class="tag">&lt;Set</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">retainDays</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>90<span class="tag">&lt;/Set&gt;</span>
              <span class="tag">&lt;Set</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">append</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>true<span class="tag">&lt;/Set&gt;</span>
              <span class="tag">&lt;Set</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">extended</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>false<span class="tag">&lt;/Set&gt;</span>
              <span class="tag">&lt;Set</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">LogTimeZone</span><span class="delimiter">&quot;</span></span><span class="tag">&gt;</span>GMT<span class="tag">&lt;/Set&gt;</span>
            <span class="tag">&lt;/New&gt;</span>
          <span class="tag">&lt;/Set&gt;</span>
        <span class="tag">&lt;/New&gt;</span>
      <span class="tag">&lt;/Arg&gt;</span>
    <span class="tag">&lt;/Call&gt;</span>
  <span class="tag">&lt;/Get&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>Change the location of the logs to the desired location. In the settings above, location will default to data/log (same place where the log is located).</p>
</div>
<div class="paragraph">
<p>The log is using <em>National Center for Supercomputing Association Applications (NCSA)</em> or Common format (hence the class 'NCSARequestLog').
This is the most popular format for access logs and can be parsed by many web server analytics tools. Here is a sample output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>127.0.0.1 -  -  [14/Jan/2013:16:21:24 +0000] "GET /favicon.ico HTTP/1.1" 200 0
127.0.0.1 -  -  [14/Jan/2013:16:21:33 +0000] "GET /services/ HTTP/1.1" 200 0
127.0.0.1 -  -  [14/Jan/2013:16:21:33 +0000] "GET /services//?stylesheet=1 HTTP/1.1" 200 0
127.0.0.1 -  -  [14/Jan/2013:16:21:33 +0000] "GET /favicon.ico HTTP/1.1" 200 0</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_using_the_logviewer"><a class="anchor" href="#_using_the_logviewer"></a><a class="link" href="#_using_the_logviewer">4.4.2.9. Using the LogViewer</a></h5>
<div class="ulist">
<ul>
<li>
<p>Navigate to the Admin Console</p>
</li>
<li>
<p>Navigate to the <strong>System</strong> tab</p>
</li>
<li>
<p>Select <strong>Logs</strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The LogViewer displays the most recent 500 log messages by default, but will grow to a maximum of 5000 messages.
To view incoming logs, select the <strong>PAUSED</strong> button to toggle it to <strong>LIVE</strong> mode. Switching this back to <strong>PAUSED</strong> will prevent any new logs from being displayed in the LogViewer. Note that this only affects the logs displayed by the LogViewer and does not affect the underlying log.</p>
</div>
<div class="paragraph">
<p>Log events can be filtered by:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Log level (<code>ERROR</code>, <code>WARNING</code>, etc).</p>
<div class="ulist">
<ul>
<li>
<p>The LogViewer will display at the currently configured log level for the Karaf logs.</p>
<div class="ulist">
<ul>
<li>
<p>See <a href="#_controlling_log_level">Controlling Log Level</a> to change log level.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Log message text.</p>
</li>
<li>
<p>Bundle generating the message.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>It is not recommended to use the LogViewer if the system logger is set to a low reporting level such as <code>TRACE</code>.
The volume of messages logged will exceed the polling rate, and incoming logs may be missed.</p>
</div>
<div class="paragraph">
<p>The actual logs being polled by the LogViewer can still be accessed at <code>&lt;DDF_HOME&gt;/data/log</code></p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The LogViewer settings don&#8217;t change any of the underlying logging settings, only which messages are displayed.
It does not affect the logs generated or events captured by the system logger.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_troubleshooting"><a class="anchor" href="#_troubleshooting"></a><a class="link" href="#_troubleshooting">4.5. Troubleshooting</a></h3>
<div class="paragraph">
<p>If, after configuration, a DDF is not performing as expected, consult this table of common fixes and workarounds.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 23. General Troubleshooting</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Solution</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Unable to unzip distribution on Windows platform</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The default Windows zip utility is not compatible with the DDF distribution zip file. Use Java or a third-party zip utility.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Unable to federate on Windows Platform</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Windows default firewall is not compatible with DDF.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Ingesting more than 200,000 data files stored NFS shares may cause Java Heap Space error (Linux-only issue).</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>This is an NFS bug where it creates duplicate entries for some files when doing a file list. Depending on the OS, some Linux machines can handle the bug better and able get a list of files but get an incorrect number of files. Others would have a Java Heap Space error because there are too many file to list.</p>
</div>
<div class="paragraph">
<p>As a workaround, ingest files in batches smaller than 200,000.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Ingesting serialized data file with scientific notation in WKT string causes RuntimeException.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>WKT string with scientific notation such as POINT (-34.8932113039107 -4.77974239601E-5) won&#8217;t ingest. This occurs with serialized data format only.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Exception Starting DDF (Windows)</p>
</div>
<div class="paragraph">
<p>An exception is sometimes thrown starting DDF on a Windows machine (x86).</p>
</div>
<div class="paragraph">
<p>If using an unsupported terminal, <code>java.lang.NoClassDefFoundError: Could not initialize class org.fusesource.jansi.internal.Kernel32</code> is thrown.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Install missing Windows libraries.</p>
</div>
<div class="paragraph">
<p>Some Windows platforms are missing libraries that are required by DDF.  These libraries are provided by the <a href="http://www.microsoft.com/en-us/download/details.aspx?id=15336">Microsoft Visual C++ 2008 Redistributable Package x64</a> <span class="image"><a class="image" href="managing.adoc#_encrypting_passwords"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation"></a></span>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>CXF BusException</p>
</div>
<div class="paragraph">
<p>The following exception is thrown:
<code>org.apache.cxf.BusException: No conduit initiator</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Restart DDF.
. Shut down DDF:<br>
<code>ddf@local&gt;shutdown</code>
. Start up DDF:
<code>./ddf</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Distribution Will Not Start</p>
</div>
<div class="paragraph">
<p>DDF will not start when calling the start script defined during installation.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Complete the following procedure.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that Java is correctly installed.</p>
<div class="paragraph">
<p><code>java -version</code></p>
</div>
</li>
<li>
<p>This should return something similar to:</p>
<div class="paragraph">
<p><code>java version "1.8.0_45" Java&#8482; SE Runtime Environment (build 1.8.0_45-b14) Java HotSpot&#8482; Server VM (build 25.45-b02, mixed mode)</code></p>
</div>
</li>
<li>
<p>If running *nix, verify that bash is installed.</p>
<div class="paragraph">
<p><code>echo $SHELL</code></p>
</div>
</li>
<li>
<p>This should return:</p>
<div class="paragraph">
<p><code>/bin/bash</code></p>
</div>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Multiple <code>java.exe</code> processes running, indicating more than one DDF instance is running.</p>
</div>
<div class="paragraph">
<p>This can be caused when another DDF is not properly shut down.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Perform one or all of the following recommended solutions, as necessary.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Wait for proper shutdown of DDF prior to starting a new instance.</p>
</li>
<li>
<p>Verify running java.exe are not DDF (e.g., kill/close if necessary).</p>
</li>
<li>
<p>Utilize automated start/stop scripts to run DDF as a service.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_deleted_records_are_being_displayed_in_the_search_ui_s_search_results"><a class="anchor" href="#_deleted_records_are_being_displayed_in_the_search_ui_s_search_results"></a><a class="link" href="#_deleted_records_are_being_displayed_in_the_search_ui_s_search_results">4.5.1. Deleted Records Are Being Displayed In The Search UI&#8217;s Search Results</a></h4>
<div class="paragraph">
<p>When queries are issued by the Search UI, the query results that are returned are also cached in an internal Solr database for faster retrieval when the same query may be issued in the future.
As records are deleted from the catalog provider, this Solr cache is kept in sync by also deleting the same records from the cache if they exist.</p>
</div>
<div class="paragraph">
<p>Sometimes the cache may get out of sync with the catalog provider such that records that should have been deleted are not.
When this occurs, users of the Search UI may see stale results since these records that should have been deleted are being returned from the cache.
Records in the cache can be manually deleted using the URL commands listed below from a browser.
In these command URLs, <code>metacard_cache</code> is the name of the Solr query cache.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To delete all of the records in the Solr cache:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Deletion of all records in Solr query cache</div>
<div class="content">
<pre>https://{FQDN}:{PORT}/solr/metacard_cache/update?stream.body=&lt;delete&gt;&lt;query&gt;*:*&lt;/query&gt;&lt;/delete&gt;&amp;commit=true</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>To delete a specific record in the Solr cache by ID (specified by the original_id_txt field):</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Deletion of record in Solr query cache by ID</div>
<div class="content">
<pre>https://{FQDN}:{PORT}/solr/metacard_cache/update?stream.body=&lt;delete&gt;&lt;query&gt;original_id_txt:50ffd32b21254c8a90c15fccfb98f139&lt;/query&gt;&lt;/delete&gt;&amp;commit=true</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>To delete record(s) in the Solr cache using a query on a field in the record(s) - in this example, the <code>title_txt</code> field is being used with wildcards to search for any records with word remote in the title:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Deletion of records in Solr query cache using search criteria</div>
<div class="content">
<pre>https://{FQDN}:{PORT}/solr/metacard_cache/update?stream.body=&lt;delete&gt;&lt;query&gt;title_txt:*remote*&lt;/query&gt;&lt;/delete&gt;&amp;commit=true</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_management"><a class="anchor" href="#_data_management"></a><a class="link" href="#_data_management">5. Data Management</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ingesting_data"><a class="anchor" href="#_ingesting_data"></a><a class="link" href="#_ingesting_data">5.1. Ingesting Data</a></h3>
<div class="paragraph">
<p>Ingesting is the process of getting metacard(s) into the Catalog Framework.
Ingested files are "transformed" into a neutral format that can be searched against as well as migrated to other formats and systems.
There are multiple methods available for ingesting files into the DDF.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Guest Claims Attributes and Ingest</div>
<div class="paragraph">
<p>Ensure that appropriate <a href="developing.html#_configuring_guest_interceptor">Guest Claims</a> are configured to allow guest users to ingest data and query the catalog.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_ingest_command"><a class="anchor" href="#_ingest_command"></a><a class="link" href="#_ingest_command">5.1.1. Ingest Command</a></h4>
<div class="paragraph">
<p>The Command Console has a command-line option for ingesting data.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Ingesting with the console ingest command creates a metacard in the catalog, but does not copy the resource to the content store.
The Ingest Command requires read access to the directory being ingested. See the <a href="architecture.html#_url_resource_reader">URL Resource Reader</a> for configuring read permission entries to the directory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The syntax for the ingest command is</p>
</div>
<div class="paragraph">
<p><code>ingest -t &lt;transformer type&gt; &lt;file path&gt;</code></p>
</div>
<div class="paragraph">
<p>Select the <code>&lt;transformer type&gt;</code> based on the type of file(s) ingested.
Metadata will be extracted if it exists in a format compatible with the transformer.
The default transformer is the <a href="developing.html#_xml_input_transformer">XML input transformer</a>, which supports the metadata schema <code>catalog:metacard</code>.
To see a list of all transformers currently installed, and the file types supported by each, run the <code>catalog:transformers</code> command.</p>
</div>
<div class="paragraph">
<p>For more information on the schemas and file types(mime-types) supported by each transformer see the <a href="documentation.html#_available_input_transformers">Input Transformers</a>.</p>
</div>
<div class="paragraph">
<p>The <code>&lt;file path&gt;</code> is relative to the &lt;DDF_HOME&gt; directory.
This can be the path to a file or a directory containing the desired files.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Windows Users</div>
<div class="paragraph">
<p>On Windows, put the file path in quotes: <code>"path/to/file"</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Successful command line ingest operations are accompanied with messaging indicating how many files were ingested and how long the operations took.
The ingest command also prints which files could not be ingested with additional details recorded in the ingest log.
The default location of the log is <code>&lt;DDF_HOME&gt;/data/log/ingest_error.log</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_user_interface_ingest"><a class="anchor" href="#_user_interface_ingest"></a><a class="link" href="#_user_interface_ingest">5.1.2. User Interface Ingest</a></h4>
<div class="paragraph">
<p>Files can also be ingested directly from Intrigue.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>The Intrigue uploader is intended for the upload of products (such as images or documents), not metadata files (such as Metacard XML). A user will not be able to specify which input transformer is used to ingest the document.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="using.html#_ui_ingest">Ingesting from Intrigue</a> for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_content_directory_monitor_ingest"><a class="anchor" href="#_content_directory_monitor_ingest"></a><a class="link" href="#_content_directory_monitor_ingest">5.1.3. Content Directory Monitor Ingest</a></h4>
<div class="paragraph">
<p>The Catalog application contains a Content Directory Monitor feature that allows files placed in a single directory to be monitored and ingested automatically.
For more information about configuring a directory to be monitored, see <a href="#_configuring_the_content_directory_monitor">Configuring the Content Directory Monitor</a>.</p>
</div>
<div class="paragraph">
<p>Files placed in the monitored directory will be ingested automatically.
If a file cannot be ingested, they will be moved to an automatically-created directory named <code>.errors</code>.
More information about the ingest operations can be found in the ingest log.
The default location of the log is <code>&lt;DDF_HOME&gt;/data/log/ingest_error.log</code>.
Optionally, ingested files can be automatically moved to a directory called <code>.ingested</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_external_methods_of_ingesting_data"><a class="anchor" href="#_external_methods_of_ingesting_data"></a><a class="link" href="#_external_methods_of_ingesting_data">5.1.4. External Methods of Ingesting Data</a></h4>
<div class="paragraph">
<p>Third-party tools, such as <a href="https://curl.haxx.se/">cURL.exe</a> <span class="image"><a class="image" href="managing.adoc#_encrypting_passwords"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="External Methods of Ingesting Data"></a></span> and the <a href="https://advancedrestclient.com/">Chrome Advanced Rest Client</a> <span class="image"><a class="image" href="managing.adoc#_encrypting_passwords"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="External Methods of Ingesting Data"></a></span>, can be used to send files to DDF for ingest.</p>
</div>
<div class="listingblock">
<div class="title">Windows Example</div>
<div class="content">
<pre>curl -H "Content-type: application/json;id=geojson" -i -X POST -d @"C:\path\to\geojson_valid.json" https://{FQDN}:{PORT}/services/catalog</pre>
</div>
</div>
<div class="listingblock">
<div class="title">*NIX Example</div>
<div class="content">
<pre>curl -H "Content-type: application/json;id=geojson" -i -X POST -d @geojson_valid.json https://{FQDN}:{PORT}/services/catalog</pre>
</div>
</div>
<div class="paragraph">
<p>Where:<br>
<strong>-H</strong> adds an HTTP header. In this case, Content-type header <code>application/json;id=geojson</code> is added to match the data being sent in the request.<br>
<strong>-i</strong> requests that HTTP headers are displayed in the response.<br>
<strong>-X</strong> specifies the type of HTTP operation. For this example, it is necessary to POST (ingest) data to the server.<br>
<strong>-d</strong> specifies the data sent in the POST request. The <code>@</code> character is necessary to specify that the data is a file.<br></p>
</div>
<div class="paragraph">
<p>The last parameter is the URL of the server that will receive the data.</p>
</div>
<div class="paragraph">
<p>This should return a response similar to the following (the actual catalog ID in the id and Location URL fields will be different):</p>
</div>
<div class="listingblock">
<div class="title">Sample Response</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="http"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre>HTTP/1.1 201 Created
Content-Length: 0
Date: Mon, 22 Apr 2015 22:02:22 GMT
id: 44dc84da101c4f9d9f751e38d9c4d97b
Location: https://{FQDN}:{PORT}/services/catalog/44dc84da101c4f9d9f751e38d9c4d97b
Server: Jetty(7.5.4.v20111024)</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use a web browser to verify a file was successfully ingested. Enter the URL returned in the response&#8217;s HTTP header in a web browser. For instance in our example, it was <code>/services/catalog/44dc84da101c4f9d9f751e38d9c4d97b</code>. The browser will display the catalog entry as XML in the browser.</p>
</li>
<li>
<p>Verify the catalog entry exists by executing a query via the OpenSearch endpoint.</p>
</li>
<li>
<p>Enter the following URL in a browser <code>/services/catalog/query?q=ddf</code>. A single result, in Atom format, should be returned.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>A resource can also be ingested with metacard metadata associated with it using the multipart/mixed content type.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>curl -k -X POST -i -H "Content-Type: multipart/mixed" -F parse.resource=@/path/to/resource -F parse.metadata=@/path/to/metacard https://{FQDN}:{PORT}/services/catalog</pre>
</div>
</div>
<div class="paragraph">
<p>More information about the ingest operations can be found in the ingest log.
The default location of the log is <code>&lt;DDF_HOME&gt;/data/log/ingest_error.log</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_creating_and_managing_system_search_forms_through_karaf"><a class="anchor" href="#_creating_and_managing_system_search_forms_through_karaf"></a><a class="link" href="#_creating_and_managing_system_search_forms_through_karaf">5.1.5. Creating And Managing System Search Forms Through Karaf</a></h4>
<div class="paragraph">
<p>System search provide a way to execute queries with pre-defined templates and search criteria. System search forms are loaded
via the system and are read-only. This command allows an administrator to ingest, modify or remove system search forms within the system.</p>
</div>
<div class="listingblock">
<div class="title">Loading Forms With Defaults</div>
<div class="content">
<pre>forms:load</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Loading Forms With Overrides</div>
<div class="content">
<pre>forms:load --formsDirectory "/etc/forms" --forms "forms.json" --results "results.json"</pre>
</div>
</div>
<div class="paragraph">
<p>Where:<br>
<strong>-formsDirectory</strong> Specifies the directory in which the forms JSON and XML will reside</p>
</div>
<div class="paragraph">
<p><strong>-results</strong> Specifies the file name of the <code>results.json</code> file</p>
</div>
<div class="paragraph">
<p><strong>-forms</strong> Specifies the file name of the <code>forms.json</code> file</p>
</div>
<div class="paragraph">
<p>It&#8217;s important to note that <code>forms:load</code> will fallback to the system default location for forms, results and the forms directory. The defaults are as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>formsDirectory: "/etc/forms"
forms: "forms.json"
results: "results.json"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Example search forms and result form data can be found in <code>&lt;DDF_HOME&gt;/etc/forms/readme.md</code>.</p>
</div>
<div class="paragraph">
<p>Managing Forms</p>
</div>
<div class="paragraph">
<p>In addition to ingesting new system forms into the system, we provide the capability to manage the forms, view the forms and remove them.</p>
</div>
<div class="listingblock">
<div class="title">Viewing All Forms</div>
<div class="content">
<pre>forms:manage --list</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Removing Single Form</div>
<div class="content">
<pre>forms:manage --remove-single "METACARD_ID"</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Removing All Forms</div>
<div class="content">
<pre>forms:manage --remove-all</pre>
</div>
</div>
<div class="paragraph">
<p>Where:<br>
<strong>-list</strong> Displays the titles and IDs of all system forms in the system</p>
</div>
<div class="paragraph">
<p><strong>-remove-single</strong> Takes in a metacard ID as an argument and removes it</p>
</div>
<div class="paragraph">
<p><strong>-remove-all</strong> Removes all system forms from the system</p>
</div>
</div>
<div class="sect3">
<h4 id="_other_methods_of_ingesting_data"><a class="anchor" href="#_other_methods_of_ingesting_data"></a><a class="link" href="#_other_methods_of_ingesting_data">5.1.6. Other Methods of Ingesting Data</a></h4>
<div class="paragraph">
<p>The DDF provides endpoints for integration with other data systems and to further automate ingesting data into the catalog.
See <a href="documentation.html#_endpoint_details">Endpoints</a> for more information.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_validating_data"><a class="anchor" href="#_validating_data"></a><a class="link" href="#_validating_data">5.2. Validating Data</a></h3>
<div class="paragraph">
<p>Configure DDF to perform validation on ingested documents to verify the integrity of the metadata brought into the catalog.</p>
</div>
<div class="paragraph">
<p>Isolate metacards with data validation issues and edit the metacard to correct validation errors.
Additional attributes can be added to metacards as needed.</p>
</div>
<div class="sect3">
<h4 id="_validator_plugins_on_ingest"><a class="anchor" href="#_validator_plugins_on_ingest"></a><a class="link" href="#_validator_plugins_on_ingest">5.2.1. Validator Plugins on Ingest</a></h4>
<div class="paragraph">
<p>When Enforce Errors is enabled within the Admin Console, validator plugins ensure the data being
ingested is valid. Below is a list of the validators run against the data ingested.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title"><strong>Enforcing errors</strong>:</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>System</strong> tab.</p>
</li>
<li>
<p>Select the <strong>Configuration</strong> tab.</p>
</li>
<li>
<p>Select <strong>Metacard Validation Marker Plugin</strong>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If <strong>Enforce errors</strong> is checked, these validators below will be run on ingest.</p>
</li>
<li>
<p>If <strong>Enforce errors</strong> is not checked, these validators below will <strong>not</strong> be run on ingest.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_validators_run_on_ingest"><a class="anchor" href="#_validators_run_on_ingest"></a><a class="link" href="#_validators_run_on_ingest">5.2.1.1. Validators run on ingest</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>TDF Schema Validation Service</strong>: This service validates a TDO against a TDF schema.</p>
</li>
<li>
<p><strong>Size Validator</strong>: Validates the size of an attribute&#8217;s value(s).</p>
</li>
<li>
<p><strong>Range Validator</strong>: Validates an attribute&#8217;s value(s) against an <strong>inclusive</strong> numeric range.</p>
</li>
<li>
<p><strong>Enumeration Validator</strong>: Validates an attribute&#8217;s value(s) against a set of acceptable values.</p>
</li>
<li>
<p><strong>Future Date Validator</strong>: Validates an attribute&#8217;s value(s) against the current date and time,
validating that they are in the future.</p>
</li>
<li>
<p><strong>Past Date Validator</strong>: Validates an attribute&#8217;s value(s) against the current date and time,
validating that they are in the past.</p>
</li>
<li>
<p><strong>ISO3 Country Code Validator</strong>: Validates an attribute&#8217;s value(s) against the ISO_3166-1 Alpha3 country codes.</p>
</li>
<li>
<p><strong>Pattern Evaluator</strong>: Validates an attribute&#8217;s value(s) against a regular expression.</p>
</li>
<li>
<p><strong>Required Attributes Metacard Validator</strong>: Validates that a metacard contains certain attributes.</p>
</li>
<li>
<p><strong>Duplication Validator</strong>: Validates metacard against the local catalog for duplicates based on configurable attributes.</p>
</li>
<li>
<p><strong>Relationship Validator</strong>: Validates values that an attribute <strong>must have</strong>, <strong>can only have</strong>, and/or <strong>can&#8217;t have</strong>.</p>
</li>
<li>
<p><strong>Metacard WKT Validator</strong>: Validates a location metacard attribute (WKT string) against valid geometric shapes.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_configuring_schematron_services"><a class="anchor" href="#_configuring_schematron_services"></a><a class="link" href="#_configuring_schematron_services">5.2.2. Configuring Schematron Services</a></h4>
<div class="paragraph">
<p>DDF uses <a href="https://github.com/schematron">Schematron Validation</a> <span class="image"><a class="image" href="managing.adoc#_encrypting_passwords"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gsPFTAUZ5qyewAAAbNJREFUKM9lkj1ok1EUhp97cxtj0FIrOgQtGHUyCFJ/QBFxETsI/oGLiJMgKCrdC0VwFje3VoSCkkWKqGCQCkYaiXSIbWOrVjCR4A8mNslHvtzXoW20+MJZDjyHc973GMnjPVhrWCWFfJwr6ns1YP26OMY6Elu2GgcGa/lfCslnMxQWfpJ7NMT4G5gofJADmMm/1Oj9hwQ2Bq1F3IYkN65f5syFK6a/8Epvn4xBL3jvca3qFw0PHmP/xXvs6dtIvV7HRLvZ1BM3pdmstqUOkZnIcuDBLX41AlgsTevsqRMq1duSxEqVi5MCNP66KEmM3h5WdnpB1MuzOndyQHPfqh2g9D4nQOkXU5JEEDRphSG+7bECpL+3fp2fUmLnPsae5Th9ZLeZmXyum3fSikQiGAuuY8oyVG+EPM5kGTi61wDUftfIv6sQAl0sA8514VwEgGSq3yQB+TbGRlgTW8vmnhgrKVmMqFTKhF6rYjB2aUAYLFKpNTt9F+9NmOMHd+na1UEOp/rUaAYYYxCGWNTyND3C+aGRpVUkjCQa1R+X5j99vhvK8O+DyHui8W52bE+aqDNI4g+PWNi/V5c55QAAAABJRU5ErkJggg==" alt="This link is outside the DDF documentation" title="Configuring Schematron Services"></a></span> to validate metadata ingested into the catalog.</p>
</div>
<div class="paragraph">
<p>Custom schematron rulesets can be used to validate metacard metadata.
Multiple services can be created, and each service can have multiple rulesets associated with it.
Namespaces are used to distinguish services.
The root schematron files may be placed anywhere on the file system as long as they are configured with an absolute path.
Any root schematron files with a relative path are assumed to be relative to <code>&lt;DDF_HOME&gt;/schematron</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<div class="paragraph">
<p>Schematron files may reference other schematron files using an include statement with a relative path.
However, when using the document function within a schematron ruleset to reference another file, the path must be absolute or relative to the DDF installation home directory.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Schematron validation services are configured with a namespace and one or more schematron rulesets.
Additionally, warnings may be suppressed so that only errors are reported.</p>
</div>
<div class="paragraph">
<p>To create a new service:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong>.</p>
</li>
<li>
<p>Select <strong>Configuration</strong>.</p>
</li>
<li>
<p>Ensure that <code>catalog-schematron-plugin</code> is started.</p>
</li>
<li>
<p>Select <strong>Schematron Validation Services</strong>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_viewing_invalid_metacards"><a class="anchor" href="#_viewing_invalid_metacards"></a><a class="link" href="#_viewing_invalid_metacards">5.2.3. Viewing Invalid Metacards</a></h4>
<div class="paragraph">
<p>To view invalid metacards, query for them through Intrigue.
Viewing will require DDF-administrator privileges, if <a href="#_hiding_errors_or_warnings_from_queries">Catalog Federation Strategy</a> is configured to filter invalid metacards.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to <strong>Intrigue</strong> (https://{FQDN}:{PORT}/search).</p>
</li>
<li>
<p>Select <strong>Advanced Search</strong>.</p>
</li>
<li>
<p>Change the search property to <strong>metacard-tags</strong>.</p>
</li>
<li>
<p>Change the value of the property to <strong>invalid</strong>.</p>
</li>
<li>
<p>Select <strong>Search</strong>.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_manually_editing_attributes"><a class="anchor" href="#_manually_editing_attributes"></a><a class="link" href="#_manually_editing_attributes">5.2.4. Manually Editing Attributes</a></h4>
<div class="paragraph">
<p>For small numbers of metacards, or for metacards ingested without overrides, attributes can be edited directly.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph">
<p>Metacards retrieved from connected sources or from a
fanout proxy will appear to be editable but are not truly local
so changes will not be saved.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to <strong>Intrigue</strong>.</p>
</li>
<li>
<p>Search for the metacard(s) to be updated.</p>
</li>
<li>
<p>Select the metacards to be updated from the results list.</p>
</li>
<li>
<p>Select <strong>Summary</strong> or <strong>Details</strong>.</p>
</li>
<li>
<p>Select <strong>Actions</strong> from the <strong>Details</strong> view.</p>
</li>
<li>
<p>Select <strong>Add</strong>.</p>
</li>
<li>
<p>Select attribute from the list of available attributes.</p>
</li>
<li>
<p>Add any values desired for the attribute.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_injecting_attributes"><a class="anchor" href="#_injecting_attributes"></a><a class="link" href="#_injecting_attributes">5.2.5. Injecting Attributes</a></h4>
<div class="paragraph">
<p>To create a new attribute, it must be injected into the metacard before it is available to edit or override.</p>
</div>
<div class="paragraph">
<p>Injections are defined in a JSON-formatted file
See <a href="developing.html#_developing_attribute_injections">Developing Attribute Injections</a> for details on creating an attribute injection file.</p>
</div>
</div>
<div class="sect3">
<h4 id="_overriding_attributes"><a class="anchor" href="#_overriding_attributes"></a><a class="link" href="#_overriding_attributes">5.2.6. Overriding Attributes</a></h4>
<div class="paragraph">
<p>Automatically change the value of an existing attribute on ingest by setting an attribute override.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Attribute overrides are available for the following ingest methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Content Directory Monitor.</p>
</li>
<li>
<p>Confluence source.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Navigate to the <strong>Admin Console</strong>.</p>
</li>
<li>
<p>Select the <strong>Catalog</strong> application.</p>
</li>
<li>
<p>Select <strong>Configuration</strong>.</p>
</li>
<li>
<p>Select the configuration for the desired ingest method.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><strong>Catalog Content Directory Monitor</strong>.</p>
</li>
<li>
<p><strong>Confluence Connected Source</strong>.</p>
</li>
<li>
<p><strong>Confluence Federated Source</strong>.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Select <strong>Attribute Overrides</strong>.</p>
</li>
<li>
<p>Enter the key-value pair for the attribute to override and the value(s) to set.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_backing_up_the_catalog"><a class="anchor" href="#_backing_up_the_catalog"></a><a class="link" href="#_backing_up_the_catalog">5.3. Backing Up the Catalog</a></h3>
<div class="paragraph">
<p>To backup local catalog records, a Catalog Backup Plugin is available.
It is not installed by default for performance reasons.</p>
</div>
<div class="paragraph">
<p>See <a href="developing.html#_catalog_backup_plugin">Catalog Backup Plugin</a> for installation and configuration instructions).</p>
</div>
</div>
<div class="sect2">
<h3 id="_removing_expired_records_from_the_catalog"><a class="anchor" href="#_removing_expired_records_from_the_catalog"></a><a class="link" href="#_removing_expired_records_from_the_catalog">5.4. Removing Expired Records from the Catalog</a></h3>
<div class="paragraph">
<p>DDF has many ways to remove expired records from the underlying Catalog data store.
Nevertheless, the benefits of data standardization is that an attempt can be made to remove records without the need to know any vendor-specific information.
Whether the data store is a search server, a No-SQL database, or a relational database, expired records can be removed universally using the Catalog API and the Catalog Commands.</p>
</div>
</div>
<div class="sect2">
<h3 id="_migrating_data"><a class="anchor" href="#_migrating_data"></a><a class="link" href="#_migrating_data">5.5. Migrating Data</a></h3>
<div class="paragraph">
<p>Data migration is the process of moving metacards from one catalog provider to another.
It is also the process of translating metadata from one format to another.
Data migration is necessary when a user decides to use metadata from one catalog provider in another catalog provider.</p>
</div>
<div class="paragraph">
<p>The process for changing catalog providers involves first exporting the metadata from the original catalog provider and ingesting it into another.</p>
</div>
<div class="paragraph">
<p>From the Command Console, use these commands to export data from the existing catalog and then import into the new one.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>catalog:export</code></dt>
<dd>
<p>Exports Metacards and history from the current Catalog to an auto-generated file inside &lt;DDF_HOME&gt;.<br>
Use the <code>catalog:export --help</code> command to see all available options.</p>
</dd>
<dt class="hdlist1"><code>catalog:import &lt;FILE_NAME&gt;</code></dt>
<dd>
<p>Imports Metacards and history into the current Catalog.<br>
Use the <code>catalog:import --help</code> command to see all available options.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_automatically_added_metacard_attributes"><a class="anchor" href="#_automatically_added_metacard_attributes"></a><a class="link" href="#_automatically_added_metacard_attributes">5.6. Automatically Added Metacard Attributes</a></h3>
<div class="paragraph">
<p>This section describes how attributes are automatically added to metacards.</p>
</div>
<div class="sect3">
<h4 id="_attributes_added_on_ingest"><a class="anchor" href="#_attributes_added_on_ingest"></a><a class="link" href="#_attributes_added_on_ingest">5.6.1. Attributes Added on Ingest</a></h4>
<div class="paragraph">
<p>A metacard is first created and populated by parsing the ingested resource with an <a href="#_attributes_added_by_input_transformers">Input Transformer</a>.<br>
Then <a href="#_attributes_added_by_attribute_injection">Attributes Are Injected</a>, <a href="developing.html#_metacard_groomer">Default Attribute Types</a> are applied, and <a href="#_attributes_added_by_attribute_overrides_ingest">Attribute are Overridden</a>.<br>
Finally the metacard is passed through a series of <a href="architecture.html#_attributes_added_by_pre_authorization_plugins">Pre-Authorization Plugins</a> and <a href="architecture.html#_attributes_added_by_pre_ingest_plugins">Pre-Ingest Plugins</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="managing.adoc#_encrypting_passwords"><img src="data:image/png;base64,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" alt="Ingest Attribute Flow" width="520" height="560"></a>
</div>
<div class="title">Ingest Attribute Flow</div>
</div>
<div class="sect4">
<h5 id="_attributes_added_by_input_transformers"><a class="anchor" href="#_attributes_added_by_input_transformers"></a><a class="link" href="#_attributes_added_by_input_transformers">5.6.1.1. Attributes Added by Input Transformers</a></h5>
<div class="paragraph">
<p><a href="architecture.html#_available_input_transformers">Input Transformers</a> create and populate metacards by parsing a resource.
See <a href="metadata.html#_file_format_specific_attributes">File Format Specific Attributes</a> to see the attributes used for specific file formats.</p>
</div>
<div class="paragraph">
<p>DDF chooses which input transformer to use by:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Resolving the mimetype for the resource.</p>
</li>
<li>
<p>Gathering all of the input transformers associated with the resolved mimetype. See <a href="metadata.html#_all_file_formats_supported">Supported File Formats</a> for a list of supported mimetypes.</p>
</li>
<li>
<p>Iterating through the transformers until a successful transformation is performed.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The first transformer that can successfully create a metacard from the ingested resource is chosen.
If no transformer can successfully transform the resource, the ingest process fails.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>Each of the ingest methods have their own subtle differences when resolving the resource&#8217;s mimetype/input transformer.<br>
For example: a resource ingested through Intrigue may not produce the same metacard attributes as the same resource ingested through the Content Directory Monitor.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_added_by_attribute_injection"><a class="anchor" href="#_attributes_added_by_attribute_injection"></a><a class="link" href="#_attributes_added_by_attribute_injection">5.6.1.2. Attributes Added by Attribute Injection</a></h5>
<div class="paragraph">
<p><a href="#_injecting_attributes">Attribute Injection</a> is the act of adding attributes to a metacard&#8217;s <a href="documentation.html#_metacard_type">Metacard Type</a>.
A <a href="documentation.html#_metacard_type">Metacard Type</a> indicates the attributes available for a particular metacard, and is created at the same time as the metacard.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Attribute values can only be set/modified if the attribute exists in the metacard&#8217;s metacard type.</p>
</div>
<div class="paragraph">
<p>Attributes are initially injected with blank values.
However, if an attempt is made to inject an attribute that already exists, the attribute will retain the original value.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="metadata.html#_catalog_taxonomy_definitions">Catalog Taxonomy Definitions</a> for a list of attributes injected by default.<br>
See <a href="developing.html#_developing_attribute_injections">Developing Attribute Injections</a> to learn how to configure attribute injections.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_added_by_default_attribute_types"><a class="anchor" href="#_attributes_added_by_default_attribute_types"></a><a class="link" href="#_attributes_added_by_default_attribute_types">5.6.1.3. Attributes Added by Default Attribute Types</a></h5>
<div class="paragraph">
<p><a href="developing.html#_metacard_groomer">Developing Default Attribute Types</a> is a configurable way to assign default values to a metacard&#8217;s attributes.</p>
</div>
<div class="paragraph">
<p>Note that the attribute must be part of the metacard&#8217;s <a href="documentation.html#_metacard_type">Metacard Type</a> before it can be assigned a default value.<br>
See <a href="#_attributes_added_by_attribute_injection">Attributes Added By Attribute Injection</a> for more information about injecting attributes into the metacard type.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_added_by_attribute_overrides_ingest"><a class="anchor" href="#_attributes_added_by_attribute_overrides_ingest"></a><a class="link" href="#_attributes_added_by_attribute_overrides_ingest">5.6.1.4. Attributes Added by Attribute Overrides (Ingest)</a></h5>
<div class="paragraph">
<p><a href="#_overriding_attributes">Attribute Overriding</a> is the act of replacing existing attribute values with a new value.</p>
</div>
<div class="paragraph">
<p>Attribute overrides can be configured for the <a href="#_content_directory_monitor">Content Directory Monitor</a>.</p>
</div>
<div class="paragraph">
<p>Note that the attribute must be part of the metacard&#8217;s <a href="documentation.html#_metacard_type">Metacard Type</a> before it can be overridden.<br>
See <a href="#_attributes_added_by_attribute_injection">Attributes Added By Attribute Injection</a> for more information about injecting attributes into the metacard type.</p>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_added_by_pre_authorization_plugins"><a class="anchor" href="#_attributes_added_by_pre_authorization_plugins"></a><a class="link" href="#_attributes_added_by_pre_authorization_plugins">5.6.1.5. Attributes Added by Pre-Authorization Plugins</a></h5>
<div class="paragraph">
<p>The <a href="architecture.html#_pre_authorization_plugins">Pre-Authorization Plugins</a> provide an opportunity to take action before any security rules are applied.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="architecture.html#_metacard_ingest_network_plugin">Metacard Ingest Network Plugin</a> is a configurable plugin that allows the conditional insertion of new attributes on metacards during ingest based on network information from the ingest request.
See <a href="architecture.html#_configuring_the_metacard_ingest_network_plugin">Configuring the Metacard Ingest Network Plugin</a> for configuration details.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_attributes_added_by_pre_ingest_plugins"><a class="anchor" href="#_attributes_added_by_pre_ingest_plugins"></a><a class="link" href="#_attributes_added_by_pre_ingest_plugins">5.6.1.6. Attributes Added by Pre-Ingest Plugins</a></h5>
<div class="paragraph">
<p>The <a href="architecture.html#_pre_ingest_plugins">Pre-Ingest Plugins</a> are responsible for setting attribute fields on metacards before they are stored in the catalog.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="architecture.html#_expiration_date_pre_ingest_plugin">Expiration Date Pre-Ingest Plugin</a> adds or updates expiration dates which can be used later for archiving old data.</p>
</li>
<li>
<p>The <a href="architecture.html#_geocoder_plugin">Geocoder Plugin</a> is responsible for populating the metacards <code>Location.COUNTRY_CODE</code> attribute if the metacard has an associated location. If the metacards country code is already populated, the plugin will not override it.</p>
</li>
<li>
<p>The <a href="architecture.html#_identification_plugin">Identification Plugin</a> assigns IDs to registry metacards and adds/updates IDs on create and update.</p>
</li>
<li>
<p>The <a href="architecture.html#_metacard_groomer">Metacard Groomer</a> plugin adds/updates IDs and timestamps to the created metacard.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_attributes_added_on_query"><a class="anchor" href="#_attributes_added_on_query"></a><a class="link" href="#_attributes_added_on_query">5.6.2. Attributes Added on Query</a></h4>
<div class="paragraph">
<p>Metacards resulting from a query will undergo <a href="#_attributes_added_by_attribute_injection">Attribute Injection</a>, then have their <a href="#_attributes_added_by_attribute_overrides_query">Attributes Overridden</a>.</p>
</div>
<div class="sect4">
<h5 id="_attributes_added_by_attribute_overrides_query"><a class="anchor" href="#_attributes_added_by_attribute_overrides_query"></a><a class="link" href="#_attributes_added_by_attribute_overrides_query">5.6.2.1. Attributes Added by Attribute Overrides (Query)</a></h5>
<div class="paragraph">
<p><a href="#_overriding_attributes">Attribute Overriding</a> is the act of replacing existing attribute values with a new value.</p>
</div>
<div class="paragraph">
<p>Attribute overrides can be configured for query results from the following <a href="#_connecting_to_sources">Sources</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_federated_source_for_atlassian_confluence_r">Federated Source For Atlassian Confluence</a>.</p>
</li>
<li>
<p><a href="#_csw_specification_profile_federated_source">CSW Specification Profile Federated Source</a>.</p>
</li>
<li>
<p><a href="#_gmd_csw_source">GMD CSW Federated Source</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that the attribute must be part of the metacard&#8217;s <a href="documentation.html#_metacard_type">Metacard Type</a> before it can be overridden.<br>
See <a href="#_attributes_added_by_attribute_injection">Attributes Added By Attribute Injection</a> for more information about injecting attributes into the metacard type.</p>
</div>
<script type="text/javascript" src="../../webjars/iframe-resizer/2.6.2/js/iframeResizer.contentWindow.min.js"></script>
<script type="text/javascript" >
"use strict";

function makeTocExpandable() {
	var level = 1;

	while (level < 6) {
	const tocHeading = document.querySelectorAll(".sectlevel" + level + ">li");
		for (var i = tocHeading.length - 1; i >= 0; i--) {
			const childLevels = tocHeading[i].querySelector("ul li");
			if (childLevels) {
				tocHeading[i].innerHTML ='<a class="expandable">+ </a>' + tocHeading[i].innerHTML + '';
			}
		}
		const levelUp = level + 1
		const higherlevels = document.querySelectorAll(".sectlevel" + levelUp );

		for (var i = higherlevels.length - 1; i >= 0; i--) {
			higherlevels[i].classList.add("collapsed");
		}
		level++;
	}

}

function expandList(section) {
	const currentSection = section.target.parentNode;

	currentSection.querySelector("ul").classList.remove("collapsed");
	currentSection.querySelector(".expandable").innerHTML = "- ";
	currentSection.querySelector(".expandable").removeEventListener("click", expandList);
	currentSection.querySelector(".expandable").classList.add("expanded");
	currentSection.querySelector(".expanded").classList.remove("expandable");
	currentSection.querySelector(".expanded").addEventListener("click", collapseList);
}

function collapseList(section) {
	const currentSection = section.target.parentNode;

	currentSection.querySelector("ul").classList.add("collapsed");
	currentSection.querySelector(".expanded").innerHTML = "+ ";
	currentSection.querySelector(".expanded").removeEventListener("click", collapseList);
	currentSection.querySelector(".expanded").classList.add("expandable");
	currentSection.querySelector(".expandable").classList.remove("expanded");
	currentSection.querySelector(".expandable").addEventListener("click", expandList);
}

function addTocListeners() {
	const expandableSections = document.querySelectorAll(".expandable")
	const expandedSections = document.querySelectorAll(".expanded")

	for (var i = expandableSections.length - 1; i >= 0; i--) {
		expandableSections[i].addEventListener("click", expandList);
	}
	for (var i = expandedSections.length - 1; i >= 0; i--) {
		expandedSections[i].addEventListener("click", collapseList);
	}
}

function wrapScrollElements(selector) {
  document.querySelectorAll( selector ).forEach( elem => {
    const div = document.createElement( 'div' );
    div.className = "scroll-wrapper";
    elem.parentElement.insertBefore(div, elem);
    div.appendChild(elem);
  });
}

document.onreadystatechange = () => {
	if (document.readyState === 'complete') {
	  // The page is fully loaded
		makeTocExpandable();
		addTocListeners();
	    wrapScrollElements('table.tableblock');
	    wrapScrollElements('.CodeRay');
	    wrapScrollElements('.admonitionblock');
	}
};
</script>
<style>
.collapsed {display: none;}
.scroll-wrapper {overflow-x: auto;}
</style>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Copyright (c) Codice Foundation. This work is licensed under a Creative Commons Attribution 4.0 International License (http://creativecommons.org/licenses/by/4.0). This page last updated: 2019-05-29 02:02:39 UTC
</div>
</div>
</body>
</html>